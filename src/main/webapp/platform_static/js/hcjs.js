function selectbox(e,t){stopBubble(t);var i=$(e),n=i.parent(),s=$("ul",n.parent());if(s.length>0)"none"==s.css("display")?s.show():s.hide();else{s=$("<ul></ul>"),n.after(s);for(var o=$("select",n),a=0;o[0].options.length>a;a++){var r=$('<li idx="'+a+'">'+o[0].options[a].text+"</li>");$.browser.msie&&r.hover(function(){$(this).addClass("over")},function(){$(this).removeClass("over")}),r.bind("click.mSelect_li",function(e){stopBubble(e),o[0].options[$(this).attr("idx")].selected=!0,s.hide(),o.trigger("change")}),s.append(r),$("body").bind("click.select",function(){s.hide()})}}}(function(e,t){function i(e){var t=ft[e]={};return Z.each(e.split(tt),function(e,i){t[i]=!0}),t}function n(e,i,n){if(n===t&&1===e.nodeType){var s="data-"+i.replace(mt,"-$1").toLowerCase();if(n=e.getAttribute(s),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:gt.test(n)?Z.parseJSON(n):n}catch(o){}Z.data(e,i,n)}else n=t}return n}function s(e){var t;for(t in e)if(("data"!==t||!Z.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function o(){return!1}function a(){return!0}function r(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function l(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function c(e,t,i){if(t=t||0,Z.isFunction(t))return Z.grep(e,function(e,n){var s=!!t.call(e,n,e);return s===i});if(t.nodeType)return Z.grep(e,function(e){return e===t===i});if("string"==typeof t){var n=Z.grep(e,function(e){return 1===e.nodeType});if(At.test(t))return Z.filter(t,n,!i);t=Z.filter(t,n)}return Z.grep(e,function(e){return Z.inArray(e,t)>=0===i})}function d(e){var t=Ht.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function u(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function h(e,t){if(1===t.nodeType&&Z.hasData(e)){var i,n,s,o=Z._data(e),a=Z._data(t,o),r=o.events;if(r){delete a.handle,a.events={};for(i in r)for(n=0,s=r[i].length;s>n;n++)Z.event.add(t,i,r[i][n])}a.data&&(a.data=Z.extend({},a.data))}}function p(e,t){var i;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),i=t.nodeName.toLowerCase(),"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),Z.support.html5Clone&&e.innerHTML&&!Z.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&Kt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.selected=e.defaultSelected:"input"===i||"textarea"===i?t.defaultValue=e.defaultValue:"script"===i&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(Z.expando))}function f(e){return e.getElementsByTagName!==t?e.getElementsByTagName("*"):e.querySelectorAll!==t?e.querySelectorAll("*"):[]}function g(e){Kt.test(e.type)&&(e.defaultChecked=e.checked)}function m(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),n=t,s=vi.length;s--;)if(t=vi[s]+i,t in e)return t;return n}function v(e,t){return e=t||e,"none"===Z.css(e,"display")||!Z.contains(e.ownerDocument,e)}function b(e,t){for(var i,n,s=[],o=0,a=e.length;a>o;o++)i=e[o],i.style&&(s[o]=Z._data(i,"olddisplay"),t?(s[o]||"none"!==i.style.display||(i.style.display=""),""===i.style.display&&v(i)&&(s[o]=Z._data(i,"olddisplay",C(i.nodeName)))):(n=ii(i,"display"),s[o]||"none"===n||Z._data(i,"olddisplay",n)));for(o=0;a>o;o++)i=e[o],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?s[o]||"":"none"));return e}function y(e,t,i){var n=di.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function w(e,t,i,n){for(var s=i===(n?"border":"content")?4:"width"===t?1:0,o=0;4>s;s+=2)"margin"===i&&(o+=Z.css(e,i+mi[s],!0)),n?("content"===i&&(o-=parseFloat(ii(e,"padding"+mi[s]))||0),"margin"!==i&&(o-=parseFloat(ii(e,"border"+mi[s]+"Width"))||0)):(o+=parseFloat(ii(e,"padding"+mi[s]))||0,"padding"!==i&&(o+=parseFloat(ii(e,"border"+mi[s]+"Width"))||0));return o}function _(e,t,i){var n="width"===t?e.offsetWidth:e.offsetHeight,s=!0,o=Z.support.boxSizing&&"border-box"===Z.css(e,"boxSizing");if(0>=n||null==n){if(n=ii(e,t),(0>n||null==n)&&(n=e.style[t]),ui.test(n))return n;s=o&&(Z.support.boxSizingReliable||n===e.style[t]),n=parseFloat(n)||0}return n+w(e,t,i||(o?"border":"content"),s)+"px"}function C(e){if(pi[e])return pi[e];var t=Z("<"+e+">").appendTo(F.body),i=t.css("display");return t.remove(),("none"===i||""===i)&&(ni=F.body.appendChild(ni||Z.extend(F.createElement("iframe"),{frameBorder:0,width:0,height:0})),si&&ni.createElement||(si=(ni.contentWindow||ni.contentDocument).document,si.write("<!doctype html><html><body>"),si.close()),t=si.body.appendChild(si.createElement(e)),i=ii(t,"display"),F.body.removeChild(ni)),pi[e]=i,i}function x(e,t,i,n){var s;if(Z.isArray(t))Z.each(t,function(t,s){i||wi.test(e)?n(e,s):x(e+"["+("object"==typeof s?t:"")+"]",s,i,n)});else if(i||"object"!==Z.type(t))n(e,t);else for(s in t)x(e+"["+s+"]",t[s],i,n)}function k(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,s,o,a=t.toLowerCase().split(tt),r=0,l=a.length;if(Z.isFunction(i))for(;l>r;r++)n=a[r],o=/^\+/.test(n),o&&(n=n.substr(1)||"*"),s=e[n]=e[n]||[],s[o?"unshift":"push"](i)}}function N(e,i,n,s,o,a){o=o||i.dataTypes[0],a=a||{},a[o]=!0;for(var r,l=e[o],c=0,d=l?l.length:0,u=e===Ai;d>c&&(u||!r);c++)r=l[c](i,n,s),"string"==typeof r&&(!u||a[r]?r=t:(i.dataTypes.unshift(r),r=N(e,i,n,s,r,a)));return!u&&r||a["*"]||(r=N(e,i,n,s,"*",a)),r}function T(e,i){var n,s,o=Z.ajaxSettings.flatOptions||{};for(n in i)i[n]!==t&&((o[n]?e:s||(s={}))[n]=i[n]);s&&Z.extend(!0,e,s)}function $(e,i,n){var s,o,a,r,l=e.contents,c=e.dataTypes,d=e.responseFields;for(o in d)o in n&&(i[d[o]]=n[o]);for(;"*"===c[0];)c.shift(),s===t&&(s=e.mimeType||i.getResponseHeader("content-type"));if(s)for(o in l)if(l[o]&&l[o].test(s)){c.unshift(o);break}if(c[0]in n)a=c[0];else{for(o in n){if(!c[0]||e.converters[o+" "+c[0]]){a=o;break}r||(r=o)}a=a||r}return a?(a!==c[0]&&c.unshift(a),n[a]):t}function S(e,t){var i,n,s,o,a=e.dataTypes.slice(),r=a[0],l={},c=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a[1])for(i in e.converters)l[i.toLowerCase()]=e.converters[i];for(;s=a[++c];)if("*"!==s){if("*"!==r&&r!==s){if(i=l[r+" "+s]||l["* "+s],!i)for(n in l)if(o=n.split(" "),o[1]===s&&(i=l[r+" "+o[0]]||l["* "+o[0]])){i===!0?i=l[n]:l[n]!==!0&&(s=o[0],a.splice(c--,0,s));break}if(i!==!0)if(i&&e["throws"])t=i(t);else try{t=i(t)}catch(d){return{state:"parsererror",error:i?d:"No conversion from "+r+" to "+s}}}r=s}return{state:"success",data:t}}function D(){try{return new e.XMLHttpRequest}catch(t){}}function P(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function z(){return setTimeout(function(){Yi=t},0),Yi=Z.now()}function I(e,t){Z.each(t,function(t,i){for(var n=(Ji[t]||[]).concat(Ji["*"]),s=0,o=n.length;o>s;s++)if(n[s].call(e,t,i))return})}function E(e,t,i){var n,s=0,o=Zi.length,a=Z.Deferred().always(function(){delete r.elem}),r=function(){for(var t=Yi||z(),i=Math.max(0,l.startTime+l.duration-t),n=i/l.duration||0,s=1-n,o=0,r=l.tweens.length;r>o;o++)l.tweens[o].run(s);return a.notifyWith(e,[l,s,i]),1>s&&r?i:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:Yi||z(),duration:i.duration,tweens:[],createTween:function(t,i){var n=Z.Tween(e,l.opts,t,i,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(n),n},stop:function(t){for(var i=0,n=t?l.tweens.length:0;n>i;i++)l.tweens[i].run(1);return t?a.resolveWith(e,[l,t]):a.rejectWith(e,[l,t]),this}}),c=l.props;for(R(c,l.opts.specialEasing);o>s;s++)if(n=Zi[s].call(l,e,c,l.opts))return n;return I(l,c),Z.isFunction(l.opts.start)&&l.opts.start.call(e,l),Z.fx.timer(Z.extend(r,{anim:l,queue:l.opts.queue,elem:e})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function R(e,t){var i,n,s,o,a;for(i in e)if(n=Z.camelCase(i),s=t[n],o=e[i],Z.isArray(o)&&(s=o[1],o=e[i]=o[0]),i!==n&&(e[n]=o,delete e[i]),a=Z.cssHooks[n],a&&"expand"in a){o=a.expand(o),delete e[n];for(i in o)i in e||(e[i]=o[i],t[i]=s)}else t[n]=s}function O(e,t,i){var n,s,o,a,r,l,c,d,u,h=this,p=e.style,f={},g=[],m=e.nodeType&&v(e);i.queue||(d=Z._queueHooks(e,"fx"),null==d.unqueued&&(d.unqueued=0,u=d.empty.fire,d.empty.fire=function(){d.unqueued||u()}),d.unqueued++,h.always(function(){h.always(function(){d.unqueued--,Z.queue(e,"fx").length||d.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===Z.css(e,"display")&&"none"===Z.css(e,"float")&&(Z.support.inlineBlockNeedsLayout&&"inline"!==C(e.nodeName)?p.zoom=1:p.display="inline-block")),i.overflow&&(p.overflow="hidden",Z.support.shrinkWrapBlocks||h.done(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(n in t)if(o=t[n],Ki.exec(o)){if(delete t[n],l=l||"toggle"===o,o===(m?"hide":"show"))continue;g.push(n)}if(a=g.length){r=Z._data(e,"fxshow")||Z._data(e,"fxshow",{}),"hidden"in r&&(m=r.hidden),l&&(r.hidden=!m),m?Z(e).show():h.done(function(){Z(e).hide()}),h.done(function(){var t;Z.removeData(e,"fxshow",!0);for(t in f)Z.style(e,t,f[t])});for(n=0;a>n;n++)s=g[n],c=h.createTween(s,m?r[s]:0),f[s]=r[s]||Z.style(e,s),s in r||(r[s]=c.start,m&&(c.end=c.start,c.start="width"===s||"height"===s?1:0))}}function A(e,t,i,n,s){return new A.prototype.init(e,t,i,n,s)}function L(e,t){var i,n={height:e},s=0;for(t=t?1:0;4>s;s+=2-t)i=mi[s],n["margin"+i]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function M(e){return Z.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var H,j,F=e.document,W=e.location,B=e.navigator,q=e.jQuery,U=e.$,V=Array.prototype.push,Y=Array.prototype.slice,X=Array.prototype.indexOf,K=Object.prototype.toString,Q=Object.prototype.hasOwnProperty,G=String.prototype.trim,Z=function(e,t){return new Z.fn.init(e,t,H)},J=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,et=/\S/,tt=/\s+/,it=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,nt=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,st=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ot=/^[\],:{}\s]*$/,at=/(?:^|:|,)(?:\s*\[)+/g,rt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,lt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,ct=/^-ms-/,dt=/-([\da-z])/gi,ut=function(e,t){return(t+"").toUpperCase()},ht=function(){F.addEventListener?(F.removeEventListener("DOMContentLoaded",ht,!1),Z.ready()):"complete"===F.readyState&&(F.detachEvent("onreadystatechange",ht),Z.ready())},pt={};Z.fn=Z.prototype={constructor:Z,init:function(e,i,n){var s,o,a;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"==typeof e){if(s="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:nt.exec(e),!s||!s[1]&&i)return!i||i.jquery?(i||n).find(e):this.constructor(i).find(e);if(s[1])return i=i instanceof Z?i[0]:i,a=i&&i.nodeType?i.ownerDocument||i:F,e=Z.parseHTML(s[1],a,!0),st.test(s[1])&&Z.isPlainObject(i)&&this.attr.call(e,i,!0),Z.merge(this,e);if(o=F.getElementById(s[2]),o&&o.parentNode){if(o.id!==s[2])return n.find(e);this.length=1,this[0]=o}return this.context=F,this.selector=e,this}return Z.isFunction(e)?n.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),Z.makeArray(e,this))},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return Y.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,i){var n=Z.merge(this.constructor(),e);return n.prevObject=this,n.context=this.context,"find"===t?n.selector=this.selector+(this.selector?" ":"")+i:t&&(n.selector=this.selector+"."+t+"("+i+")"),n},each:function(e,t){return Z.each(this,e,t)},ready:function(e){return Z.ready.promise().done(e),this},eq:function(e){return e=+e,-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(Y.apply(this,arguments),"slice",Y.call(arguments).join(","))},map:function(e){return this.pushStack(Z.map(this,function(t,i){return e.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:V,sort:[].sort,splice:[].splice},Z.fn.init.prototype=Z.fn,Z.extend=Z.fn.extend=function(){var e,i,n,s,o,a,r=arguments[0]||{},l=1,c=arguments.length,d=!1;for("boolean"==typeof r&&(d=r,r=arguments[1]||{},l=2),"object"==typeof r||Z.isFunction(r)||(r={}),c===l&&(r=this,--l);c>l;l++)if(null!=(e=arguments[l]))for(i in e)n=r[i],s=e[i],r!==s&&(d&&s&&(Z.isPlainObject(s)||(o=Z.isArray(s)))?(o?(o=!1,a=n&&Z.isArray(n)?n:[]):a=n&&Z.isPlainObject(n)?n:{},r[i]=Z.extend(d,a,s)):s!==t&&(r[i]=s));return r},Z.extend({noConflict:function(t){return e.$===Z&&(e.$=U),t&&e.jQuery===Z&&(e.jQuery=q),Z},isReady:!1,readyWait:1,holdReady:function(e){e?Z.readyWait++:Z.ready(!0)},ready:function(e){if(e===!0?!--Z.readyWait:!Z.isReady){if(!F.body)return setTimeout(Z.ready,1);Z.isReady=!0,e!==!0&&--Z.readyWait>0||(j.resolveWith(F,[Z]),Z.fn.trigger&&Z(F).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===Z.type(e)},isArray:Array.isArray||function(e){return"array"===Z.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":pt[K.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==Z.type(e)||e.nodeType||Z.isWindow(e))return!1;try{if(e.constructor&&!Q.call(e,"constructor")&&!Q.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}var n;for(n in e);return n===t||Q.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,i){var n;return e&&"string"==typeof e?("boolean"==typeof t&&(i=t,t=0),t=t||F,(n=st.exec(e))?[t.createElement(n[1])]:(n=Z.buildFragment([e],t,i?null:[]),Z.merge([],(n.cacheable?Z.clone(n.fragment):n.fragment).childNodes))):null},parseJSON:function(i){return i&&"string"==typeof i?(i=Z.trim(i),e.JSON&&e.JSON.parse?e.JSON.parse(i):ot.test(i.replace(rt,"@").replace(lt,"]").replace(at,""))?Function("return "+i)():(Z.error("Invalid JSON: "+i),t)):null},parseXML:function(i){var n,s;if(!i||"string"!=typeof i)return null;try{e.DOMParser?(s=new DOMParser,n=s.parseFromString(i,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(i))}catch(o){n=t}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||Z.error("Invalid XML: "+i),n},noop:function(){},globalEval:function(t){t&&et.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ct,"ms-").replace(dt,ut)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,i,n){var s,o=0,a=e.length,r=a===t||Z.isFunction(e);if(n)if(r){for(s in e)if(i.apply(e[s],n)===!1)break}else for(;a>o&&i.apply(e[o++],n)!==!1;);else if(r){for(s in e)if(i.call(e[s],s,e[s])===!1)break}else for(;a>o&&i.call(e[o],o,e[o++])!==!1;);return e},trim:G&&!G.call("﻿ ")?function(e){return null==e?"":G.call(e)}:function(e){return null==e?"":(e+"").replace(it,"")},makeArray:function(e,t){var i,n=t||[];return null!=e&&(i=Z.type(e),null==e.length||"string"===i||"function"===i||"regexp"===i||Z.isWindow(e)?V.call(n,e):Z.merge(n,e)),n},inArray:function(e,t,i){var n;if(t){if(X)return X.call(t,e,i);for(n=t.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,i){var n=i.length,s=e.length,o=0;if("number"==typeof n)for(;n>o;o++)e[s++]=i[o];else for(;i[o]!==t;)e[s++]=i[o++];return e.length=s,e},grep:function(e,t,i){var n,s=[],o=0,a=e.length;for(i=!!i;a>o;o++)n=!!t(e[o],o),i!==n&&s.push(e[o]);return s},map:function(e,i,n){var s,o,a=[],r=0,l=e.length,c=e instanceof Z||l!==t&&"number"==typeof l&&(l>0&&e[0]&&e[l-1]||0===l||Z.isArray(e));if(c)for(;l>r;r++)s=i(e[r],r,n),null!=s&&(a[a.length]=s);else for(o in e)s=i(e[o],o,n),null!=s&&(a[a.length]=s);return a.concat.apply([],a)},guid:1,proxy:function(e,i){var n,s,o;return"string"==typeof i&&(n=e[i],i=e,e=n),Z.isFunction(e)?(s=Y.call(arguments,2),o=function(){return e.apply(i,s.concat(Y.call(arguments)))},o.guid=e.guid=e.guid||Z.guid++,o):t},access:function(e,i,n,s,o,a,r){var l,c=null==n,d=0,u=e.length;if(n&&"object"==typeof n){for(d in n)Z.access(e,i,d,n[d],1,a,s);o=1}else if(s!==t){if(l=r===t&&Z.isFunction(s),c&&(l?(l=i,i=function(e,t,i){return l.call(Z(e),i)}):(i.call(e,s),i=null)),i)for(;u>d;d++)i(e[d],n,l?s.call(e[d],d,i(e[d],n)):s,r);o=1}return o?e:c?i.call(e):u?i(e[0],n):a},now:function(){return(new Date).getTime()}}),Z.ready.promise=function(t){if(!j)if(j=Z.Deferred(),"complete"===F.readyState)setTimeout(Z.ready,1);else if(F.addEventListener)F.addEventListener("DOMContentLoaded",ht,!1),e.addEventListener("load",Z.ready,!1);else{F.attachEvent("onreadystatechange",ht),e.attachEvent("onload",Z.ready);var i=!1;try{i=null==e.frameElement&&F.documentElement}catch(n){}i&&i.doScroll&&function s(){if(!Z.isReady){try{i.doScroll("left")}catch(e){return setTimeout(s,50)}Z.ready()}}()}return j.promise(t)},Z.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){pt["[object "+t+"]"]=t.toLowerCase()}),H=Z(F);var ft={};Z.Callbacks=function(e){e="string"==typeof e?ft[e]||i(e):Z.extend({},e);var n,s,o,a,r,l,c=[],d=!e.once&&[],u=function(t){for(n=e.memory&&t,s=!0,l=a||0,a=0,r=c.length,o=!0;c&&r>l;l++)if(c[l].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}o=!1,c&&(d?d.length&&u(d.shift()):n?c=[]:h.disable())},h={add:function(){if(c){var t=c.length;(function i(t){Z.each(t,function(t,n){var s=Z.type(n);"function"===s?e.unique&&h.has(n)||c.push(n):n&&n.length&&"string"!==s&&i(n)})})(arguments),o?r=c.length:n&&(a=t,u(n))}return this},remove:function(){return c&&Z.each(arguments,function(e,t){for(var i;(i=Z.inArray(t,c,i))>-1;)c.splice(i,1),o&&(r>=i&&r--,l>=i&&l--)}),this},has:function(e){return Z.inArray(e,c)>-1},empty:function(){return c=[],this},disable:function(){return c=d=n=t,this},disabled:function(){return!c},lock:function(){return d=t,n||h.disable(),this},locked:function(){return!d},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!c||s&&!d||(o?d.push(t):u(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!s}};return h},Z.extend({Deferred:function(e){var t=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Z.Deferred(function(i){Z.each(t,function(t,n){var o=n[0],a=e[t];s[n[1]](Z.isFunction(a)?function(){var e=a.apply(this,arguments);e&&Z.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[o+"With"](this===s?i:this,[e])}:i[o])}),e=null}).promise()},promise:function(e){return null!=e?Z.extend(e,n):n}},s={};return n.pipe=n.then,Z.each(t,function(e,o){var a=o[2],r=o[3];n[o[1]]=a.add,r&&a.add(function(){i=r},t[1^e][2].disable,t[2][2].lock),s[o[0]]=a.fire,s[o[0]+"With"]=a.fireWith}),n.promise(s),e&&e.call(s,s),s},when:function(e){var t,i,n,s=0,o=Y.call(arguments),a=o.length,r=1!==a||e&&Z.isFunction(e.promise)?a:0,l=1===r?e:Z.Deferred(),c=function(e,i,n){return function(s){i[e]=this,n[e]=arguments.length>1?Y.call(arguments):s,n===t?l.notifyWith(i,n):--r||l.resolveWith(i,n)}};if(a>1)for(t=Array(a),i=Array(a),n=Array(a);a>s;s++)o[s]&&Z.isFunction(o[s].promise)?o[s].promise().done(c(s,n,o)).fail(l.reject).progress(c(s,i,t)):--r;return r||l.resolveWith(n,o),l.promise()}}),Z.support=function(){var i,n,s,o,a,r,l,c,d,u,h,p=F.createElement("div");if(p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*"),s=p.getElementsByTagName("a")[0],!n||!s||!n.length)return{};o=F.createElement("select"),a=o.appendChild(F.createElement("option")),r=p.getElementsByTagName("input")[0],s.style.cssText="top:1px;float:left;opacity:.5",i={leadingWhitespace:3===p.firstChild.nodeType,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(s.getAttribute("style")),hrefNormalized:"/a"===s.getAttribute("href"),opacity:/^0.5/.test(s.style.opacity),cssFloat:!!s.style.cssFloat,checkOn:"on"===r.value,optSelected:a.selected,getSetAttribute:"t"!==p.className,enctype:!!F.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==F.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===F.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},r.checked=!0,i.noCloneChecked=r.cloneNode(!0).checked,o.disabled=!0,i.optDisabled=!a.disabled;try{delete p.test}catch(f){i.deleteExpando=!1}if(!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",h=function(){i.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick"),p.detachEvent("onclick",h)),r=F.createElement("input"),r.value="t",r.setAttribute("type","radio"),i.radioValue="t"===r.value,r.setAttribute("checked","checked"),r.setAttribute("name","t"),p.appendChild(r),l=F.createDocumentFragment(),l.appendChild(p.lastChild),i.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,i.appendChecked=r.checked,l.removeChild(r),l.appendChild(p),p.attachEvent)for(d in{submit:!0,change:!0,focusin:!0})c="on"+d,u=c in p,u||(p.setAttribute(c,"return;"),u="function"==typeof p[c]),i[d+"Bubbles"]=u;return Z(function(){var n,s,o,a,r="padding:0;margin:0;border:0;display:block;overflow:hidden;",l=F.getElementsByTagName("body")[0];l&&(n=F.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",l.insertBefore(n,l.firstChild),s=F.createElement("div"),n.appendChild(s),s.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=s.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",u=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",i.reliableHiddenOffsets=u&&0===o[0].offsetHeight,s.innerHTML="",s.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",i.boxSizing=4===s.offsetWidth,i.doesNotIncludeMarginInBodyOffset=1!==l.offsetTop,e.getComputedStyle&&(i.pixelPosition="1%"!==(e.getComputedStyle(s,null)||{}).top,i.boxSizingReliable="4px"===(e.getComputedStyle(s,null)||{width:"4px"}).width,a=F.createElement("div"),a.style.cssText=s.style.cssText=r,a.style.marginRight=a.style.width="0",s.style.width="1px",s.appendChild(a),i.reliableMarginRight=!parseFloat((e.getComputedStyle(a,null)||{}).marginRight)),s.style.zoom!==t&&(s.innerHTML="",s.style.cssText=r+"width:1px;padding:1px;display:inline;zoom:1",i.inlineBlockNeedsLayout=3===s.offsetWidth,s.style.display="block",s.style.overflow="visible",s.innerHTML="<div></div>",s.firstChild.style.width="5px",i.shrinkWrapBlocks=3!==s.offsetWidth,n.style.zoom=1),l.removeChild(n),n=s=o=a=null)}),l.removeChild(p),n=s=o=a=r=l=p=null,i}();var gt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,mt=/([A-Z])/g;Z.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(Z.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?Z.cache[e[Z.expando]]:e[Z.expando],!!e&&!s(e)},data:function(e,i,n,s){if(Z.acceptData(e)){var o,a,r=Z.expando,l="string"==typeof i,c=e.nodeType,d=c?Z.cache:e,u=c?e[r]:e[r]&&r;if(u&&d[u]&&(s||d[u].data)||!l||n!==t)return u||(c?e[r]=u=Z.deletedIds.pop()||Z.guid++:u=r),d[u]||(d[u]={},c||(d[u].toJSON=Z.noop)),("object"==typeof i||"function"==typeof i)&&(s?d[u]=Z.extend(d[u],i):d[u].data=Z.extend(d[u].data,i)),o=d[u],s||(o.data||(o.data={}),o=o.data),n!==t&&(o[Z.camelCase(i)]=n),l?(a=o[i],null==a&&(a=o[Z.camelCase(i)])):a=o,a}},removeData:function(e,t,i){if(Z.acceptData(e)){var n,o,a,r=e.nodeType,l=r?Z.cache:e,c=r?e[Z.expando]:Z.expando;if(l[c]){if(t&&(n=i?l[c]:l[c].data)){Z.isArray(t)||(t in n?t=[t]:(t=Z.camelCase(t),t=t in n?[t]:t.split(" ")));for(o=0,a=t.length;a>o;o++)delete n[t[o]];if(!(i?s:Z.isEmptyObject)(n))return}(i||(delete l[c].data,s(l[c])))&&(r?Z.cleanData([e],!0):Z.support.deleteExpando||l!=l.window?delete l[c]:l[c]=null)}}},_data:function(e,t,i){return Z.data(e,t,i,!0)},acceptData:function(e){var t=e.nodeName&&Z.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),Z.fn.extend({data:function(e,i){var s,o,a,r,l,c=this[0],d=0,u=null;if(e===t){if(this.length&&(u=Z.data(c),1===c.nodeType&&!Z._data(c,"parsedAttrs"))){for(a=c.attributes,l=a.length;l>d;d++)r=a[d].name,r.indexOf("data-")||(r=Z.camelCase(r.substring(5)),n(c,r,u[r]));Z._data(c,"parsedAttrs",!0)}return u}return"object"==typeof e?this.each(function(){Z.data(this,e)}):(s=e.split(".",2),s[1]=s[1]?"."+s[1]:"",o=s[1]+"!",Z.access(this,function(i){return i===t?(u=this.triggerHandler("getData"+o,[s[0]]),u===t&&c&&(u=Z.data(c,e),u=n(c,e,u)),u===t&&s[1]?this.data(s[0]):u):(s[1]=i,this.each(function(){var t=Z(this);t.triggerHandler("setData"+o,s),Z.data(this,e,i),t.triggerHandler("changeData"+o,s)}),t)},null,i,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){Z.removeData(this,e)})}}),Z.extend({queue:function(e,i,n){var s;return e?(i=(i||"fx")+"queue",s=Z._data(e,i),n&&(!s||Z.isArray(n)?s=Z._data(e,i,Z.makeArray(n)):s.push(n)),s||[]):t},dequeue:function(e,t){t=t||"fx";var i=Z.queue(e,t),n=i.length,s=i.shift(),o=Z._queueHooks(e,t),a=function(){Z.dequeue(e,t)};"inprogress"===s&&(s=i.shift(),n--),s&&("fx"===t&&i.unshift("inprogress"),delete o.stop,s.call(e,a,o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return Z._data(e,i)||Z._data(e,i,{empty:Z.Callbacks("once memory").add(function(){Z.removeData(e,t+"queue",!0),Z.removeData(e,i,!0)})})}}),Z.fn.extend({queue:function(e,i){var n=2;return"string"!=typeof e&&(i=e,e="fx",n--),n>arguments.length?Z.queue(this[0],e):i===t?this:this.each(function(){var t=Z.queue(this,e,i);Z._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&Z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Z.dequeue(this,e)})},delay:function(e,t){return e=Z.fx?Z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,i){var n,s=1,o=Z.Deferred(),a=this,r=this.length,l=function(){--s||o.resolveWith(a,[a])};for("string"!=typeof e&&(i=e,e=t),e=e||"fx";r--;)n=Z._data(a[r],e+"queueHooks"),n&&n.empty&&(s++,n.empty.add(l));return l(),o.promise(i)}});var vt,bt,yt,wt=/[\t\r\n]/g,_t=/\r/g,Ct=/^(?:button|input)$/i,xt=/^(?:button|input|object|select|textarea)$/i,kt=/^a(?:rea|)$/i,Nt=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Tt=Z.support.getSetAttribute;Z.fn.extend({attr:function(e,t){return Z.access(this,Z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Z.removeAttr(this,e)})},prop:function(e,t){return Z.access(this,Z.prop,e,t,arguments.length>1)},removeProp:function(e){return e=Z.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(i){}})},addClass:function(e){var t,i,n,s,o,a,r;if(Z.isFunction(e))return this.each(function(t){Z(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(tt),i=0,n=this.length;n>i;i++)if(s=this[i],1===s.nodeType)if(s.className||1!==t.length){for(o=" "+s.className+" ",a=0,r=t.length;r>a;a++)0>o.indexOf(" "+t[a]+" ")&&(o+=t[a]+" ");s.className=Z.trim(o)}else s.className=e;return this},removeClass:function(e){var i,n,s,o,a,r,l;if(Z.isFunction(e))return this.each(function(t){Z(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(i=(e||"").split(tt),r=0,l=this.length;l>r;r++)if(s=this[r],1===s.nodeType&&s.className){for(n=(" "+s.className+" ").replace(wt," "),o=0,a=i.length;a>o;o++)for(;n.indexOf(" "+i[o]+" ")>=0;)n=n.replace(" "+i[o]+" "," ");s.className=e?Z.trim(n):""}return this},toggleClass:function(e,t){var i=typeof e,n="boolean"==typeof t;return Z.isFunction(e)?this.each(function(i){Z(this).toggleClass(e.call(this,i,this.className,t),t)}):this.each(function(){if("string"===i)for(var s,o=0,a=Z(this),r=t,l=e.split(tt);s=l[o++];)r=n?r:!a.hasClass(s),a[r?"addClass":"removeClass"](s);else("undefined"===i||"boolean"===i)&&(this.className&&Z._data(this,"__className__",this.className),this.className=this.className||e===!1?"":Z._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(wt," ").indexOf(t)>=0)return!0;return!1},val:function(e){var i,n,s,o=this[0];{if(arguments.length)return s=Z.isFunction(e),this.each(function(n){var o,a=Z(this);1===this.nodeType&&(o=s?e.call(this,n,a.val()):e,null==o?o="":"number"==typeof o?o+="":Z.isArray(o)&&(o=Z.map(o,function(e){return null==e?"":e+""})),i=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,o,"value")!==t||(this.value=o))});if(o)return i=Z.valHooks[o.type]||Z.valHooks[o.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace(_t,""):null==n?"":n)}}}),Z.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,i,n=e.options,s=e.selectedIndex,o="select-one"===e.type||0>s,a=o?null:[],r=o?s+1:n.length,l=0>s?r:o?s:0;r>l;l++)if(i=n[l],!(!i.selected&&l!==s||(Z.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&Z.nodeName(i.parentNode,"optgroup"))){if(t=Z(i).val(),o)return t;a.push(t)}return a},set:function(e,t){var i=Z.makeArray(t);return Z(e).find("option").each(function(){this.selected=Z.inArray(Z(this).val(),i)>=0}),i.length||(e.selectedIndex=-1),i}}},attrFn:{},attr:function(e,i,n,s){var o,a,r,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return s&&Z.isFunction(Z.fn[i])?Z(e)[i](n):e.getAttribute===t?Z.prop(e,i,n):(r=1!==l||!Z.isXMLDoc(e),r&&(i=i.toLowerCase(),a=Z.attrHooks[i]||(Nt.test(i)?bt:vt)),n!==t?null===n?(Z.removeAttr(e,i),t):a&&"set"in a&&r&&(o=a.set(e,n,i))!==t?o:(e.setAttribute(i,n+""),n):a&&"get"in a&&r&&null!==(o=a.get(e,i))?o:(o=e.getAttribute?e.getAttribute(i):null,null===o?t:o))},removeAttr:function(e,t){var i,n,s,o,a=0;if(t&&1===e.nodeType)for(n=t.split(tt);n.length>a;a++)s=n[a],s&&(i=Z.propFix[s]||s,o=Nt.test(s),o||Z.attr(e,s,""),e.removeAttribute(Tt?s:i),o&&i in e&&(e[i]=!1))},attrHooks:{type:{set:function(e,t){if(Ct.test(e.nodeName)&&e.parentNode)Z.error("type property can't be changed");else if(!Z.support.radioValue&&"radio"===t&&Z.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}},value:{get:function(e,t){return vt&&Z.nodeName(e,"button")?vt.get(e,t):t in e?e.value:null},set:function(e,i,n){return vt&&Z.nodeName(e,"button")?vt.set(e,i,n):(e.value=i,t)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,i,n){var s,o,a,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return a=1!==r||!Z.isXMLDoc(e),a&&(i=Z.propFix[i]||i,o=Z.propHooks[i]),n!==t?o&&"set"in o&&(s=o.set(e,n,i))!==t?s:e[i]=n:o&&"get"in o&&null!==(s=o.get(e,i))?s:e[i]},propHooks:{tabIndex:{get:function(e){var i=e.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):xt.test(e.nodeName)||kt.test(e.nodeName)&&e.href?0:t}}}}),bt={get:function(e,i){var n,s=Z.prop(e,i);return s===!0||"boolean"!=typeof s&&(n=e.getAttributeNode(i))&&n.nodeValue!==!1?i.toLowerCase():t
},set:function(e,t,i){var n;return t===!1?Z.removeAttr(e,i):(n=Z.propFix[i]||i,n in e&&(e[n]=!0),e.setAttribute(i,i.toLowerCase())),i}},Tt||(yt={name:!0,id:!0,coords:!0},vt=Z.valHooks.button={get:function(e,i){var n;return n=e.getAttributeNode(i),n&&(yt[i]?""!==n.value:n.specified)?n.value:t},set:function(e,t,i){var n=e.getAttributeNode(i);return n||(n=F.createAttribute(i),e.setAttributeNode(n)),n.value=t+""}},Z.each(["width","height"],function(e,i){Z.attrHooks[i]=Z.extend(Z.attrHooks[i],{set:function(e,n){return""===n?(e.setAttribute(i,"auto"),n):t}})}),Z.attrHooks.contenteditable={get:vt.get,set:function(e,t,i){""===t&&(t="false"),vt.set(e,t,i)}}),Z.support.hrefNormalized||Z.each(["href","src","width","height"],function(e,i){Z.attrHooks[i]=Z.extend(Z.attrHooks[i],{get:function(e){var n=e.getAttribute(i,2);return null===n?t:n}})}),Z.support.style||(Z.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=t+""}}),Z.support.optSelected||(Z.propHooks.selected=Z.extend(Z.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),Z.support.enctype||(Z.propFix.enctype="encoding"),Z.support.checkOn||Z.each(["radio","checkbox"],function(){Z.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]=Z.extend(Z.valHooks[this],{set:function(e,i){return Z.isArray(i)?e.checked=Z.inArray(Z(e).val(),i)>=0:t}})});var $t=/^(?:textarea|input|select)$/i,St=/^([^\.]*|)(?:\.(.+)|)$/,Dt=/(?:^|\s)hover(\.\S+|)\b/,Pt=/^key/,zt=/^(?:mouse|contextmenu)|click/,It=/^(?:focusinfocus|focusoutblur)$/,Et=function(e){return Z.event.special.hover?e:e.replace(Dt,"mouseenter$1 mouseleave$1")};Z.event={add:function(e,i,n,s,o){var a,r,l,c,d,u,h,p,f,g,m;if(3!==e.nodeType&&8!==e.nodeType&&i&&n&&(a=Z._data(e))){for(n.handler&&(f=n,n=f.handler,o=f.selector),n.guid||(n.guid=Z.guid++),l=a.events,l||(a.events=l={}),r=a.handle,r||(a.handle=r=function(e){return Z===t||e&&Z.event.triggered===e.type?t:Z.event.dispatch.apply(r.elem,arguments)},r.elem=e),i=Z.trim(Et(i)).split(" "),c=0;i.length>c;c++)d=St.exec(i[c])||[],u=d[1],h=(d[2]||"").split(".").sort(),m=Z.event.special[u]||{},u=(o?m.delegateType:m.bindType)||u,m=Z.event.special[u]||{},p=Z.extend({type:u,origType:d[1],data:s,handler:n,guid:n.guid,selector:o,needsContext:o&&Z.expr.match.needsContext.test(o),namespace:h.join(".")},f),g=l[u],g||(g=l[u]=[],g.delegateCount=0,m.setup&&m.setup.call(e,s,h,r)!==!1||(e.addEventListener?e.addEventListener(u,r,!1):e.attachEvent&&e.attachEvent("on"+u,r))),m.add&&(m.add.call(e,p),p.handler.guid||(p.handler.guid=n.guid)),o?g.splice(g.delegateCount++,0,p):g.push(p),Z.event.global[u]=!0;e=null}},global:{},remove:function(e,t,i,n,s){var o,a,r,l,c,d,u,h,p,f,g,m=Z.hasData(e)&&Z._data(e);if(m&&(h=m.events)){for(t=Z.trim(Et(t||"")).split(" "),o=0;t.length>o;o++)if(a=St.exec(t[o])||[],r=l=a[1],c=a[2],r){for(p=Z.event.special[r]||{},r=(n?p.delegateType:p.bindType)||r,f=h[r]||[],d=f.length,c=c?RegExp("(^|\\.)"+c.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,u=0;f.length>u;u++)g=f[u],!s&&l!==g.origType||i&&i.guid!==g.guid||c&&!c.test(g.namespace)||n&&n!==g.selector&&("**"!==n||!g.selector)||(f.splice(u--,1),g.selector&&f.delegateCount--,p.remove&&p.remove.call(e,g));0===f.length&&d!==f.length&&(p.teardown&&p.teardown.call(e,c,m.handle)!==!1||Z.removeEvent(e,r,m.handle),delete h[r])}else for(r in h)Z.event.remove(e,r+t[o],i,n,!0);Z.isEmptyObject(h)&&(delete m.handle,Z.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(i,n,s,o){if(!s||3!==s.nodeType&&8!==s.nodeType){var a,r,l,c,d,u,h,p,f,g,m=i.type||i,v=[];if(!It.test(m+Z.event.triggered)&&(m.indexOf("!")>=0&&(m=m.slice(0,-1),r=!0),m.indexOf(".")>=0&&(v=m.split("."),m=v.shift(),v.sort()),s&&!Z.event.customEvent[m]||Z.event.global[m]))if(i="object"==typeof i?i[Z.expando]?i:new Z.Event(m,i):new Z.Event(m),i.type=m,i.isTrigger=!0,i.exclusive=r,i.namespace=v.join("."),i.namespace_re=i.namespace?RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,u=0>m.indexOf(":")?"on"+m:"",s){if(i.result=t,i.target||(i.target=s),n=null!=n?Z.makeArray(n):[],n.unshift(i),h=Z.event.special[m]||{},!h.trigger||h.trigger.apply(s,n)!==!1){if(f=[[s,h.bindType||m]],!o&&!h.noBubble&&!Z.isWindow(s)){for(g=h.delegateType||m,c=It.test(g+m)?s:s.parentNode,d=s;c;c=c.parentNode)f.push([c,g]),d=c;d===(s.ownerDocument||F)&&f.push([d.defaultView||d.parentWindow||e,g])}for(l=0;f.length>l&&!i.isPropagationStopped();l++)c=f[l][0],i.type=f[l][1],p=(Z._data(c,"events")||{})[i.type]&&Z._data(c,"handle"),p&&p.apply(c,n),p=u&&c[u],p&&Z.acceptData(c)&&p.apply&&p.apply(c,n)===!1&&i.preventDefault();return i.type=m,o||i.isDefaultPrevented()||h._default&&h._default.apply(s.ownerDocument,n)!==!1||"click"===m&&Z.nodeName(s,"a")||!Z.acceptData(s)||u&&s[m]&&("focus"!==m&&"blur"!==m||0!==i.target.offsetWidth)&&!Z.isWindow(s)&&(d=s[u],d&&(s[u]=null),Z.event.triggered=m,s[m](),Z.event.triggered=t,d&&(s[u]=d)),i.result}}else{a=Z.cache;for(l in a)a[l].events&&a[l].events[m]&&Z.event.trigger(i,n,a[l].handle.elem,!0)}}},dispatch:function(i){i=Z.event.fix(i||e.event);var n,s,o,a,r,l,c,d,u,h=(Z._data(this,"events")||{})[i.type]||[],p=h.delegateCount,f=Y.call(arguments),g=!i.exclusive&&!i.namespace,m=Z.event.special[i.type]||{},v=[];if(f[0]=i,i.delegateTarget=this,!m.preDispatch||m.preDispatch.call(this,i)!==!1){if(p&&(!i.button||"click"!==i.type))for(o=i.target;o!=this;o=o.parentNode||this)if(o.disabled!==!0||"click"!==i.type){for(r={},c=[],n=0;p>n;n++)d=h[n],u=d.selector,r[u]===t&&(r[u]=d.needsContext?Z(u,this).index(o)>=0:Z.find(u,this,null,[o]).length),r[u]&&c.push(d);c.length&&v.push({elem:o,matches:c})}for(h.length>p&&v.push({elem:this,matches:h.slice(p)}),n=0;v.length>n&&!i.isPropagationStopped();n++)for(l=v[n],i.currentTarget=l.elem,s=0;l.matches.length>s&&!i.isImmediatePropagationStopped();s++)d=l.matches[s],(g||!i.namespace&&!d.namespace||i.namespace_re&&i.namespace_re.test(d.namespace))&&(i.data=d.data,i.handleObj=d,a=((Z.event.special[d.origType]||{}).handle||d.handler).apply(l.elem,f),a!==t&&(i.result=a,a===!1&&(i.preventDefault(),i.stopPropagation())));return m.postDispatch&&m.postDispatch.call(this,i),i.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,i){var n,s,o,a=i.button,r=i.fromElement;return null==e.pageX&&null!=i.clientX&&(n=e.target.ownerDocument||F,s=n.documentElement,o=n.body,e.pageX=i.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s&&s.clientLeft||o&&o.clientLeft||0),e.pageY=i.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&r&&(e.relatedTarget=r===e.target?i.toElement:r),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[Z.expando])return e;var t,i,n=e,s=Z.event.fixHooks[e.type]||{},o=s.props?this.props.concat(s.props):this.props;for(e=Z.Event(n),t=o.length;t;)i=o[--t],e[i]=n[i];return e.target||(e.target=n.srcElement||F),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,n):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,i){Z.isWindow(this)&&(this.onbeforeunload=i)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,i,n){var s=Z.extend(new Z.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?Z.event.trigger(s,null,t):Z.event.dispatch.call(t,s),s.isDefaultPrevented()&&i.preventDefault()}},Z.event.handle=Z.event.dispatch,Z.removeEvent=F.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,i,n){var s="on"+i;e.detachEvent&&(e[s]===t&&(e[s]=null),e.detachEvent(s,n))},Z.Event=function(e,i){return this instanceof Z.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?a:o):this.type=e,i&&Z.extend(this,i),this.timeStamp=e&&e.timeStamp||Z.now(),this[Z.expando]=!0,t):new Z.Event(e,i)},Z.Event.prototype={preventDefault:function(){this.isDefaultPrevented=a;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=a;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=a,this.stopPropagation()},isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o},Z.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){Z.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,s=e.relatedTarget,o=e.handleObj;return o.selector,(!s||s!==n&&!Z.contains(n,s))&&(e.type=o.origType,i=o.handler.apply(this,arguments),e.type=t),i}}}),Z.support.submitBubbles||(Z.event.special.submit={setup:function(){return Z.nodeName(this,"form")?!1:(Z.event.add(this,"click._submit keypress._submit",function(e){var i=e.target,n=Z.nodeName(i,"input")||Z.nodeName(i,"button")?i.form:t;n&&!Z._data(n,"_submit_attached")&&(Z.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),Z._data(n,"_submit_attached",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&Z.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return Z.nodeName(this,"form")?!1:(Z.event.remove(this,"._submit"),t)}}),Z.support.changeBubbles||(Z.event.special.change={setup:function(){return $t.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(Z.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),Z.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),Z.event.simulate("change",this,e,!0)})),!1):(Z.event.add(this,"beforeactivate._change",function(e){var t=e.target;$t.test(t.nodeName)&&!Z._data(t,"_change_attached")&&(Z.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||Z.event.simulate("change",this.parentNode,e,!0)}),Z._data(t,"_change_attached",!0))}),t)},handle:function(e){var i=e.target;return this!==i||e.isSimulated||e.isTrigger||"radio"!==i.type&&"checkbox"!==i.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return Z.event.remove(this,"._change"),!$t.test(this.nodeName)}}),Z.support.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(e,t){var i=0,n=function(e){Z.event.simulate(t,e.target,Z.event.fix(e),!0)};Z.event.special[t]={setup:function(){0===i++&&F.addEventListener(e,n,!0)},teardown:function(){0===--i&&F.removeEventListener(e,n,!0)}}}),Z.fn.extend({on:function(e,i,n,s,a){var r,l;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=t);for(l in e)this.on(l,i,n,e[l],a);return this}if(null==n&&null==s?(s=i,n=i=t):null==s&&("string"==typeof i?(s=n,n=t):(s=n,n=i,i=t)),s===!1)s=o;else if(!s)return this;return 1===a&&(r=s,s=function(e){return Z().off(e),r.apply(this,arguments)},s.guid=r.guid||(r.guid=Z.guid++)),this.each(function(){Z.event.add(this,e,s,n,i)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,i,n){var s,a;if(e&&e.preventDefault&&e.handleObj)return s=e.handleObj,Z(e.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this;if("object"==typeof e){for(a in e)this.off(a,i,e[a]);return this}return(i===!1||"function"==typeof i)&&(n=i,i=t),n===!1&&(n=o),this.each(function(){Z.event.remove(this,e,n,i)})},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,i){return Z(this.context).on(e,this.selector,t,i),this},die:function(e,t){return Z(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},trigger:function(e,t){return this.each(function(){Z.event.trigger(e,t,this)})},triggerHandler:function(e,i){return this[0]?Z.event.trigger(e,i,this[0],!0):t},toggle:function(e){var t=arguments,i=e.guid||Z.guid++,n=0,s=function(i){var s=(Z._data(this,"lastToggle"+e.guid)||0)%n;return Z._data(this,"lastToggle"+e.guid,s+1),i.preventDefault(),t[s].apply(this,arguments)||!1};for(s.guid=i;t.length>n;)t[n++].guid=i;return this.click(s)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Z.fn[t]=function(e,i){return null==i&&(i=e,e=null),arguments.length>0?this.on(t,null,e,i):this.trigger(t)},Pt.test(t)&&(Z.event.fixHooks[t]=Z.event.keyHooks),zt.test(t)&&(Z.event.fixHooks[t]=Z.event.mouseHooks)}),function(e,t){function i(e,t,i,n){i=i||[],t=t||z;var s,o,a,r,l=t.nodeType;if(!e||"string"!=typeof e)return i;if(1!==l&&9!==l)return[];if(a=_(t),!a&&!n&&(s=it.exec(e)))if(r=s[1]){if(9===l){if(o=t.getElementById(r),!o||!o.parentNode)return i;if(o.id===r)return i.push(o),i}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(r))&&C(t,o)&&o.id===r)return i.push(o),i}else{if(s[2])return A.apply(i,L.call(t.getElementsByTagName(e),0)),i;if((r=s[3])&&ht&&t.getElementsByClassName)return A.apply(i,L.call(t.getElementsByClassName(r),0)),i}return g(e.replace(G,"$1"),t,i,n,a)}function n(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function s(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function o(e){return H(function(t){return t=+t,H(function(i,n){for(var s,o=e([],i.length,t),a=o.length;a--;)i[s=o[a]]&&(i[s]=!(n[s]=i[s]))})})}function a(e,t,i){if(e===t)return i;for(var n=e.nextSibling;n;){if(n===t)return-1;n=n.nextSibling}return 1}function r(e,t){var n,s,o,a,r,l,c,d=W[D][e+" "];if(d)return t?0:d.slice(0);for(r=e,l=[],c=y.preFilter;r;){(!n||(s=J.exec(r)))&&(s&&(r=r.slice(s[0].length)||r),l.push(o=[])),n=!1,(s=et.exec(r))&&(o.push(n=new P(s.shift())),r=r.slice(n.length),n.type=s[0].replace(G," "));for(a in y.filter)!(s=rt[a].exec(r))||c[a]&&!(s=c[a](s))||(o.push(n=new P(s.shift())),r=r.slice(n.length),n.type=a,n.matches=s);if(!n)break}return t?r.length:r?i.error(e):W(e,l).slice(0)}function l(e,t,i){var n=t.dir,s=i&&"parentNode"===t.dir,o=R++;return t.first?function(t,i,o){for(;t=t[n];)if(s||1===t.nodeType)return e(t,i,o)}:function(t,i,a){if(a){for(;t=t[n];)if((s||1===t.nodeType)&&e(t,i,a))return t}else for(var r,l=E+" "+o+" ",c=l+v;t=t[n];)if(s||1===t.nodeType){if((r=t[D])===c)return t.sizset;if("string"==typeof r&&0===r.indexOf(l)){if(t.sizset)return t}else{if(t[D]=c,e(t,i,a))return t.sizset=!0,t;t.sizset=!1}}}}function c(e){return e.length>1?function(t,i,n){for(var s=e.length;s--;)if(!e[s](t,i,n))return!1;return!0}:e[0]}function d(e,t,i,n,s){for(var o,a=[],r=0,l=e.length,c=null!=t;l>r;r++)(o=e[r])&&(!i||i(o,n,s))&&(a.push(o),c&&t.push(r));return a}function u(e,t,i,n,s,o){return n&&!n[D]&&(n=u(n)),s&&!s[D]&&(s=u(s,o)),H(function(o,a,r,l){var c,u,h,p=[],g=[],m=a.length,v=o||f(t||"*",r.nodeType?[r]:r,[]),b=!e||!o&&t?v:d(v,p,e,r,l),y=i?s||(o?e:m||n)?[]:a:b;if(i&&i(b,y,r,l),n)for(c=d(y,g),n(c,[],r,l),u=c.length;u--;)(h=c[u])&&(y[g[u]]=!(b[g[u]]=h));if(o){if(s||e){if(s){for(c=[],u=y.length;u--;)(h=y[u])&&c.push(b[u]=h);s(null,y=[],c,l)}for(u=y.length;u--;)(h=y[u])&&(c=s?M.call(o,h):p[u])>-1&&(o[c]=!(a[c]=h))}}else y=d(y===a?y.splice(m,y.length):y),s?s(null,a,y,l):A.apply(a,y)})}function h(e){for(var t,i,n,s=e.length,o=y.relative[e[0].type],a=o||y.relative[" "],r=o?1:0,d=l(function(e){return e===t},a,!0),p=l(function(e){return M.call(t,e)>-1},a,!0),f=[function(e,i,n){return!o&&(n||i!==T)||((t=i).nodeType?d(e,i,n):p(e,i,n))}];s>r;r++)if(i=y.relative[e[r].type])f=[l(c(f),i)];else{if(i=y.filter[e[r].type].apply(null,e[r].matches),i[D]){for(n=++r;s>n&&!y.relative[e[n].type];n++);return u(r>1&&c(f),r>1&&e.slice(0,r-1).join("").replace(G,"$1"),i,n>r&&h(e.slice(r,n)),s>n&&h(e=e.slice(n)),s>n&&e.join(""))}f.push(i)}return c(f)}function p(e,t){var n=t.length>0,s=e.length>0,o=function(a,r,l,c,u){var h,p,f,g=[],m=0,b="0",w=a&&[],_=null!=u,C=T,x=a||s&&y.find.TAG("*",u&&r.parentNode||r),k=E+=null==C?1:Math.E;for(_&&(T=r!==z&&r,v=o.el);null!=(h=x[b]);b++){if(s&&h){for(p=0;f=e[p];p++)if(f(h,r,l)){c.push(h);break}_&&(E=k,v=++o.el)}n&&((h=!f&&h)&&m--,a&&w.push(h))}if(m+=b,n&&b!==m){for(p=0;f=t[p];p++)f(w,g,r,l);if(a){if(m>0)for(;b--;)w[b]||g[b]||(g[b]=O.call(c));g=d(g)}A.apply(c,g),_&&!a&&g.length>0&&m+t.length>1&&i.uniqueSort(c)}return _&&(E=k,T=C),w};return o.el=0,n?H(o):o}function f(e,t,n){for(var s=0,o=t.length;o>s;s++)i(e,t[s],n);return n}function g(e,t,i,n,s){var o,a,l,c,d,u=r(e);if(u.length,!n&&1===u.length){if(a=u[0]=u[0].slice(0),a.length>2&&"ID"===(l=a[0]).type&&9===t.nodeType&&!s&&y.relative[a[1].type]){if(t=y.find.ID(l.matches[0].replace(at,""),t,s)[0],!t)return i;e=e.slice(a.shift().length)}for(o=rt.POS.test(e)?-1:a.length-1;o>=0&&(l=a[o],!y.relative[c=l.type]);o--)if((d=y.find[c])&&(n=d(l.matches[0].replace(at,""),nt.test(a[0].type)&&t.parentNode||t,s))){if(a.splice(o,1),e=n.length&&a.join(""),!e)return A.apply(i,L.call(n,0)),i;break}}return x(e,u)(n,t,s,i,nt.test(e)),i}function m(){}var v,b,y,w,_,C,x,k,N,T,$=!0,S="undefined",D=("sizcache"+Math.random()).replace(".",""),P=String,z=e.document,I=z.documentElement,E=0,R=0,O=[].pop,A=[].push,L=[].slice,M=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]===e)return t;return-1},H=function(e,t){return e[D]=null==t||t,e},j=function(){var e={},t=[];return H(function(i,n){return t.push(i)>y.cacheLength&&delete e[t.shift()],e[i+" "]=n},e)},F=j(),W=j(),B=j(),q="[\\x20\\t\\r\\n\\f]",U="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",V=U.replace("w","w#"),Y="([*^$|!~]?=)",X="\\["+q+"*("+U+")"+q+"*(?:"+Y+q+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+V+")|)|)"+q+"*\\]",K=":("+U+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+X+")|[^:]|\\\\.)*|.*))\\)|)",Q=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+q+"*((?:-\\d)?\\d*)"+q+"*\\)|)(?=[^-]|$)",G=RegExp("^"+q+"+|((?:^|[^\\\\])(?:\\\\.)*)"+q+"+$","g"),J=RegExp("^"+q+"*,"+q+"*"),et=RegExp("^"+q+"*([\\x20\\t\\r\\n\\f>+~])"+q+"*"),tt=RegExp(K),it=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,nt=/[\x20\t\r\n\f]*[+~]/,st=/h\d/i,ot=/input|select|textarea|button/i,at=/\\(?!\\)/g,rt={ID:RegExp("^#("+U+")"),CLASS:RegExp("^\\.("+U+")"),NAME:RegExp("^\\[name=['\"]?("+U+")['\"]?\\]"),TAG:RegExp("^("+U.replace("w","w*")+")"),ATTR:RegExp("^"+X),PSEUDO:RegExp("^"+K),POS:RegExp(Q,"i"),CHILD:RegExp("^:(only|nth|first|last)-child(?:\\("+q+"*(even|odd|(([+-]|)(\\d*)n|)"+q+"*(?:([+-]|)"+q+"*(\\d+)|))"+q+"*\\)|)","i"),needsContext:RegExp("^"+q+"*[>+~]|"+Q,"i")},lt=function(e){var t=z.createElement("div");try{return e(t)}catch(i){return!1}finally{t=null}},ct=lt(function(e){return e.appendChild(z.createComment("")),!e.getElementsByTagName("*").length}),dt=lt(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==S&&"#"===e.firstChild.getAttribute("href")}),ut=lt(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),ht=lt(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),pt=lt(function(e){e.id=D+0,e.innerHTML="<a name='"+D+"'></a><div name='"+D+"'></div>",I.insertBefore(e,I.firstChild);var t=z.getElementsByName&&z.getElementsByName(D).length===2+z.getElementsByName(D+0).length;return b=!z.getElementById(D),I.removeChild(e),t});try{L.call(I.childNodes,0)[0].nodeType}catch(ft){L=function(e){for(var t,i=[];t=this[e];e++)i.push(t);return i}}i.matches=function(e,t){return i(e,null,null,t)},i.matchesSelector=function(e,t){return i(t,null,null,[e]).length>0},w=i.getText=function(e){var t,i="",n=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=w(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[n];n++)i+=w(t);return i},_=i.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},C=i.contains=I.contains?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!!(n&&1===n.nodeType&&i.contains&&i.contains(n))}:I.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},i.attr=function(e,t){var i,n=_(e);return n||(t=t.toLowerCase()),(i=y.attrHandle[t])?i(e):n||ut?e.getAttribute(t):(i=e.getAttributeNode(t),i?"boolean"==typeof e[t]?e[t]?t:null:i.specified?i.value:null:null)},y=i.selectors={cacheLength:50,createPseudo:H,match:rt,attrHandle:dt?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:b?function(e,t,i){if(typeof t.getElementById!==S&&!i){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}}:function(e,i,n){if(typeof i.getElementById!==S&&!n){var s=i.getElementById(e);return s?s.id===e||typeof s.getAttributeNode!==S&&s.getAttributeNode("id").value===e?[s]:t:[]}},TAG:ct?function(e,i){return typeof i.getElementsByTagName!==S?i.getElementsByTagName(e):t}:function(e,t){var i=t.getElementsByTagName(e);if("*"===e){for(var n,s=[],o=0;n=i[o];o++)1===n.nodeType&&s.push(n);return s}return i},NAME:pt&&function(e,i){return typeof i.getElementsByName!==S?i.getElementsByName(name):t},CLASS:ht&&function(e,i,n){return typeof i.getElementsByClassName===S||n?t:i.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(at,""),e[3]=(e[4]||e[5]||"").replace(at,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||i.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&i.error(e[0]),e},PSEUDO:function(e){var t,i;return rt.CHILD.test(e[0])?null:(e[3]?e[2]=e[3]:(t=e[4])&&(tt.test(t)&&(i=r(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(t=t.slice(0,i),e[0]=e[0].slice(0,i)),e[2]=t),e.slice(0,3))}},filter:{ID:b?function(e){return e=e.replace(at,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(at,""),function(t){var i=typeof t.getAttributeNode!==S&&t.getAttributeNode("id");return i&&i.value===e}},TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(at,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=F[D][e+" "];return t||(t=RegExp("(^|"+q+")"+e+"("+q+"|$)"))&&F(e,function(e){return t.test(e.className||typeof e.getAttribute!==S&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(s){var o=i.attr(s,e);return null==o?"!="===t:t?(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.substr(o.length-n.length)===n:"~="===t?(" "+o+" ").indexOf(n)>-1:"|="===t?o===n||o.substr(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,i,n){return"nth"===e?function(e){var t,s,o=e.parentNode;if(1===i&&0===n)return!0;if(o)for(s=0,t=o.firstChild;t&&(1!==t.nodeType||(s++,e!==t));t=t.nextSibling);return s-=n,s===i||0===s%i&&s/i>=0}:function(t){var i=t;switch(e){case"only":case"first":for(;i=i.previousSibling;)if(1===i.nodeType)return!1;if("first"===e)return!0;i=t;case"last":for(;i=i.nextSibling;)if(1===i.nodeType)return!1;return!0}}},PSEUDO:function(e,t){var n,s=y.pseudos[e]||y.setFilters[e.toLowerCase()]||i.error("unsupported pseudo: "+e);return s[D]?s(t):s.length>1?(n=[e,e,"",t],y.setFilters.hasOwnProperty(e.toLowerCase())?H(function(e,i){for(var n,o=s(e,t),a=o.length;a--;)n=M.call(e,o[a]),e[n]=!(i[n]=o[a])}):function(e){return s(e,0,n)}):s}},pseudos:{not:H(function(e){var t=[],i=[],n=x(e.replace(G,"$1"));return n[D]?H(function(e,t,i,s){for(var o,a=n(e,null,s,[]),r=e.length;r--;)(o=a[r])&&(e[r]=!(t[r]=o))}):function(e,s,o){return t[0]=e,n(t,null,o,i),!i.pop()}}),has:H(function(e){return function(t){return i(e,t).length>0}}),contains:H(function(e){return function(t){return(t.textContent||t.innerText||w(t)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!y.pseudos.empty(e)},empty:function(e){var t;for(e=e.firstChild;e;){if(e.nodeName>"@"||3===(t=e.nodeType)||4===t)return!1;e=e.nextSibling}return!0},header:function(e){return st.test(e.nodeName)},text:function(e){var t,i;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(i=e.getAttribute("type"))||i.toLowerCase()===t)},radio:n("radio"),checkbox:n("checkbox"),file:n("file"),password:n("password"),image:n("image"),submit:s("submit"),reset:s("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return ot.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:o(function(){return[0]}),last:o(function(e,t){return[t-1]}),eq:o(function(e,t,i){return[0>i?i+t:i]}),even:o(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:o(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:o(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:o(function(e,t,i){for(var n=0>i?i+t:i;t>++n;)e.push(n);return e})}},k=I.compareDocumentPosition?function(e,t){return e===t?(N=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1}:function(e,t){if(e===t)return N=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var i,n,s=[],o=[],r=e.parentNode,l=t.parentNode,c=r;if(r===l)return a(e,t);if(!r)return-1;if(!l)return 1;for(;c;)s.unshift(c),c=c.parentNode;for(c=l;c;)o.unshift(c),c=c.parentNode;i=s.length,n=o.length;for(var d=0;i>d&&n>d;d++)if(s[d]!==o[d])return a(s[d],o[d]);return d===i?a(e,o[d],-1):a(s[d],t,1)},[0,0].sort(k),$=!N,i.uniqueSort=function(e){var t,i=[],n=1,s=0;if(N=$,e.sort(k),N){for(;t=e[n];n++)t===e[n-1]&&(s=i.push(n));for(;s--;)e.splice(i[s],1)}return e},i.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},x=i.compile=function(e,t){var i,n=[],s=[],o=B[D][e+" "];if(!o){for(t||(t=r(e)),i=t.length;i--;)o=h(t[i]),o[D]?n.push(o):s.push(o);o=B(e,p(s,n))}return o},z.querySelectorAll&&function(){var e,t=g,n=/'|\\/g,s=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,o=[":focus"],a=[":active"],l=I.matchesSelector||I.mozMatchesSelector||I.webkitMatchesSelector||I.oMatchesSelector||I.msMatchesSelector;lt(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||o.push("\\["+q+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||o.push(":checked")}),lt(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&o.push("[*^$]="+q+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||o.push(":enabled",":disabled")}),o=RegExp(o.join("|")),g=function(e,i,s,a,l){if(!a&&!l&&!o.test(e)){var c,d,u=!0,h=D,p=i,f=9===i.nodeType&&e;if(1===i.nodeType&&"object"!==i.nodeName.toLowerCase()){for(c=r(e),(u=i.getAttribute("id"))?h=u.replace(n,"\\$&"):i.setAttribute("id",h),h="[id='"+h+"'] ",d=c.length;d--;)c[d]=h+c[d].join("");p=nt.test(e)&&i.parentNode||i,f=c.join(",")}if(f)try{return A.apply(s,L.call(p.querySelectorAll(f),0)),s}catch(g){}finally{u||i.removeAttribute("id")}}return t(e,i,s,a,l)},l&&(lt(function(t){e=l.call(t,"div");try{l.call(t,"[test!='']:sizzle"),a.push("!=",K)}catch(i){}}),a=RegExp(a.join("|")),i.matchesSelector=function(t,n){if(n=n.replace(s,"='$1']"),!_(t)&&!a.test(n)&&!o.test(n))try{var r=l.call(t,n);if(r||e||t.document&&11!==t.document.nodeType)return r}catch(c){}return i(n,null,null,[t]).length>0})}(),y.pseudos.nth=y.pseudos.eq,y.filters=m.prototype=y.pseudos,y.setFilters=new m,i.attr=Z.attr,Z.find=i,Z.expr=i.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=i.uniqueSort,Z.text=i.getText,Z.isXMLDoc=i.isXML,Z.contains=i.contains}(e);var Rt=/Until$/,Ot=/^(?:parents|prev(?:Until|All))/,At=/^.[^:#\[\.,]*$/,Lt=Z.expr.match.needsContext,Mt={children:!0,contents:!0,next:!0,prev:!0};Z.fn.extend({find:function(e){var t,i,n,s,o,a,r=this;if("string"!=typeof e)return Z(e).filter(function(){for(t=0,i=r.length;i>t;t++)if(Z.contains(r[t],this))return!0});for(a=this.pushStack("","find",e),t=0,i=this.length;i>t;t++)if(n=a.length,Z.find(e,this[t],a),t>0)for(s=n;a.length>s;s++)for(o=0;n>o;o++)if(a[o]===a[s]){a.splice(s--,1);break}return a},has:function(e){var t,i=Z(e,this),n=i.length;return this.filter(function(){for(t=0;n>t;t++)if(Z.contains(this,i[t]))return!0})},not:function(e){return this.pushStack(c(this,e,!1),"not",e)},filter:function(e){return this.pushStack(c(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?Lt.test(e)?Z(e,this.context).index(this[0])>=0:Z.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var i,n=0,s=this.length,o=[],a=Lt.test(e)||"string"!=typeof e?Z(e,t||this.context):0;s>n;n++)for(i=this[n];i&&i.ownerDocument&&i!==t&&11!==i.nodeType;){if(a?a.index(i)>-1:Z.find.matchesSelector(i,e)){o.push(i);break}i=i.parentNode}return o=o.length>1?Z.unique(o):o,this.pushStack(o,"closest",e)},index:function(e){return e?"string"==typeof e?Z.inArray(this[0],Z(e)):Z.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var i="string"==typeof e?Z(e,t):Z.makeArray(e&&e.nodeType?[e]:e),n=Z.merge(this.get(),i);return this.pushStack(r(i[0])||r(n[0])?n:Z.unique(n))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Z.fn.andSelf=Z.fn.addBack,Z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Z.dir(e,"parentNode")},parentsUntil:function(e,t,i){return Z.dir(e,"parentNode",i)},next:function(e){return l(e,"nextSibling")},prev:function(e){return l(e,"previousSibling")},nextAll:function(e){return Z.dir(e,"nextSibling")},prevAll:function(e){return Z.dir(e,"previousSibling")},nextUntil:function(e,t,i){return Z.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return Z.dir(e,"previousSibling",i)},siblings:function(e){return Z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Z.sibling(e.firstChild)},contents:function(e){return Z.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:Z.merge([],e.childNodes)}},function(e,t){Z.fn[e]=function(i,n){var s=Z.map(this,t,i);return Rt.test(e)||(n=i),n&&"string"==typeof n&&(s=Z.filter(n,s)),s=this.length>1&&!Mt[e]?Z.unique(s):s,this.length>1&&Ot.test(e)&&(s=s.reverse()),this.pushStack(s,e,Y.call(arguments).join(","))}}),Z.extend({filter:function(e,t,i){return i&&(e=":not("+e+")"),1===t.length?Z.find.matchesSelector(t[0],e)?[t[0]]:[]:Z.find.matches(e,t)},dir:function(e,i,n){for(var s=[],o=e[i];o&&9!==o.nodeType&&(n===t||1!==o.nodeType||!Z(o).is(n));)1===o.nodeType&&s.push(o),o=o[i];
return s},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}});var Ht="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",jt=/ jQuery\d+="(?:null|\d+)"/g,Ft=/^\s+/,Wt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Bt=/<([\w:]+)/,qt=/<tbody/i,Ut=/<|&#?\w+;/,Vt=/<(?:script|style|link)/i,Yt=/<(?:script|object|embed|option|style)/i,Xt=RegExp("<(?:"+Ht+")[\\s/>]","i"),Kt=/^(?:checkbox|radio)$/,Qt=/checked\s*(?:[^=]|=\s*.checked.)/i,Gt=/\/(java|ecma)script/i,Zt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Jt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},ei=d(F),ti=ei.appendChild(F.createElement("div"));Jt.optgroup=Jt.option,Jt.tbody=Jt.tfoot=Jt.colgroup=Jt.caption=Jt.thead,Jt.th=Jt.td,Z.support.htmlSerialize||(Jt._default=[1,"X<div>","</div>"]),Z.fn.extend({text:function(e){return Z.access(this,function(e){return e===t?Z.text(this):this.empty().append((this[0]&&this[0].ownerDocument||F).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(Z.isFunction(e))return this.each(function(t){Z(this).wrapAll(e.call(this,t))});if(this[0]){var t=Z(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return Z.isFunction(e)?this.each(function(t){Z(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Z(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=Z.isFunction(e);return this.each(function(i){Z(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!r(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=Z.clean(arguments);return this.pushStack(Z.merge(e,this),"before",this.selector)}},after:function(){if(!r(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=Z.clean(arguments);return this.pushStack(Z.merge(this,e),"after",this.selector)}},remove:function(e,t){for(var i,n=0;null!=(i=this[n]);n++)(!e||Z.filter(e,[i]).length)&&(t||1!==i.nodeType||(Z.cleanData(i.getElementsByTagName("*")),Z.cleanData([i])),i.parentNode&&i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&Z.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Z.clone(this,e,t)})},html:function(e){return Z.access(this,function(e){var i=this[0]||{},n=0,s=this.length;if(e===t)return 1===i.nodeType?i.innerHTML.replace(jt,""):t;if(!("string"!=typeof e||Vt.test(e)||!Z.support.htmlSerialize&&Xt.test(e)||!Z.support.leadingWhitespace&&Ft.test(e)||Jt[(Bt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Wt,"<$1></$2>");try{for(;s>n;n++)i=this[n]||{},1===i.nodeType&&(Z.cleanData(i.getElementsByTagName("*")),i.innerHTML=e);i=0}catch(o){}}i&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return r(this[0])?this.length?this.pushStack(Z(Z.isFunction(e)?e():e),"replaceWith",e):this:Z.isFunction(e)?this.each(function(t){var i=Z(this),n=i.html();i.replaceWith(e.call(this,t,n))}):("string"!=typeof e&&(e=Z(e).detach()),this.each(function(){var t=this.nextSibling,i=this.parentNode;Z(this).remove(),t?Z(t).before(e):Z(i).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,i,n){e=[].concat.apply([],e);var s,o,a,r,l=0,c=e[0],d=[],h=this.length;if(!Z.support.checkClone&&h>1&&"string"==typeof c&&Qt.test(c))return this.each(function(){Z(this).domManip(e,i,n)});if(Z.isFunction(c))return this.each(function(s){var o=Z(this);e[0]=c.call(this,s,i?o.html():t),o.domManip(e,i,n)});if(this[0]){if(s=Z.buildFragment(e,this,d),a=s.fragment,o=a.firstChild,1===a.childNodes.length&&(a=o),o)for(i=i&&Z.nodeName(o,"tr"),r=s.cacheable||h-1;h>l;l++)n.call(i&&Z.nodeName(this[l],"table")?u(this[l],"tbody"):this[l],l===r?a:Z.clone(a,!0,!0));a=o=null,d.length&&Z.each(d,function(e,t){t.src?Z.ajax?Z.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):Z.error("no ajax"):Z.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Zt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),Z.buildFragment=function(e,i,n){var s,o,a,r=e[0];return i=i||F,i=!i.nodeType&&i[0]||i,i=i.ownerDocument||i,!(1===e.length&&"string"==typeof r&&512>r.length&&i===F&&"<"===r.charAt(0))||Yt.test(r)||!Z.support.checkClone&&Qt.test(r)||!Z.support.html5Clone&&Xt.test(r)||(o=!0,s=Z.fragments[r],a=s!==t),s||(s=i.createDocumentFragment(),Z.clean(e,i,s,n),o&&(Z.fragments[r]=a&&s)),{fragment:s,cacheable:o}},Z.fragments={},Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Z.fn[e]=function(i){var n,s=0,o=[],a=Z(i),r=a.length,l=1===this.length&&this[0].parentNode;if((null==l||l&&11===l.nodeType&&1===l.childNodes.length)&&1===r)return a[t](this[0]),this;for(;r>s;s++)n=(s>0?this.clone(!0):this).get(),Z(a[s])[t](n),o=o.concat(n);return this.pushStack(o,e,a.selector)}}),Z.extend({clone:function(e,t,i){var n,s,o,a;if(Z.support.html5Clone||Z.isXMLDoc(e)||!Xt.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(ti.innerHTML=e.outerHTML,ti.removeChild(a=ti.firstChild)),!(Z.support.noCloneEvent&&Z.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Z.isXMLDoc(e)))for(p(e,a),n=f(e),s=f(a),o=0;n[o];++o)s[o]&&p(n[o],s[o]);if(t&&(h(e,a),i))for(n=f(e),s=f(a),o=0;n[o];++o)h(n[o],s[o]);return n=s=null,a},clean:function(e,i,n,s){var o,a,r,l,c,u,h,p,f,m,v,b=i===F&&ei,y=[];for(i&&i.createDocumentFragment!==t||(i=F),o=0;null!=(r=e[o]);o++)if("number"==typeof r&&(r+=""),r){if("string"==typeof r)if(Ut.test(r)){for(b=b||d(i),h=i.createElement("div"),b.appendChild(h),r=r.replace(Wt,"<$1></$2>"),l=(Bt.exec(r)||["",""])[1].toLowerCase(),c=Jt[l]||Jt._default,u=c[0],h.innerHTML=c[1]+r+c[2];u--;)h=h.lastChild;if(!Z.support.tbody)for(p=qt.test(r),f="table"!==l||p?"<table>"!==c[1]||p?[]:h.childNodes:h.firstChild&&h.firstChild.childNodes,a=f.length-1;a>=0;--a)Z.nodeName(f[a],"tbody")&&!f[a].childNodes.length&&f[a].parentNode.removeChild(f[a]);!Z.support.leadingWhitespace&&Ft.test(r)&&h.insertBefore(i.createTextNode(Ft.exec(r)[0]),h.firstChild),r=h.childNodes,h.parentNode.removeChild(h)}else r=i.createTextNode(r);r.nodeType?y.push(r):Z.merge(y,r)}if(h&&(r=h=b=null),!Z.support.appendChecked)for(o=0;null!=(r=y[o]);o++)Z.nodeName(r,"input")?g(r):r.getElementsByTagName!==t&&Z.grep(r.getElementsByTagName("input"),g);if(n)for(m=function(e){return!e.type||Gt.test(e.type)?s?s.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e):t},o=0;null!=(r=y[o]);o++)Z.nodeName(r,"script")&&m(r)||(n.appendChild(r),r.getElementsByTagName!==t&&(v=Z.grep(Z.merge([],r.getElementsByTagName("script")),m),y.splice.apply(y,[o+1,0].concat(v)),o+=v.length));return y},cleanData:function(e,t){for(var i,n,s,o,a=0,r=Z.expando,l=Z.cache,c=Z.support.deleteExpando,d=Z.event.special;null!=(s=e[a]);a++)if((t||Z.acceptData(s))&&(n=s[r],i=n&&l[n])){if(i.events)for(o in i.events)d[o]?Z.event.remove(s,o):Z.removeEvent(s,o,i.handle);l[n]&&(delete l[n],c?delete s[r]:s.removeAttribute?s.removeAttribute(r):s[r]=null,Z.deletedIds.push(n))}}}),function(){var e,t;Z.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=Z.uaMatch(B.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),Z.browser=t,Z.sub=function(){function e(t,i){return new e.fn.init(t,i)}Z.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(i,n){return n&&n instanceof Z&&!(n instanceof e)&&(n=e(n)),Z.fn.init.call(this,i,n,t)},e.fn.init.prototype=e.fn;var t=e(F);return e}}();var ii,ni,si,oi=/alpha\([^)]*\)/i,ai=/opacity=([^)]*)/,ri=/^(top|right|bottom|left)$/,li=/^(none|table(?!-c[ea]).+)/,ci=/^margin/,di=RegExp("^("+J+")(.*)$","i"),ui=RegExp("^("+J+")(?!px)[a-z%]+$","i"),hi=RegExp("^([-+])=("+J+")","i"),pi={BODY:"block"},fi={position:"absolute",visibility:"hidden",display:"block"},gi={letterSpacing:0,fontWeight:400},mi=["Top","Right","Bottom","Left"],vi=["Webkit","O","Moz","ms"],bi=Z.fn.toggle;Z.fn.extend({css:function(e,i){return Z.access(this,function(e,i,n){return n!==t?Z.style(e,i,n):Z.css(e,i)},e,i,arguments.length>1)},show:function(){return b(this,!0)},hide:function(){return b(this)},toggle:function(e,t){var i="boolean"==typeof e;return Z.isFunction(e)&&Z.isFunction(t)?bi.apply(this,arguments):this.each(function(){(i?e:v(this))?Z(this).show():Z(this).hide()})}}),Z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=ii(e,"opacity");return""===i?"1":i}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":Z.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,i,n,s){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,r,l=Z.camelCase(i),c=e.style;if(i=Z.cssProps[l]||(Z.cssProps[l]=m(c,l)),r=Z.cssHooks[i]||Z.cssHooks[l],n===t)return r&&"get"in r&&(o=r.get(e,!1,s))!==t?o:c[i];if(a=typeof n,"string"===a&&(o=hi.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(Z.css(e,i)),a="number"),!(null==n||"number"===a&&isNaN(n)||("number"!==a||Z.cssNumber[l]||(n+="px"),r&&"set"in r&&(n=r.set(e,n,s))===t)))try{c[i]=n}catch(d){}}},css:function(e,i,n,s){var o,a,r,l=Z.camelCase(i);return i=Z.cssProps[l]||(Z.cssProps[l]=m(e.style,l)),r=Z.cssHooks[i]||Z.cssHooks[l],r&&"get"in r&&(o=r.get(e,!0,s)),o===t&&(o=ii(e,i)),"normal"===o&&i in gi&&(o=gi[i]),n||s!==t?(a=parseFloat(o),n||Z.isNumeric(a)?a||0:o):o},swap:function(e,t,i){var n,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];n=i.call(e);for(s in t)e.style[s]=o[s];return n}}),e.getComputedStyle?ii=function(t,i){var n,s,o,a,r=e.getComputedStyle(t,null),l=t.style;return r&&(n=r.getPropertyValue(i)||r[i],""!==n||Z.contains(t.ownerDocument,t)||(n=Z.style(t,i)),ui.test(n)&&ci.test(i)&&(s=l.width,o=l.minWidth,a=l.maxWidth,l.minWidth=l.maxWidth=l.width=n,n=r.width,l.width=s,l.minWidth=o,l.maxWidth=a)),n}:F.documentElement.currentStyle&&(ii=function(e,t){var i,n,s=e.currentStyle&&e.currentStyle[t],o=e.style;return null==s&&o&&o[t]&&(s=o[t]),ui.test(s)&&!ri.test(t)&&(i=o.left,n=e.runtimeStyle&&e.runtimeStyle.left,n&&(e.runtimeStyle.left=e.currentStyle.left),o.left="fontSize"===t?"1em":s,s=o.pixelLeft+"px",o.left=i,n&&(e.runtimeStyle.left=n)),""===s?"auto":s}),Z.each(["height","width"],function(e,i){Z.cssHooks[i]={get:function(e,n,s){return n?0===e.offsetWidth&&li.test(ii(e,"display"))?Z.swap(e,fi,function(){return _(e,i,s)}):_(e,i,s):t},set:function(e,t,n){return y(e,t,n?w(e,i,n,Z.support.boxSizing&&"border-box"===Z.css(e,"boxSizing")):0)}}}),Z.support.opacity||(Z.cssHooks.opacity={get:function(e,t){return ai.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,s=Z.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=n&&n.filter||i.filter||"";i.zoom=1,t>=1&&""===Z.trim(o.replace(oi,""))&&i.removeAttribute&&(i.removeAttribute("filter"),n&&!n.filter)||(i.filter=oi.test(o)?o.replace(oi,s):o+" "+s)}}),Z(function(){Z.support.reliableMarginRight||(Z.cssHooks.marginRight={get:function(e,i){return Z.swap(e,{display:"inline-block"},function(){return i?ii(e,"marginRight"):t})}}),!Z.support.pixelPosition&&Z.fn.position&&Z.each(["top","left"],function(e,t){Z.cssHooks[t]={get:function(e,i){if(i){var n=ii(e,t);return ui.test(n)?Z(e).position()[t]+"px":n}}}})}),Z.expr&&Z.expr.filters&&(Z.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!Z.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||ii(e,"display"))},Z.expr.filters.visible=function(e){return!Z.expr.filters.hidden(e)}),Z.each({margin:"",padding:"",border:"Width"},function(e,t){Z.cssHooks[e+t]={expand:function(i){var n,s="string"==typeof i?i.split(" "):[i],o={};for(n=0;4>n;n++)o[e+mi[n]+t]=s[n]||s[n-2]||s[0];return o}},ci.test(e)||(Z.cssHooks[e+t].set=y)});var yi=/%20/g,wi=/\[\]$/,_i=/\r?\n/g,Ci=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,xi=/^(?:select|textarea)/i;Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?Z.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||xi.test(this.nodeName)||Ci.test(this.type))}).map(function(e,t){var i=Z(this).val();return null==i?null:Z.isArray(i)?Z.map(i,function(e){return{name:t.name,value:e.replace(_i,"\r\n")}}):{name:t.name,value:i.replace(_i,"\r\n")}}).get()}}),Z.param=function(e,i){var n,s=[],o=function(e,t){t=Z.isFunction(t)?t():null==t?"":t,s[s.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(i===t&&(i=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(e)||e.jquery&&!Z.isPlainObject(e))Z.each(e,function(){o(this.name,this.value)});else for(n in e)x(n,e[n],i,o);return s.join("&").replace(yi,"+")};var ki,Ni,Ti=/#.*$/,$i=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Si=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Di=/^(?:GET|HEAD)$/,Pi=/^\/\//,zi=/\?/,Ii=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Ei=/([?&])_=[^&]*/,Ri=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Oi=Z.fn.load,Ai={},Li={},Mi=["*/"]+["*"];try{Ni=W.href}catch(Hi){Ni=F.createElement("a"),Ni.href="",Ni=Ni.href}ki=Ri.exec(Ni.toLowerCase())||[],Z.fn.load=function(e,i,n){if("string"!=typeof e&&Oi)return Oi.apply(this,arguments);if(!this.length)return this;var s,o,a,r=this,l=e.indexOf(" ");return l>=0&&(s=e.slice(l,e.length),e=e.slice(0,l)),Z.isFunction(i)?(n=i,i=t):i&&"object"==typeof i&&(o="POST"),Z.ajax({url:e,type:o,dataType:"html",data:i,complete:function(e,t){n&&r.each(n,a||[e.responseText,t,e])}}).done(function(e){a=arguments,r.html(s?Z("<div>").append(e.replace(Ii,"")).find(s):e)}),this},Z.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){Z.fn[t]=function(e){return this.on(t,e)}}),Z.each(["get","post"],function(e,i){Z[i]=function(e,n,s,o){return Z.isFunction(n)&&(o=o||s,s=n,n=t),Z.ajax({type:i,url:e,data:n,success:s,dataType:o})}}),Z.extend({getScript:function(e,i){return Z.get(e,t,i,"script")},getJSON:function(e,t,i){return Z.get(e,t,i,"json")},ajaxSetup:function(e,t){return t?T(e,Z.ajaxSettings):(t=e,e=Z.ajaxSettings),T(e,t),e},ajaxSettings:{url:Ni,isLocal:Si.test(ki[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Mi},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:k(Ai),ajaxTransport:k(Li),ajax:function(e,i){function n(e,i,n,a){var c,u,b,y,_,x=i;2!==w&&(w=2,l&&clearTimeout(l),r=t,o=a||"",C.readyState=e>0?4:0,n&&(y=$(h,C,n)),e>=200&&300>e||304===e?(h.ifModified&&(_=C.getResponseHeader("Last-Modified"),_&&(Z.lastModified[s]=_),_=C.getResponseHeader("Etag"),_&&(Z.etag[s]=_)),304===e?(x="notmodified",c=!0):(c=S(h,y),x=c.state,u=c.data,b=c.error,c=!b)):(b=x,(!x||e)&&(x="error",0>e&&(e=0))),C.status=e,C.statusText=(i||x)+"",c?g.resolveWith(p,[u,x,C]):g.rejectWith(p,[C,x,b]),C.statusCode(v),v=t,d&&f.trigger("ajax"+(c?"Success":"Error"),[C,h,c?u:b]),m.fireWith(p,[C,x]),d&&(f.trigger("ajaxComplete",[C,h]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=t),i=i||{};var s,o,a,r,l,c,d,u,h=Z.ajaxSetup({},i),p=h.context||h,f=p!==h&&(p.nodeType||p instanceof Z)?Z(p):Z.event,g=Z.Deferred(),m=Z.Callbacks("once memory"),v=h.statusCode||{},b={},y={},w=0,_="canceled",C={readyState:0,setRequestHeader:function(e,t){if(!w){var i=e.toLowerCase();e=y[i]=y[i]||e,b[e]=t}return this},getAllResponseHeaders:function(){return 2===w?o:null},getResponseHeader:function(e){var i;if(2===w){if(!a)for(a={};i=$i.exec(o);)a[i[1].toLowerCase()]=i[2];i=a[e.toLowerCase()]}return i===t?null:i},overrideMimeType:function(e){return w||(h.mimeType=e),this},abort:function(e){return e=e||_,r&&r.abort(e),n(0,e),this}};if(g.promise(C),C.success=C.done,C.error=C.fail,C.complete=m.add,C.statusCode=function(e){if(e){var t;if(2>w)for(t in e)v[t]=[v[t],e[t]];else t=e[C.status],C.always(t)}return this},h.url=((e||h.url)+"").replace(Ti,"").replace(Pi,ki[1]+"//"),h.dataTypes=Z.trim(h.dataType||"*").toLowerCase().split(tt),null==h.crossDomain&&(c=Ri.exec(h.url.toLowerCase()),h.crossDomain=!(!c||c[1]===ki[1]&&c[2]===ki[2]&&(c[3]||("http:"===c[1]?80:443))==(ki[3]||("http:"===ki[1]?80:443)))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=Z.param(h.data,h.traditional)),N(Ai,h,i,C),2===w)return C;if(d=h.global,h.type=h.type.toUpperCase(),h.hasContent=!Di.test(h.type),d&&0===Z.active++&&Z.event.trigger("ajaxStart"),!h.hasContent&&(h.data&&(h.url+=(zi.test(h.url)?"&":"?")+h.data,delete h.data),s=h.url,h.cache===!1)){var x=Z.now(),k=h.url.replace(Ei,"$1_="+x);h.url=k+(k===h.url?(zi.test(h.url)?"&":"?")+"_="+x:"")}(h.data&&h.hasContent&&h.contentType!==!1||i.contentType)&&C.setRequestHeader("Content-Type",h.contentType),h.ifModified&&(s=s||h.url,Z.lastModified[s]&&C.setRequestHeader("If-Modified-Since",Z.lastModified[s]),Z.etag[s]&&C.setRequestHeader("If-None-Match",Z.etag[s])),C.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Mi+"; q=0.01":""):h.accepts["*"]);for(u in h.headers)C.setRequestHeader(u,h.headers[u]);if(h.beforeSend&&(h.beforeSend.call(p,C,h)===!1||2===w))return C.abort();_="abort";for(u in{success:1,error:1,complete:1})C[u](h[u]);if(r=N(Li,h,i,C)){C.readyState=1,d&&f.trigger("ajaxSend",[C,h]),h.async&&h.timeout>0&&(l=setTimeout(function(){C.abort("timeout")},h.timeout));try{w=1,r.send(b,n)}catch(T){if(!(2>w))throw T;n(-1,T)}}else n(-1,"No Transport");return C},active:0,lastModified:{},etag:{}});var ji=[],Fi=/\?/,Wi=/(=)\?(?=&|$)|\?\?/,Bi=Z.now();Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ji.pop()||Z.expando+"_"+Bi++;return this[e]=!0,e}}),Z.ajaxPrefilter("json jsonp",function(i,n,s){var o,a,r,l=i.data,c=i.url,d=i.jsonp!==!1,u=d&&Wi.test(c),h=d&&!u&&"string"==typeof l&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&Wi.test(l);return"jsonp"===i.dataTypes[0]||u||h?(o=i.jsonpCallback=Z.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,a=e[o],u?i.url=c.replace(Wi,"$1"+o):h?i.data=l.replace(Wi,"$1"+o):d&&(i.url+=(Fi.test(c)?"&":"?")+i.jsonp+"="+o),i.converters["script json"]=function(){return r||Z.error(o+" was not called"),r[0]},i.dataTypes[0]="json",e[o]=function(){r=arguments},s.always(function(){e[o]=a,i[o]&&(i.jsonpCallback=n.jsonpCallback,ji.push(o)),r&&Z.isFunction(a)&&a(r[0]),r=a=t}),"script"):t}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return Z.globalEval(e),e}}}),Z.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),Z.ajaxTransport("script",function(e){if(e.crossDomain){var i,n=F.head||F.getElementsByTagName("head")[0]||F.documentElement;return{send:function(s,o){i=F.createElement("script"),i.async="async",e.scriptCharset&&(i.charset=e.scriptCharset),i.src=e.url,i.onload=i.onreadystatechange=function(e,s){(s||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,n&&i.parentNode&&n.removeChild(i),i=t,s||o(200,"success"))},n.insertBefore(i,n.firstChild)},abort:function(){i&&i.onload(0,1)}}}});var qi,Ui=e.ActiveXObject?function(){for(var e in qi)qi[e](0,1)}:!1,Vi=0;Z.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&D()||P()}:D,function(e){Z.extend(Z.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(Z.ajaxSettings.xhr()),Z.support.ajax&&Z.ajaxTransport(function(i){if(!i.crossDomain||Z.support.cors){var n;return{send:function(s,o){var a,r,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(r in i.xhrFields)l[r]=i.xhrFields[r];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest");try{for(r in s)l.setRequestHeader(r,s[r])}catch(c){}l.send(i.hasContent&&i.data||null),n=function(e,s){var r,c,d,u,h;try{if(n&&(s||4===l.readyState))if(n=t,a&&(l.onreadystatechange=Z.noop,Ui&&delete qi[a]),s)4!==l.readyState&&l.abort();else{r=l.status,d=l.getAllResponseHeaders(),u={},h=l.responseXML,h&&h.documentElement&&(u.xml=h);try{u.text=l.responseText}catch(p){}try{c=l.statusText}catch(p){c=""}r||!i.isLocal||i.crossDomain?1223===r&&(r=204):r=u.text?200:404}}catch(f){s||o(-1,f)}u&&o(r,c,u,d)},i.async?4===l.readyState?setTimeout(n,0):(a=++Vi,Ui&&(qi||(qi={},Z(e).unload(Ui)),qi[a]=n),l.onreadystatechange=n):n()},abort:function(){n&&n(0,1)}}}});var Yi,Xi,Ki=/^(?:toggle|show|hide)$/,Qi=RegExp("^(?:([-+])=|)("+J+")([a-z%]*)$","i"),Gi=/queueHooks$/,Zi=[O],Ji={"*":[function(e,t){var i,n,s=this.createTween(e,t),o=Qi.exec(t),a=s.cur(),r=+a||0,l=1,c=20;if(o){if(i=+o[2],n=o[3]||(Z.cssNumber[e]?"":"px"),"px"!==n&&r){r=Z.css(s.elem,e,!0)||i||1;do l=l||".5",r/=l,Z.style(s.elem,e,r+n);while(l!==(l=s.cur()/a)&&1!==l&&--c)}s.unit=n,s.start=r,s.end=o[1]?r+(o[1]+1)*i:i}return s}]};Z.Animation=Z.extend(E,{tweener:function(e,t){Z.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,s=e.length;s>n;n++)i=e[n],Ji[i]=Ji[i]||[],Ji[i].unshift(t)},prefilter:function(e,t){t?Zi.unshift(e):Zi.push(e)}}),Z.Tween=A,A.prototype={constructor:A,init:function(e,t,i,n,s,o){this.elem=e,this.prop=i,this.easing=s||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(Z.cssNumber[i]?"":"px")},cur:function(){var e=A.propHooks[this.prop];return e&&e.get?e.get(this):A.propHooks._default.get(this)},run:function(e){var t,i=A.propHooks[this.prop];return this.pos=t=this.options.duration?Z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):A.propHooks._default.set(this),this}},A.prototype.init.prototype=A.prototype,A.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Z.css(e.elem,e.prop,!1,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Z.fx.step[e.prop]?Z.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Z.cssProps[e.prop]]||Z.cssHooks[e.prop])?Z.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},A.propHooks.scrollTop=A.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Z.each(["toggle","show","hide"],function(e,t){var i=Z.fn[t];Z.fn[t]=function(n,s,o){return null==n||"boolean"==typeof n||!e&&Z.isFunction(n)&&Z.isFunction(s)?i.apply(this,arguments):this.animate(L(t,!0),n,s,o)}}),Z.fn.extend({fadeTo:function(e,t,i,n){return this.filter(v).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var s=Z.isEmptyObject(e),o=Z.speed(t,i,n),a=function(){var t=E(this,Z.extend({},e),o);s&&t.stop(!0)};return s||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,i,n){var s=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=i,i=e,e=t),i&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=Z.timers,a=Z._data(this);if(i)a[i]&&a[i].stop&&s(a[i]);else for(i in a)a[i]&&a[i].stop&&Gi.test(i)&&s(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&Z.dequeue(this,e)})}}),Z.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Z.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),Z.speed=function(e,t,i){var n=e&&"object"==typeof e?Z.extend({},e):{complete:i||!i&&t||Z.isFunction(e)&&e,duration:e,easing:i&&t||t&&!Z.isFunction(t)&&t};return n.duration=Z.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in Z.fx.speeds?Z.fx.speeds[n.duration]:Z.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){Z.isFunction(n.old)&&n.old.call(this),n.queue&&Z.dequeue(this,n.queue)},n},Z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Z.timers=[],Z.fx=A.prototype.init,Z.fx.tick=function(){var e,i=Z.timers,n=0;for(Yi=Z.now();i.length>n;n++)e=i[n],e()||i[n]!==e||i.splice(n--,1);i.length||Z.fx.stop(),Yi=t},Z.fx.timer=function(e){e()&&Z.timers.push(e)&&!Xi&&(Xi=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.interval=13,Z.fx.stop=function(){clearInterval(Xi),Xi=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fx.step={},Z.expr&&Z.expr.filters&&(Z.expr.filters.animated=function(e){return Z.grep(Z.timers,function(t){return e===t.elem}).length});var en=/^(?:body|html)$/i;Z.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){Z.offset.setOffset(this,e,t)});var i,n,s,o,a,r,l,c={top:0,left:0},d=this[0],u=d&&d.ownerDocument;if(u)return(n=u.body)===d?Z.offset.bodyOffset(d):(i=u.documentElement,Z.contains(i,d)?(d.getBoundingClientRect!==t&&(c=d.getBoundingClientRect()),s=M(u),o=i.clientTop||n.clientTop||0,a=i.clientLeft||n.clientLeft||0,r=s.pageYOffset||i.scrollTop,l=s.pageXOffset||i.scrollLeft,{top:c.top+r-o,left:c.left+l-a}):c)},Z.offset={bodyOffset:function(e){var t=e.offsetTop,i=e.offsetLeft;return Z.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(Z.css(e,"marginTop"))||0,i+=parseFloat(Z.css(e,"marginLeft"))||0),{top:t,left:i}},setOffset:function(e,t,i){var n=Z.css(e,"position");"static"===n&&(e.style.position="relative");var s,o,a=Z(e),r=a.offset(),l=Z.css(e,"top"),c=Z.css(e,"left"),d=("absolute"===n||"fixed"===n)&&Z.inArray("auto",[l,c])>-1,u={},h={};d?(h=a.position(),s=h.top,o=h.left):(s=parseFloat(l)||0,o=parseFloat(c)||0),Z.isFunction(t)&&(t=t.call(e,i,r)),null!=t.top&&(u.top=t.top-r.top+s),null!=t.left&&(u.left=t.left-r.left+o),"using"in t?t.using.call(e,u):a.css(u)}},Z.fn.extend({position:function(){if(this[0]){var e=this[0],t=this.offsetParent(),i=this.offset(),n=en.test(t[0].nodeName)?{top:0,left:0}:t.offset();return i.top-=parseFloat(Z.css(e,"marginTop"))||0,i.left-=parseFloat(Z.css(e,"marginLeft"))||0,n.top+=parseFloat(Z.css(t[0],"borderTopWidth"))||0,n.left+=parseFloat(Z.css(t[0],"borderLeftWidth"))||0,{top:i.top-n.top,left:i.left-n.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||F.body;e&&!en.test(e.nodeName)&&"static"===Z.css(e,"position");)e=e.offsetParent;return e||F.body})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var n=/Y/.test(i);Z.fn[e]=function(s){return Z.access(this,function(e,s,o){var a=M(e);return o===t?a?i in a?a[i]:a.document.documentElement[s]:e[s]:(a?a.scrollTo(n?Z(a).scrollLeft():o,n?o:Z(a).scrollTop()):e[s]=o,t)},e,s,arguments.length,null)}}),Z.each({Height:"height",Width:"width"},function(e,i){Z.each({padding:"inner"+e,content:i,"":"outer"+e},function(n,s){Z.fn[s]=function(s,o){var a=arguments.length&&(n||"boolean"!=typeof s),r=n||(s===!0||o===!0?"margin":"border");return Z.access(this,function(i,n,s){var o;return Z.isWindow(i)?i.document.documentElement["client"+e]:9===i.nodeType?(o=i.documentElement,Math.max(i.body["scroll"+e],o["scroll"+e],i.body["offset"+e],o["offset"+e],o["client"+e])):s===t?Z.css(i,n,s,r):Z.style(i,n,s,r)},i,a?s:t,a,null)}})}),e.jQuery=e.$=Z,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return Z})})(window),function(e){function t(){var t="string"!=typeof arguments[0]?e.extend(i,arguments[0]):e.extend(i,{}),n=t.vertical?t.verticalClass:t.horizontalClass,s=e(this).addClass(t.rootClass+" "+t.menuGroupClass+" "+n),o=s.find(t.menuItemSelector).addClass(t.menuItemClass),a=s.find(t.menuGroupSelector).addClass(t.menuGroupClass);return e("ul.ui-menu > li").addClass("ui-menu-li"),e("ul.ui-menu > li:first").addClass("current"),e("ul.ui-menu > li > a").addClass("ui-menu-link"),o.hover(function(){e(this).addClass(t.hoverClass)},function(){e(this).removeClass(t.hoverClass)}),o.each(function(){"line"==e(this).find("a").text()&&e(this).addClass("line")}),a.parent().each(function(){var i=e(this),n=i.parent().hasClass(t.horizontalClass)?"bottom":"right";i.addClass("bottom"==n?t.hasVerticalClass:t.hasHorizontalClass),t.hideArrow||i.append("bottom"==n?'<i class="iconfont icon-caret-down"></i>':'<i class="iconfont icon-caret-right"></i>');var s=i.find(t.menuGroupSelector+":first").addClass(t.verticalClass);i.hover(function(){var t={left:"",top:""};"bottom"==n?t.left=0:(t.left=e(this).width()+"px",t.top="0px"),s.css(t).show()},function(){s.hide()})}),s.find("li").click(function(){var t=e(this);return t.children("ul").length>0||a.hide(),t.hasClass("ui-menu-li")?(t.addClass("current"),t.siblings().removeClass("current")):(t.parentsUntil("ui-menu-li").addClass("current"),t.parentsUntil("ui-menu-li").siblings().removeClass("current")),!1}),t.vertical?(s.width(t.width),s.find("li").width(t.width),s.find("a").width(e(this).width()-14)):e.each(o.find("li"),function(){e(this).width(t.groupWidth),!e(this).hasClass("ui-menu-li")&&e.browser.msie&&e(this).children("a").width(e(this).width()-14)}),s.css("zIndex",t.zIndex),s.show(),this}var i={vertical:!1,width:140,groupWidth:160,zIndex:9999,hideArrow:!1,menuItemSelector:"li",menuGroupSelector:"ul",rootClass:"ui-menu",menuItemClass:"ui-menu-item",menuGroupClass:"ui-menu-group",verticalClass:"ui-menu-vertical",horizontalClass:"ui-menu-horizontal",hasVerticalClass:"ui-menu-has-vertical",hasHorizontalClass:"ui-menu-has-horizontal",hoverClass:"ui-menu-hover",showDuration:0,hideDuration:0,hideDelayDuration:0};e.fn.extend({menu:t})}($||jQuery),function(e){e.btn={running:function(t,i){var n=e(t),s=i||"请稍候...";n.data("text",n.html()),n.prop("disabled",!0).addClass("disabled").html('<i class="iconfont icon-spinner icon-spin"></i> '+s)},enabled:function(t){var i=e(t);i.prop("disabled",!1).removeClass("disabled").html(i.data("text"))}}}($||jQuery),function(e){e.easytabs=e.tabs=function(t,i){var n,s,o,a,r=this,l=e(t),c={animate:!1,panelActiveClass:"current",tabActiveClass:"current",height:"auto",defaultTab:"li:first-child",tabs:"> ul > li",cycle:!1,transitionIn:"fadeIn",transitionOut:"fadeOut",transitionInEasing:"swing",transitionOutEasing:"swing",transitionCollapse:"slideUp",transitionUncollapse:"slideDown",transitionCollapseEasing:"swing",transitionUncollapseEasing:"swing",containerClass:"",tabsClass:"",tabClass:"",panelClass:"",cache:!0,event:"click",panelContext:l},d={fast:200,normal:400,slow:600};
r.tabsResize=function(e){r.panels.parent().height(e.height-r.tabs.parent().outerHeight(!0))},r.init=function(){r.settings=a=e.extend({},c,i),a.bind_str=a.event+".easytabs","string"==typeof a.animationSpeed&&(a.animationSpeed=d[a.animationSpeed]),e("a.anchor").remove().prependTo("body"),l.data("easytabs",{}),r.setTransitions(),r.getTabs(),h(),p(),g(),v(),l.attr("data-easytabs",!0),r.panels.parent().height(a.height-r.tabs.parent().outerHeight(!0))},r.setTransitions=function(){o=a.animate?{show:a.transitionIn,hide:a.transitionOut,speed:a.animationSpeed,collapse:a.transitionCollapse,uncollapse:a.transitionUncollapse,halfSpeed:a.animationSpeed/2}:{show:"show",hide:"hide",speed:0,collapse:"hide",uncollapse:"show",halfSpeed:0}},r.getTabs=function(){var t;r.tabs=l.find(a.tabs),r.panels=e(),r.tabs.each(function(){var i=e(this),n=i.children("a"),s=i.children("a").data("target");if(i.data("easytabs",{}),void 0!==s&&null!==s?(i.data("easytabs").ajax=n.attr("href"),s=s.match(/#([^\?]+)/)[1]):n.attr("trigger")?s=n.attr("trigger"):(s=n.attr("href"),s=s.match(/#([^\?]+)/)[1]),t=a.panelContext.find("#"+s),t.length){var o=i.children("a").data("cached");0==o&&(t.addClass("no-cached"),t.data("cached",o)),t.data("easytabs",{position:t.css("position"),visibility:t.css("visibility")}),t.not(a.panelActiveClass).hide(),r.panels=r.panels.add(t),i.data("easytabs").panel=t}else r.tabs=r.tabs.not(i),"console"in window&&console.warn("Warning: tab without matching panel for selector '#"+s+"' removed from set")})},r.selectTab=function(e,t){var i=e.parent().data("easytabs").panel,n=e.parent().data("easytabs").ajax;e.hasClass(a.tabActiveClass)&&i.hasClass(a.panelActiveClass)?a.cache||m(e,i,n,t):m(e,i,n,t)},r.matchTab=function(e){return r.tabs.find("[href='"+e+"'],[data-target='"+e+"']").first()},r.matchInPanel=function(e){return e&&r.validId(e)?r.panels.filter(":has("+e+")").first():[]},r.validId=function(e){return e.substr(1).match(/^[A-Za-z]+[A-Za-z0-9\-_:\.].$/)},r.cycleTabs=function(t){a.cycle&&(t%=r.tabs.length,$tab=e(r.tabs[t]).children("a").first(),skipUpdateToHash=!0,r.selectTab($tab,function(){setTimeout(function(){r.cycleTabs(t+1)},1e3*a.cycle)}))},r.publicMethods={select:function(t){var i;0===(i=r.tabs.filter(t)).length?0===(i=r.tabs.find("a[href='"+t+"']")).length&&0===(i=r.tabs.find("a"+t)).length&&0===(i=r.tabs.find("[data-target='"+t+"']")).length&&0===(i=r.tabs.find("a[href$='"+t+"']")).length&&e.error("Tab '"+t+"' does not exist in tab set"):i=i.children("a").first(),r.selectTab(i)}};var u=function(t,i,n){var s=e.Event(i);return t.trigger(s,n),s.result!==!1},h=function(){l.addClass(a.containerClass),r.tabs.parent().addClass(a.tabsClass),r.tabs.addClass(a.tabClass),r.panels.addClass(a.panelClass)},p=function(){var t,i=window.location.hash.match(/^[^\?]*/)[0],o=r.matchTab(i).parent();1===o.length?(n=o,a.cycle=!1):(t=r.matchInPanel(i),t.length?(i="#"+t.attr("id"),n=r.matchTab(i).parent()):(n=r.tabs.parent().find(a.defaultTab),0===n.length&&e.error("The specified default tab ('"+a.defaultTab+"') could not be found in the tab set ('"+a.tabs+"') out of "+r.tabs.length+" tabs."))),s=n.children("a").first(),f(o)},f=function(){var t,i;t=e(n.data("easytabs").panel),i=n.data("easytabs").ajax,!i||a.cache&&n.data("easytabs").cached||(l.trigger("easytabs:ajax:beforeSend",[s,t]),t.load(i,function(e,i,o){a.complete&&a.complete(),n.data("easytabs").cached=!0,l.trigger("easytabs:ajax:complete",[s,t,e,i,o])})),n.data("easytabs").panel.show().addClass(a.panelActiveClass),n.addClass(a.tabActiveClass).children().addClass(a.tabActiveClass),l.trigger("easytabs:initialised",[s,t])},g=function(){r.tabs.children("a").bind(a.bind_str,function(t){a.cycle=!1,r.selectTab(e(this)),t.preventDefault?t.preventDefault():t.returnValue=!1})},m=function(t,i,n,s){if(r.panels.stop(!0,!0),u(l,"easytabs:before",[t,i,a])){var c,d=r.panels.filter(":visible"),h=i.parent();window.location.hash.match(/^[^\?]*/)[0],i.siblings().filter(".no-cached").empty(),c=function(){l.trigger("easytabs:midTransition",[t,i,a]),"fadeIn"==a.transitionIn&&h.animate(o.halfSpeed),i[o.show](o.speed,a.transitionInEasing,function(){l.trigger("easytabs:after",[t,i,a]),"function"==typeof s&&s()})};var p,f,g,m,v=i.find("iframe")[0],b="border:none;background:transparent;width:100%;height:100%;";n&&(l.trigger("easytabs:ajax:beforeSend",[t,i]),t.data("iframe")?v||(v=document.createElement("iframe"),v.setAttribute("frameborder",0,0),v.style.cssText=b,i[0].appendChild(v),p=e(v),f=i.parent(),g=f.innerHeight()-20,m=f.innerWidth()-20,p.attr("src",n),p.height(g),p.width(m)):(e.ajaxSetup({cache:!1}),i.load(n,function(n,s,o){t.parent().data("easytabs").cached=0==e(this).data("cached")?!1:!0,l.trigger("easytabs:ajax:complete",[t,i,n,s,o])}))),"fadeOut"==a.transitionOut&&h.animate(o.halfSpeed),r.tabs.filter("."+a.tabActiveClass).removeClass(a.tabActiveClass).children().removeClass(a.tabActiveClass),t.parent().addClass(a.tabActiveClass).children().addClass(a.tabActiveClass),r.panels.filter("."+a.panelActiveClass).removeClass(a.panelActiveClass),i.addClass(a.panelActiveClass),d.length?d[o.hide](o.speed,a.transitionOutEasing,c):i[o.uncollapse](o.speed,a.transitionUncollapseEasing,c)}},v=function(){var e;a.cycle&&(e=r.tabs.index(n),setTimeout(function(){r.cycleTabs(e+1)},a.cycle))};r.init()},e.fn.easytabs=e.fn.tabs=function(t){var i=arguments;return this.each(function(){var n=e(this),s=n.data("easytabs");return void 0===s&&(s=new e.easytabs(this,t),n.data("easytabs",s)),s.publicMethods[t]?s.publicMethods[t](Array.prototype.slice.call(i,1)):void 0})},e.fn.tabsResize=function(t){return this.each(function(){var i=e(this),n=i.data("easytabs");void 0===n&&(n=new e.easytabs(this,options),i.data("easytabs",n)),t.height&&n.tabsResize(t)})}}($||jQuery),function(e,t){"use strict";function i(o,a){var r,l,c=this;return!c instanceof i?new i(o,a):(L(a)&&(a={valid:a}),a=a||{},l=W(o,"data-"+f+"-option"),l=l&&"{"===l.charAt(0)?Function("return "+l)():{},r=U[a.theme||l.theme||q.theme],c.options=e.extend({},q,r,l,a),c.$el=e(o),c.rules=new n(c.options.rules,!0),c.messages=new s(c.options.messages,!0),c.elements={},c.fields={},c.deferred={},c.errors={},c._init(),t)}function n(e,t){var i=t?t===!0?this:t:n.prototype;if(j(e))for(var s in e)i[s]=o(e[s])}function s(e,t){var i=t?t===!0?this:t:s.prototype;if(j(e))for(var n in e){if(!e[n])return;i[n]=e[n]}}function o(t){switch(e.type(t)){case"function":return t;case"array":return function(e){return t[0].test(e.value)||t[1]||!1};case"regexp":return function(e){return t.test(e.value)}}}function a(t){var i="";return e.map(t.split(" "),function(e){i+=","+("#"===e.charAt(0)?e:'[name="'+e+'"]')}),i.substring(1)}function r(t){var i;if(t&&t.tagName){switch(t.tagName){case"INPUT":case"SELECT":case"TEXTAREA":case"BUTTON":case"FIELDSET":i=t.form||e(t).closest(".n-"+f);break;case"FORM":i=t;break;default:i=e(t).closest(".n-"+f)}return e(i).data(f)||e(i)[f]().data(f)}}function l(t,i){if(t.form&&null===W(t.form,$)){var n=r(t);n?(n._parse(t),e(t).trigger(i)):W(t,x,null)}}function c(i,n){var s=e.trim(W(i,x+"-"+n));if(s)return s=Function("return "+s)(),s?o(s):t}function d(e,t,i){var n=t.msg;return j(n)&&i&&(n=n[i]),H(n)||(n=W(e,"data-msg-"+i)||W(e,"data-msg")||""),n}function u(e){var t;return e&&(t=I.exec(e)),t?t[1]:""}function h(e){return"INPUT"===e.tagName&&"checkbox"===e.type||"radio"===e.type}function p(e){return Date.parse(e.replace(/\.|\-/g,"/"))}var f="validator",g="n-ok",m="n-error",v="n-tip",b="n-loading",y="n-valid",w="n-invalid",_="msg-box",C="aria-invalid",x="data-rule",k="data-target",N="data-tip",T="data-inputstatus",$="novalidate",S=":verifiable",D=/(\w+)(?:\[(.*)\]$|\((.*)\)$)?/,P=/(?:([^:;\(\[]*):)?(.*)/,z=/[^\x00-\xff]/g,I=/^.*(top|right|bottom|left).*$/,E=/(?:(post|get):)?(.+)/i,R=/<|>/g,O=e.noop,A=e.proxy,L=e.isFunction,M=e.isArray,H=function(e){return"string"==typeof e},j=function(e){return e&&"[object Object]"===Object.prototype.toString.call(e)},F=!window.XMLHttpRequest,W=function(e,i,n){return n===t?e.getAttribute(i):(null===n?e.removeAttribute(i):e.setAttribute(i,""+n),t)},B=window.console||{log:O,info:O},q={debug:0,timely:1,theme:"default",stopOnError:!1,ignore:"",msgWrapper:"span",msgMaker:function(e){var t,i={error:m,ok:g,tip:v,loading:b}[e.type];return t='<span class="msg-wrap ui-tiptext-container ui-tiptext-container-error '+i+'" role="alert">',t+=(e.arrow||"")+(e.icon||"")+'<span class="n-msg ui-tiptext ui-tiptext-error"><i class="iconfont icon-remove-sign"></i>'+e.msg+"</span>",t+="</span>"},msgArrow:"",msgClass:"",defaultMsg:"{0} ",loadingMsg:"验证中..."},U={"default":{formClass:"n-default",msgClass:"n-bottom",showOk:""}};e.fn[f]=function(t){var n=this,s=arguments;return n.is(":input")?n:(!n.is("form")&&(n=this.find("form")),!n.length&&(n=this),n.each(function(){if(H(t)){if("_"===t.charAt(0))return;var n=e(this).data(f);n&&n[t].apply(n,Array.prototype.slice.call(s,1))}else new i(this,t)}),this)},e.fn.isValid=function(e,i){var n,s,o=r(this[0]);return o?(i===t&&(i=!0),o.checkOnly=i,n=this.is(":input")?this:this.find(S),s=o._multiValidate(n,function(t){L(e)&&e.call(null,t),o.checkOnly=!1}),L(e)?this:s):!0},e.expr[":"].verifiable=function(e){var t=e.nodeName.toLowerCase();return("input"===t&&"submit"!==e.type&&"button"!==e.type&&"reset"!==e.type||"select"===t||"textarea"===t)&&e.disabled===!1&&null===W(e,$)},i.prototype={_init:function(){var t=this,i=t.options,n=t.fields,s="",o=t.$el[0];if(j(i.fields)&&e.each(i.fields,function(e,t){t&&(n[e]=H(t)?{rule:t}:t)}),M(i.groups)&&e.map(i.groups,function(i){if(!H(i.fields)||!L(i.callback))return null;var s=t.$el.find(a(i.fields)),o=function(){return i.callback.call(t,s)};e.extend(o,i),e.map(i.fields.split(" "),function(e){n[e]=n[e]||{},n[e].group=o})}),t.$el.find(S).each(function(){t._parse(this)}),"n-bottom"==i.msgClass?s='<span class="ui-tiptext-arrow ui-tiptext-arrowup"><em>◆</em><span>◆</span></span>':"n-right"==i.msgClass&&(s='<span class="ui-tiptext-arrow ui-tiptext-arrowleft"><em>◆</em><span>◆</span></span>'),t.msgOpt={type:"error",pos:u(i.msgClass),wrapper:i.msgWrapper,cls:i.msgClass,style:i.msgStyle,icon:s,arrow:i.msgArrow,show:i.msgShow,hide:i.msgHide},i.valid||null===W(o,"action"))t.isAjaxSubmit=!0;else{var r=e[e._data?"_data":"data"](o,"events");t.isAjaxSubmit=r&&r.valid&&e.map(r.valid,function(e){return-1!==e.namespace.indexOf("form")?1:null}).length?!0:!1}t.$el.data(f)||(t.$el.on("submit."+f+" validate."+f,A(t,"_submit")).on("reset."+f,A(t,"_reset")).on("showtip."+f,A(t,"_showTip")).on("validated.field."+f,S,A(t,"_validatedField")).on("validated.rule."+f,S,A(t,"_validatedRule")).on("focusin."+f+" click."+f+" showtip."+f,S,A(t,"_focus")).on("focusout."+f+" validate."+f,S,A(t,"_blur")).on("mouseover."+f,S,A(t,"_mouseover")).on("mouseout."+f,S,A(t,"_mouseout")).on("click."+f,"input:radio,input:checkbox",A(t,"_click")),i.timely>=2&&t.$el.on("keyup."+f+" paste."+f,S,A(t,"_blur")).on("change."+f,"select",A(t,"_click")),t.$el.data(f,t).addClass("n-"+f+" "+i.formClass),t.NOVALIDATE=W(o,$),W(o,$,$))},_multiValidate:function(i,n){var s=this,o=s.options;return s.isValid=!0,s.deferred={},o.ignore&&(i=i.not(o.ignore)),i.each(function(e,i){var n=s.getField(i);if(n)return s._validate(i,n),!s.isValid&&o.stopOnError?!1:t}),e.when.apply(null,e.map(s.deferred,function(e){return e})).done(function(){n.call(s,s.isValid)}),e.isEmptyObject(s.deferred)?s.isValid:t},_submit:function(i,n){var s,o=this,a=o.options,r=i.target;if(W(r,"novalidateonce"))return W(r,"novalidateonce",null),t;if("only"!==n&&("validate"!==i.type||o.$el[0]===r)){if(o.submiting)return L(o.submiting)&&o.submiting.call(o),i.preventDefault(),t;if(L(a.beforeSubmit)&&a.beforeSubmit.call(o,r)===!1)return o.isAjaxSubmit&&i.preventDefault(),t;o._reset(),o.submiting=!0,a.debug&&B.log("\n"+i.type+" form"),s=o._multiValidate(o.$el.find(S),function(t){var i,n="focus.field",s=t||2===a.debug?"valid":"invalid";if(!t){var l=o.$el.find(":input."+w+":first");l.trigger(n),F&&l.trigger(n),i=e.map(o.errors,function(e){return e})}o.submiting=!1,L(a[s])&&a[s].call(o,r,i),o.$el.trigger(s+".form",[r,i]),t&&!o.isAjaxSubmit&&e(r).trigger("submit",["only"])}),(!s||o.isAjaxSubmit)&&i.preventDefault()}},_reset:function(t){var i=this;i.errors={},t&&i.$el.find(":verifiable").each(function(t,n){i.hideMsg(n),W(n,T,null),W(n,C,null),e(n).removeClass(y+" "+w)})},_focus:function(t){var i,n=t.target,s=e(n).next();if(e(n).removeClass("ui-input-error"),s.hasClass("msg-box")&&s.hide(),"showtip"!==t.type){if(t.isTrigger||this.submiting)return;if(""!==n.value&&("false"===W(n,C)||"tip"===W(n,T)))return}i=W(n,N),i&&this.showMsg(n,{msg:i,type:"tip"})},_mouseover:function(t){var i,n,s,o,a=e(t.target),r=this,l=a.next(),c=a.position();l.length>0&&l.hasClass("msg-box")&&(s=c.left,i=r.options.msgClass,n=l.find(".n-msg").text(),o=e.browser.msie&&8>e.browser.version?c.top:c.top+a.outerHeight(),"n-bottom"==i?l.css({left:s,top:o}):"n-right"==i&&(l.css({left:s+a.outerWidth()+2,top:o}),l.children().height(a.height())),n.length>0&&l.show())},_mouseout:function(t){var i=t.target,n=e(i).next();n.hasClass("msg-box")&&n.hide()},_blur:function(t,i){var n,s,o=this,a=o.options,r=t.target,l=t.type,c=150;if(!i&&"paste"!==l){if("validate"===l)s=!0,c=0;else{if(W(r,"notimely"))return;if(a.timely>=2&&"keyup"!==l)return}if(a.ignore&&e(r).is(a.ignore))return;if("keyup"===l){var d=t.keyCode,u={8:1,9:1,16:1,32:1,46:1};if(9===d&&!r.value)return;if(48>d&&!u[d])return;c=a.timely>=100?a.timely:500}}n=o.getField(r),n&&(c?(n.timeout&&clearTimeout(n.timeout),n.timeout=setTimeout(function(){o._validate(r,n,s)},c)):o._validate(r,n,s))},_click:function(e){this._blur(e,!0)},_showTip:function(e){var t=this;t.$el[0]===e.target&&t.$el.find(":verifiable["+N+"]").each(function(){t.showMsg(this,{msg:W(this,N),type:"tip"})})},_parse:function(e){var t,i=this,n=e.name,s=W(e,x);s&&W(e,x,null),(e.id&&"#"+e.id in i.fields||!e.name)&&(n="#"+e.id),n&&(t=i.fields[n]||{},t.old={},t.rule=t.rule||s||"",t.rule&&(t.key=n,t.required=-1!==t.rule.indexOf("required"),t.must=t.must||!!t.rule.match(/match|checked/),t.required&&W(e,"aria-required",!0),("timely"in t&&!t.timely||!i.options.timely)&&W(e,"notimely",!0),H(t.target)&&W(e,k,t.target),H(t.tip)&&W(e,N,t.tip),i.fields[n]=i._parseRule(t)))},_parseRule:function(i){var n,s=P.exec(i.rule);if(s)return i.display=s[1],i.rules=[],n=(s[2]||"").split(";"),e.map(n,function(n){var s=D.exec(n);return s?(s[3]&&(s[2]=s[3]),i.rules.push({method:s[1],params:s[2]?e.trim(s[2]).split(", "):t}),t):null}),i.vid=0,i.rid=i.rules[0].method,i},_validatedField:function(t,i,n){var s=this,o=s.options,a=t.target,r=n.isValid=i.isValid=!!n.isValid,l=r?"valid":"invalid";n.key=i.key,n.rule=i.rid,r?n.type="ok":(s.submiting&&(s.errors[i.key]=n.msg),s.isValid=!1),i.old.value=a.value,i.old.id=a.id,s.elements[i.key]=a,s.checkOnly||(L(i[l])&&i[l].call(s,a,n),e(a).attr(C,!r).addClass(r?y:w).removeClass(r?w:y).trigger(l+".field",[n,s]),(i.msgMaker||o.msgMaker)&&(!n.showOk&&n.msg||n.showOk&&o.showOk!==!1?s.showMsg(a,n,i):s.hideMsg(a,n,i)))},_validatedRule:function(i,n,s,o){var a,r=this,l=r.options,c=i.target,u="",h=!1,p=!1;if(o=o||{},n=n||r.getField(c),a=n.rid,null===s?e(c).trigger("validated.field",[n,{isValid:!0}]):s===!0||s===t?h=!0:(u=d(c,n,a),u||(H(s)?(u=s,s={error:u}):j(s)&&(s.error?u=s.error:(h=!0,s.ok&&H(s.ok)&&(p=!0),u=s.ok))),o.msg=(h?u:u||r.messages[a]||q.defaultMsg).replace("{0}",n.display||"")),l.debug&&B.log("   "+n.vid+": "+a+" => "+(o.msg||!0)),h){if(o.isValid=!0,!p){var f=n.ok||W(c,"data-ok");f?(p=!0,o.msg=f):H(l.showOk)&&(p=!0,o.msg=l.showOk)}o.showOk=p,e(c).trigger("valid.rule",[a,o.msg])}else e(c).trigger("invalid.rule",[a,o.msg]);h&&n.vid<n.rules.length-1?(n.vid++,r._checkRule(c,n)):(n.vid=0,e(c).trigger("validated.field",[n,o]))},_checkRule:function(i,n){var s,o,a=this,r=n.key,l=n.rules[n.vid],d=l.method,u=l.params;if(!a.submiting||!a.deferred[r])if(o=n.old,n.rid=d,s=!n.must&&o.ret!==t&&o.rule===l&&o.id===i.id&&i.value&&o.value===i.value?o.ret:(c(i,d)||a.rules[d]||function(){return!0}).call(a,i,u,n),j(s)&&L(s.then)){var h=function(e){return H(e)||j(e)&&("error"in e||"ok"in e)?e:t};a.deferred[r]=s,!a.checkOnly&&a.showMsg(i,{type:"loading",msg:a.options.loadingMsg},n),s.then(function(s,r,c){var d,u=c.responseText,p=n.dataFilter||a.options.dataFilter;"json"===this.dataType?u=s:"{"===u.charAt(0)&&(u=e.parseJSON(u)||{}),L(p)?u=p(u):""===u?u=!0:(d=h(u),d===t&&(d=h(u.data)),u=d||!0),o.rule=l,o.ret=u,e(i).trigger("validated.rule",[n,u])},function(t,s){e(i).trigger("validated.rule",[n,s])}),n.isValid=t}else e(i).trigger("validated.rule",[n,s])},_validate:function(i,n){if(!i.disabled&&null===W(i,$)){n.rules||this._parse(i);var s,o,a=this,r=a.options,l=e(i),c={},d=n.group,u=n.isValid=!0;if(r.debug&&B.info(n.key),d&&(o=d.call(a),o===!0||o===t?o=t:(H(o)&&(o={error:o}),n.vid=0,n.rid="group",u=!1,a.hideMsg(i,{},n),e.extend(c,d))),u&&!n.required&&!n.must&&!i.value){if("tip"===W(i,T))return;if(!h(i))return l.trigger("validated.field",[n,{isValid:!0}]),t}o!==t?l.trigger("validated.rule",[n,o,c]):n.rule&&a._checkRule(i,n),s=l.attr("data-inputstatus"),"error"==s?l.addClass("ui-input-error"):"ok"==s&&l.removeClass("ui-input-error")}},_getMsgOpt:function(t){return e.extend({},this.msgOpt,H(t)?{msg:t}:t)},getField:function(e){var t,i=this;return t=e.id&&"#"+e.id in i.fields||!e.name?"#"+e.id:e.name,W(e,x)&&i._parse(e),i.fields[t]},test:function(i,n){var s,o,a,r=this,l=D.exec(n);return l?(l[3]&&(l[2]=l[3]),o=l[1],a=l[2]?e.trim(l[2]).split(", "):t,o in r.rules&&(s=r.rules[o].call(r,i,a)),s===!0||s===t||null===s||!1):!0},getRangeMsg:function(e,t,i,n){if(t){var s=this,o=s.messages[i]||"",a=t[0].split("~"),r=a[0],l=a[1],c="rg",d=[""],u=+e===+e;if(2===a.length){if(r&&l){if(u&&e>=+r&&+l>=e)return!0;d=d.concat(a)}else if(r&&!l){if(u&&e>=+r)return!0;d.push(r),c="gt"}else if(!r&&l){if(u&&+l>=e)return!0;d.push(l),c="lt"}}else{if(e===+r)return!0;d.push(r),c="eq"}return o&&(n&&o[c+n]&&(c+=n),d[0]=o[c]),s.renderMsg.apply(null,d)}},renderMsg:function(){var e=arguments,t=e[0],i=e.length;if(t){for(;--i;)t=t.replace("{"+i+"}",e[i]);return t}},_getMsgDOM:function(t,i){var n,s,o,a=e(t);if(a.is(":input")?(o=i.target||W(t,k),o&&(o=this.$el.find(o),o.length&&(o.is(":input")?t=o.get(0):n=o)),n||(s=!h(t)&&t.id?t.id:t.name,n=this.$el.find(i.wrapper+"."+_+'[for="'+s+'"]'))):n=a,!n.length)if(a=this.$el.find(o||t),n=e("<"+i.wrapper+">").attr({"class":_+(i.cls?" "+i.cls:""),style:i.style||"","for":s}),h(t)){var r=a.parent();n.appendTo(r.is("label")?r.parent():r)}else n.insertAfter(a);return n},showMsg:function(t,i,n){if(i=this._getMsgOpt(i),i.msg||i.showOk){t=e(t).get(0),e(t).is(":verifiable")&&(W(t,T,i.type),n=n||this.getField(t),n&&(n.msgStyle&&(i.style=n.msgStyle),n.msgClass&&(i.cls=n.msgClass),n.msgWrapper&&(i.wrapper=n.msgWrapper)));var s=this._getMsgDOM(t,i),o=s[0].className;!I.test(o)&&s.addClass(i.cls),F&&"bottom"===i.pos&&(s[0].style.marginTop=e(t).outerHeight()+"px"),s.html(((n||{}).msgMaker||this.options.msgMaker).call(this,i)),s[0].style.display="none",L(i.show)&&i.show.call(this,s,i.type)}},hideMsg:function(t,i,n){t=e(t).get(0),i=this._getMsgOpt(i),e(t).is(":verifiable")&&(n=n||this.getField(t),n&&n.msgWrapper&&(i.wrapper=n.msgWrapper));var s=this._getMsgDOM(t,i);s.length&&(L(i.hide)?i.hide.call(this,s,i.type):s[0].style.display="none")},mapMsg:function(t){var i=this;e.each(t,function(e,t){var n=i.elements[e]||i.$el.find(':input[name="'+e+'"]')[0];i.showMsg(n,t)})},setMsg:function(e){new s(e,this.messages)},setRule:function(t){new n(t,this.rules),e.map(this.fields,function(e){e.old={}})},setField:function(i,n){var s=this,o={};if(H(i)){if(null===n)return e.map(i.split(" "),function(e){e&&s.fields[e]&&(s.fields[e]=null)}),t;n&&(o[i]=n)}else j(i)&&(o=i);s.options.fields?e.extend(s.options.fields,o):s.options.fields=o,s._init()},holdSubmit:function(e){e===t&&(e=!0),this.submiting=e},destroy:function(){this._reset(!0),this.$el.off("."+f).removeData(f),W(this.$el[0],$,this.NOVALIDATE)}},e(document).on("focusin",":input["+x+"]",function(){l(this,"focusin")}).on("click","input,button",function(){if(this.form)if("submit"===this.type&&null!==W(this,"formnovalidate")||null!==W(this,$))W(this.form,"novalidateonce",!0);else if(this.name&&h(this)){var e=this.form.elements[this.name];e.length&&(e=e[0]),W(e,x)&&l(e,"validate")}}).on("submit","form",function(t){if(null===W(this,$)){var i,n=e(this);n.data(f)||(i=n[f]().data(f),e.isEmptyObject(i.fields)?(W(this,$,$),n.removeData(f)):"submit"===t.type&&i._submit(t))}}),new n({required:function(t,i){var n=e.trim(t.value),s=!0;if(i)if(1===i.length){if(!n&&!this.test(t,i[0]))return null}else"not"===i[0]&&e.map(i.slice(1),function(t){n===e.trim(t)&&(s=!1)});return s&&!!n},integer:function(e,t){var i,n="0|",s="[1-9]\\d*",o=t?t[0]:"*";switch(o){case"+":i=s;break;case"-":i="-"+s;break;case"+0":i=n+s;break;case"-0":i=n+"-"+s;break;default:i=n+"-?"+s}return i="^(?:"+i+")$",RegExp(i).test(e.value)||this.messages.integer[o]},match:function(t,i,n){if(i){var s,o,a,r,l,c,d,u="eq";if(1===i.length?a=i[0]:(u=i[0],a=i[1]),l="#"===a.charAt(0)?a:':input[name="'+a+'"]',c=this.$el.find(l)[0]){if(d=this.getField(c),s=t.value,o=c.value,n.init_match||(this.$el.on("valid.field."+f,l,function(){e(t).trigger("validate")}),n.init_match=d.init_match=1),!n.required&&""===s&&""===o)return null;if(i[2]&&("date"===i[2]?(s=p(s),o=p(o)):"time"===i[2]&&(s=+s.replace(":",""),o=+o.replace(":",""))),"eq"!==u&&!isNaN(+s)&&isNaN(+o))return!0;switch(r=this.messages.match[u].replace("{1}",d.display||a),u){case"lt":return+o>+s||r;case"lte":return+o>=+s||r;case"gte":return+s>=+o||r;case"gt":return+s>+o||r;case"neq":return s!==o||r;default:return s===o||r}}}},range:function(e,t){return this.getRangeMsg(+e.value,t,"range")},checked:function(t,i,n){if(h(t)){var s,o;return o=this.$el.find('input[name="'+t.name+'"]').filter(function(){return!s&&h(this)&&(s=this),!this.disabled&&this.checked&&e(this).is(":visible")}).length,i?this.getRangeMsg(o,i,"checked"):!!o||d(s,n,"checked")||this.messages.required}},length:function(e,t){var i=e.value,n=(t[1]?i.replace(z,"xx"):i).length;return t&&"~"===t[0].charAt(0)&&(t[0]="0"+t[0]),this.getRangeMsg(n,t,"length",t[1]?"_2":"")},remote:function(t,i){if(i){var n,s=this,o=E.exec(i[0]),a=o[2],r=(o[1]||"POST").toUpperCase(),l={};return l[t.name]=t.value,i[1]&&e.map(i.slice(1),function(t){l[e.trim(t)]=s.$el.find(':input[name="'+t+'"]').val()}),l=e.param(l),"POST"===r&&(n=a.indexOf("?"),-1!==n&&(l+="&"+a.substring(n+1,a.length),a=a.substring(0,n))),e.ajax({url:a,type:r,data:l,async:!0,cache:!1})}},filter:function(e,t){e.value=e.value.replace(t?RegExp("["+t[0]+"]","g"):R,"")}}),i.config=function(t){e.each(t,function(e,t){"rules"===e?new n(t):"messages"===e?new s(t):q[e]=t})},i.setTheme=function(t,i){j(t)?e.each(t,function(e,t){U[e]=t}):H(t)&&j(i)&&(U[t]=i)},e[f]=i}($||jQuery),function(e){e.validator.config({defaultMsg:"{0}格式不正确",loadingMsg:"正在验证...",rules:{digits:[/^\d*$/,"请输入数字"],letters:[/^[a-z]*$/i,"{0}只能输入字母"],tel:[/^(?:(?:0\d{2,3}[- ]?[1-9]\d{6,7})|(?:[48]00[- ]?[1-9]\d{6}))$/,"电话格式不正确"],mobile:[/^1[3-9]\d{9}$/,"手机号格式不正确"],email:[/^(?:[a-z0-9]+[_\-+.]?)*[a-z0-9]+@(?:([a-z0-9]+-?)*[a-z0-9]+\.)+([a-z]{2,})+$/i,"邮箱格式不正确"],qq:[/^[1-9]\d{4,}$/,"QQ号格式不正确"],date:[/^\d{4}-\d{1,2}-\d{1,2}$/,"请输入正确的日期,例:yyyy-mm-dd"],time:[/^([01]\d|2[0-3])(:[0-5]\d){1,2}$/,"请输入正确的时间,例:14:30或14:30:00"],ID_card:[/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[A-Z])$/,"请输入正确的身份证号码"],url:[/^(https?|ftp):\/\/[^\s]*$/i,"网址格式不正确"],postcode:[/^[1-9]\d{5}$/,"邮政编码格式不正确"],chinese:[/^[\u0391-\uFFE5]+$/,"请输入中文"],username:[/^\w{3,20}$/,"请输入3-12位数字、字母、下划线"],password:[/^[0-9a-zA-Z]{6,16}$/,"密码由6-16位数字、字母组成"],accept:function(e,t){if(!t)return!0;var i=t[0];return"*"===i||RegExp(".(?:"+(i||"png|jpg|jpeg|gif")+")$","i").test(e.value)||this.renderMsg("只接受{1}后缀",i.replace("|",","))}}}),e.validator.config({messages:{required:"{0}不能为空",remote:"{0}已被使用",integer:{"*":"请输入整数","+":"请输入正整数","+0":"请输入正整数或0","-":"请输入负整数","-0":"请输入负整数或0"},match:{eq:"{0}与{1}不一致",neq:"{0}与{1}不能相同",lt:"{0}必须小于{1}",gt:"{0}必须大于{1}",lte:"{0}必须小于或等于{1}",gte:"{0}必须大于或等于{1}"},range:{rg:"请输入{1}到{2}的数",gt:"请输入大于或等于{1}的数",lt:"请输入小于或等于{1}的数"},checked:{eq:"请选择{1}项",rg:"请选择{1}到{2}项",gt:"请至少选择{1}项",lt:"请最多选择{1}项"},length:{eq:"请输入{1}个字符",rg:"请输入{1}到{2}个字符",gt:"请输入大于{1}个字符",lt:"请输入小于{1}个字符",eq_2:"",rg_2:"",gt_2:"",lt_2:""}}});var t='<span class="n-arrow"><b>◆</b><i>◆</i></span>';e.validator.setTheme({simple_right:{formClass:"n-simple",msgClass:"n-right"},simple_bottom:{formClass:"n-simple",msgClass:"n-bottom"},yellow_top:{formClass:"n-yellow",msgClass:"n-top",msgArrow:t},yellow_right:{formClass:"n-yellow",msgClass:"n-right",msgArrow:t},yellow_right_effect:{formClass:"n-yellow",msgClass:"n-right",msgArrow:t,msgShow:function(e,t){var i=e.children();i.is(":animated")||("error"===t?i.css({left:"20px",opacity:0}).delay(100).show().stop().animate({left:"-4px",opacity:1},150).animate({left:"3px"},80).animate({left:0},80):i.css({left:0,opacity:1}).fadeIn(200))},msgHide:function(e){var t=e.children();t.stop().delay(100).show().animate({left:"20px",opacity:0},300,function(){e.hide()})}}})}($||jQuery),function(e){function t(t){this.options=e.extend({},t),this.elem=e(this.options.element),this.callback=t.callback||function(){},this.marginTop=t.marginTop||0,this._stickyId=a++}function i(){return!c}function n(){if(l)return!1;var e=s[0].body;if(s[0].createElement&&e&&e.appendChild&&e.removeChild){var t,i=s[0].createElement("div"),n=function(e){return window.getComputedStyle?window.getComputedStyle(i).getPropertyValue(e):i.currentStyle.getAttribute(e)};e.appendChild(i);for(var a=0;o.length>a&&(i.style.cssText="position:"+o[a]+"sticky;visibility:hidden;",!(t=-1!==n("position").indexOf("sticky")));a++);return i.parentNode.removeChild(i),t}}var s=e(document),o=["-webkit-","-ms-","-o-","-moz-",""],a=0,r=(window.navigator.userAgent||"").toLowerCase(),l=-1!==r.indexOf("msie"),c=-1!==r.indexOf("msie 6"),d=n(),u=i();e.extend(t.prototype,{render:function(){var t=this;if(this.elem.length&&!this.elem.data("bind-sticked")){if(this._originTop=this.elem.offset().top,this.marginTop===Number.MAX_VALUE){var i=!0;this.marginTop=this._originTop}this._originStyles={position:null,top:null,left:null};for(var n in this._originStyles)this._originStyles.hasOwnProperty(n)&&(this._originStyles[n]=this.elem.css(n));var s;if(e.sticky.isPositionStickySupported&&!i){s=this._supportSticky;for(var a="",r=0;o.length>r;r++)a+="position:"+o[r]+"sticky;";this.elem[0].style.cssText+=a+"top: "+this.marginTop+"px;"}else e.sticky.isPositionFixedSupported?s=this._supportFixed:(s=this._supportAbsolute,e("<style type='text/css'> * html{ background:url(null) no-repeat fixed; } </style>").appendTo("head"));return e(window).on("scroll."+this._stickyId,function(){t.elem.is(":visible")&&s.call(t)}),this.elem.data("bind-sticked",!0),this}},_supportFixed:function(){var e=this._originTop-s.scrollTop();!this.elem.data("sticked")&&this.marginTop>=e?(this._addPlaceholder(),this.elem.css({position:"fixed",top:this.marginTop,left:this.elem.offset().left}),this.elem.data("sticked",!0),this.callback.call(this,!0)):this.elem.data("sticked")&&e>this.marginTop&&this._restore()},_supportAbsolute:function(){var e=this._originTop-s.scrollTop();this.marginTop>=e?(this.elem.data("sticked")||(this._addPlaceholder(),this.elem.data("sticked",!0),this.callback.call(this,!0)),this.elem.css({position:"absolute",top:this.marginTop+s.scrollTop()})):this.elem.data("sticked")&&e>this.marginTop&&this._restore()},_supportSticky:function(){var e=this._originTop-s.scrollTop();!this.elem.data("sticked")&&this.marginTop>=e?(this.elem.data("sticked",!0),this.callback.call(this,!0)):this.elem.data("sticked")&&e>this.marginTop&&this.callback.call(this,!1)},_restore:function(){this._removePlaceholder(),this.elem.css(this._originStyles),this.elem.data("sticked",!1),this.callback.call(this,!1)},_addPlaceholder:function(){var t=!1,i=this.elem.css("position");("static"===i||"relative"===i)&&(t=!0),"block"!==this.elem.css("display")&&(t=!1),t&&(this._placeholder=e('<div style="visibility:hidden;margin:0;padding:0;"></div>'),this._placeholder.width(this.elem.outerWidth(!0)).height(this.elem.outerHeight(!0)).css("float",this.elem.css("float")).insertAfter(this.elem))},_removePlaceholder:function(){this._placeholder&&this._placeholder.remove()},destory:function(){this._restore(),this.elem.data("bind-sticked",!1),e(window).off("scroll."+this._stickyId)}});var h=e.sticky=function(e,i,n){return new t({element:e,marginTop:i||0,callback:n}).render()};e.sticky.stick=e.sticky,e.sticky.fix=function(e){return new t({element:e,marginTop:Number.MAX_VALUE}).render()},e.sticky.isPositionStickySupported=d,e.sticky.isPositionFixedSupported=u,e.sticky=window.sticky=h}($||jQuery),function(e){function t(e,t){e&&this.init(e,t)}if(e.fn.btnAddRow===void 0){var i=[],n="ExpandableTable";t.prototype.init=function(t,s){return i.push(this),this.target=e(t).data(n,this),this.maxRow=s,this.seed=Math.round(1e4*Math.random()),this.onAddRow=[],this},t.prototype.live=function(){if(!this.goLive){var t=this;this.update(),e(".addRow"+this.seed).live("click",function(i){i.preventDefault();var n=t.addRow();t.afterAddRow&&e.isFunction(t.afterAddRow)&&t.afterAddRow(n)}),e(".delRow"+this.seed).live("click",function(i){i.preventDefault();var n=e(this).closest("."+t.cloneClass),s=n.clone();t.beforeDelRow&&e.isFunction(t.beforeDelRow)&&t.beforeDelRow(n),n.hide().find("*").each(function(t,i){e(i).data("destroy");for(var n in e(i).data("destroy"))e(i).data("destroy")[n](i)}),n.remove(),e(".addRow"+t.seed).attr("disabled",!1),t.update(),t.deleteCallBack&&e.isFunction(t.deleteCallBack)&&t.deleteCallBack(s)}),e(".autoAdd"+this.seed).live("keyup",function(){("textarea"==this.nodeName.toLowerCase()&&""!=e(this).html()||"textarea"==this.nodeName.toLowerCase()&&""!=e(this).val()||"input"==this.nodeName.toLowerCase()&&""!=e(this).val())&&t.addRow()}),this.goLive=!0}return this},t.prototype.updateRowNumber=function(){var t=this;return t.rowNumColumn&&e("."+t.cloneClass,t.target).each(function(i,n){var s=i+1;e("."+t.rowNumColumn,e(n)).each(function(t,i){e(i).is(":text, textarea, select, div, a")?e(i).val(s):e(i).text(s)})}),t},t.prototype.updateName=function(){return this.customName||e("."+this.cloneClass,this.target).each(function(t,i){e("input,textarea, select, div, a",e(i)).each(function(i,n){if(void 0!=e(n).attr("name")&&""!=e(n).attr("name")){var s=e(n).attr("name").replaceSuffix(t);e(n).attr("name",s)}})}),this},t.prototype.updateInputBoxName=function(){return e("."+this.cloneClass,this.target).each(function(t,i){var n=t+1;e("input,textarea, select, div, a",e(i)).each(function(t,i){if(""!=e(i).attr("name")){var s=e(i).attr("name").replace(/\d+$/,"")+n;e(i).attr("name",s)}})}),this},t.prototype.updateInputBoxId=function(){var t=this;return e("."+t.cloneClass,this.target).each(function(t,i){var n=t+1;e("input,textarea, select, div, a",e(i)).each(function(t,i){if(""!=e(i).attr("id")){var s=e(i).attr("id").replace(/\d+$/,"")+n;e(i).removeAttr("id").attr("id",s)}})}),this},t.prototype.updateOddRowCSS=function(){return this.oddRowCSS&&(this.target.find("."+this.oddRowCSS).removeClass(this.oddRowCSS),this.target.find("tr:odd").addClass(this.oddRowCSS)),this},t.prototype.updateEvenRowCSS=function(){return this.evenRowCSS&&(this.target.find("."+this.evenRowCSS).removeClass(this.evenRowCSS),this.target.find("tr:even").addClass(this.evenRowCSS)),this},t.prototype.updateRowCount=function(){if(this.displayRowCountTo){var t=e("."+this.cloneClass,this.target).size();e("."+this.displayRowCountTo,this.target).each(function(i,n){var s=n.nodeName.toLowerCase();"input"==s||"textarea"==s?e(n).val(t):e(n).html(t)})}return this},t.prototype.update=function(){var t=this;return this.delRowButtons=e(".delRow"+this.seed,this.target),1==this.delRowButtons.size()?this.delRowButtons.hide():this.autoAddRow?this.delRowButtons.not(":last").show():this.delRowButtons.show(),this.autoAddRow&&(this.target.find(".autoAdd"+this.seed).removeClass("autoAdd"+t.seed),this.target.find("."+t.cloneClass+":last").find("input,textarea, select, div, a").addClass("autoAdd"+this.seed)),this.inputBoxAutoNumber&&(this.updateInputBoxName(),this.updateInputBoxId()),this.inputBoxAutoId&&this.updateInputBoxId(),this.hideFirstOnly&&""!=this.hideFirstOnly&&(e("."+this.cloneClass).eq(0).find("."+this.hideFirstOnly).hide(),e("."+this.cloneClass).not(":first").find("."+this.hideFirstOnly).show()),this.showFirstOnly&&""!=this.showFirstOnly&&(e("."+this.cloneClass).eq(0).find("."+this.showFirstOnly).show(),e("."+this.cloneClass).not(":first").find("."+this.showFirstOnly).hide()),this.updateRowNumber().updateName().updateOddRowCSS().updateEvenRowCSS().updateRowCount(),this
},t.prototype.addRow=function(){var t;if(!this.maxRow||this.maxRow&&e("."+this.cloneClass).size()<this.maxRow){this.delRowButtons.show();var i=e("."+this.cloneClass+":last",this.target);this.newRow=t=i.clone(),t.find("input:text").val(""),t.find("textarea").text(""),this.autoAddRow&&t.find("."+this.cloneClass).hide(),t.insertAfter(i),this.ignoreClass&&""!=this.ignoreClass&&t.find("."+this.ignoreClass).each(function(){"input"!=this.nodeName.toLowerCase()||"text"!=e(this).attr("type").toLowerCase()&&"hidden"!=e(this).attr("type").toLowerCase()?"td"==this.nodeName.toLowerCase()?e(this).html(" "):""!=e(this).html()&&e(this).text(""):e(this).val("")}),t.find("input:hidden").not("."+this.cloneClass).val(""),this.hideFirstOnly&&""!=this.hideFirstOnly&&t.find("."+this.hideFirstOnly).show(),this.showFirstOnly&&""!=this.showFirstOnly&&t.find("."+this.hideFirstOnly).hide(),this.maxRow&&e("."+this.cloneClass).size()>=this.maxRow&&e(".addRow"+this.seed).attr("disabled",!0),this.target.find("."+this.cloneClass+":first").closest("tr").find("*").each(function(i){if(e(this).data("init")){var n=t.find("*").eq(i),s=n[0];n.data("init",{});for(var o in e(this).data("init"))n.data("init")[o]=e(this).data("init")[o],n.data("init")[o](s)}}),this.update()}return this.addCallBack&&e.isFunction(this.addCallBack)&&this.addCallBack(t),t},e.fn.btnAddRow=e.fn.tableAutoAddRow=function(s,o){var a;a="object"==typeof s?o&&e.isFunction(o)?o:null:s&&e.isFunction(s)?s:null,s=e.extend({maxRow:null,ignoreClass:null,rowNumColumn:null,beforeDelRow:null,afterAddRow:null,tableId:null,customName:!1,cloneName:[],autoAddRow:!1,oddRowCSS:null,evenRowCSS:null,inputBoxAutoNumber:!1,inputBoxAutoId:!1,displayRowCountTo:null,maxRowAttr:null,hideFirstOnly:null,showFirstOnly:null,cloneClass:null,evenRowAttr:null,oddRowAttr:null,rowCountAttr:null,autoNumAttr:null,autoIdAttr:null},s),this.each(function(){var i,o,r;"string"==typeof s.cloneClass&&""!=s.cloneClass?e(this).closest("table").find("."+s.cloneClass).size()>0?(i=e(this).closest("table"),r=s.cloneClass):e(this).closest("."+s.cloneClass).size()>0?(i=e(this).closest("."+s.cloneClass).closest("table"),r=s.cloneClass):i="table"==this.nodeName.toLowerCase()?e(this):e(this).closest("table"):i="table"==this.nodeName.toLowerCase()?e(this):e(this).closest("table"),s.maxRowAttr&&e(this).attr(s.maxRowAttr)!==void 0&&(s.maxRow=e(this).attr(s.maxRowAttr)),s.oddRowAttr&&e(this).attr(s.oddRowAttr)!==void 0&&(s.oddRowCSS=e(this).attr(s.oddRowAttr)),s.evenRowAttr&&e(this).attr(s.evenRowAttr)!==void 0&&(s.evenRowCSS=e(this).attr(s.evenRowAttr)),s.rowCountAttr&&e(this).attr(s.rowCountAttr)!==void 0&&(s.displayRowCountTo=e(this).attr(s.rowCountAttr)),s.autoNumAttr&&e(this).attr(s.autoNumAttr)!==void 0&&(s.inputBoxAutoNumber=e(this).attr(s.autoNumAttr)),s.autoIdAttr&&e(this).attr(s.autoIdAttr)!==void 0&&(s.inputBoxAutoId=e(this).attr(s.autoIdAttr)),i.size()>0&&(i.data(n)===void 0||null===i.data(n)?(o=new t(i,s.maxRow),"table"!=this.nodeName.toLowerCase()&&e(this).addClass("addRow"+o.seed).data(n,o)):"table"!=this.nodeName.toLowerCase()&&e(this).addClass("addRow"+i.data(n).seed).data(n,i.data(n)),e(this).data(n)&&(o=e(this).data(n)),o.maxRow=s.maxRow,o.maxRow=s.maxRow,o.ignoreClass=s.ignoreClass,o.rowNumColumn=s.rowNumColumn,o.customName=s.customName,o.beforeDelRow=s.beforeDelRow,o.afterAddRow=s.afterAddRow,o.tableId=s.tableId,o.cloneName=s.cloneName,o.oddRowCSS=s.oddRowCSS,o.evenRowCSS=s.evenRowCSS,o.autoAddRow=s.autoAddRow,o.inputBoxAutoNumber=s.inputBoxAutoNumber,o.displayRowCountTo=s.displayRowCountTo,o.hideFirstOnly=s.hideFirstOnly,o.showFirstOnly=s.showFirstOnly,o.cloneClass="string"==typeof r&&o.cloneClass!=r?r:"cloneRow"+o.seed,o.updateRowCount(),o.addCallBack=a)});for(var r=0;i.length>r;r++)i[r].goLive||i[r].live()},e.fn.btnDelRow=function(s,o){var a;a="object"==typeof s?o&&e.isFunction(o)?o:null:s&&e.isFunction(s)?s:null,s=e.extend({cloneClass:null},s),this.each(function(){var i,o,r;e(this).closest("."+s.cloneClass).size()>0?(o=e(this).closest("."+s.cloneClass).closest("table"),r=s.cloneClass):o=e(this).hide().closest("table"),o.size()>0&&(o.data(n)===void 0||null===o.data(n)?(i=new t(o),e(this).addClass("delRow"+i.seed).data(n,i)):e(this).addClass("delRow"+o.data(n).seed).data(n,o.data(n)),e(this).data(n)&&(i=e(this).data(n),i.deleteCallBack=a),"string"!=typeof i.cloneClass||""==i.cloneClass?(i.cloneClass="cloneRow"+i.seed,e(this).closest("tr").addClass("cloneRow"+i.seed)):"string"==typeof r?i.cloneClass=r:(i.cloneClass="cloneRow"+i.seed,e(this).closest("tr").addClass("cloneRow"+i.seed)),i.update())});for(var r=0;i.length>r;r++)i[r].goLive||i[r].live()},e.extend(String.prototype,{replaceSuffix:function(e){return this.replace(/\[[0-9]+\]/,"["+e+"]").replace("#index#",e)}})}}($||jQuery),function(e){e.fn.accordion=function(t){var i={handle:"h3",panel:".panel",speed:200,easing:"swing",canOpenMultiple:!1,canToggle:!0,activeClassPanel:"open",activeClassLi:"current",lockedClass:"locked",loadingClass:"fn-hide"};return t&&e.extend(i,t),this.each(function(){var t=e(this),n={height:0,marginTop:0,marginBottom:0,paddingTop:0,paddingBottom:0};t.find(">li>"+i.panel).each(function(){var t=e(this);return t.removeClass(i.loadingClass).css("visibility","hidden").data("dimensions",{marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),paddingTop:t.css("paddingTop"),paddingBottom:t.css("paddingBottom"),height:this.offsetHeight-parseInt(t.css("paddingTop"))-parseInt(t.css("paddingBottom"))}).bind("panel-open.accordion",function(t,s){var o=e(this);s.addClass(i.activeClassLi),o.css(e.extend({overflow:"hidden"},n)).addClass(i.activeClassPanel).show().animate(e.browser.msie&&8>parseInt(e.browser.version)?o.data("dimensions"):e.extend({opacity:1},o.data("dimensions")),{duration:i.speed,easing:i.easing,queue:!1,complete:function(){e.browser.msie&&this.style.removeAttribute("filter"),e(this).removeAttr("style")}})}).bind("panel-close.accordion",function(){var t=e(this);t.closest("li").removeClass(i.activeClassLi),t.removeClass(i.activeClassPanel).css({overflow:"hidden"}).animate(e.browser.msie&&8>parseInt(e.browser.version)?n:e.extend({opacity:0},n),{duration:i.speed,easing:i.easing,queue:!1,complete:function(){e.browser.msie&&this.style.removeAttribute("filter"),t.hide()}})}).hide().css("visibility","visible"),t}),t.find(" > li > "+i.handle).wrapInner('<a class="accordion-opener" href="#open-panel" />'),t.find(" > li."+i.activeClassLi+" > "+i.panel+", > li."+i.lockedClass+" > "+i.panel).show().addClass(i.activeClassPanel);var s=t.find(" > li."+i.activeClassLi+", > li."+i.lockedClass);!i.canToggle&&1>s.length&&t.find(" > li").first().addClass(i.activeClassLi).find(" > "+i.panel).addClass(i.activeClassPanel).show(),t.delegate(".accordion-opener","click",function(n){n.preventDefault(),n.stopImmediatePropagation();var s=e(this),o=s.closest("li"),a=o.find(">"+i.panel).first(),r=t.find(" > li:not(."+i.lockedClass+") > "+i.panel+"."+i.activeClassPanel);o.hasClass(i.lockedClass)||(a.is(":visible")?i.canToggle&&a.trigger("panel-close"):(a.trigger("panel-open",[o]),i.canOpenMultiple||r.trigger("panel-close")))})}),this}}($||jQuery),function(e){function t(t,i){var n=e(i);return 2>n.length?n:t.parent().find(i)}function i(i,s){var o=this,a=i.add(o),r=i.children(),l=0,c=s.vertical;if(n||(n=o),r.length>1&&(r=e(s.items,i)),s.size>1&&(s.circular=!1),e.extend(o,{getConf:function(){return s},getIndex:function(){return l},getSize:function(){return o.getItems().size()},getNaviButtons:function(){return p.add(f)},getRoot:function(){return i},getItemWrap:function(){return r},getItems:function(){return r.find(s.item).not("."+s.clonedClass)},move:function(e,t){return o.seekTo(l+e,t)},next:function(e){return o.move(s.size,e)},prev:function(e){return o.move(-s.size,e)},begin:function(e){return o.seekTo(0,e)},end:function(e){return o.seekTo(o.getSize()-1,e)},focus:function(){return n=o,o},addItem:function(t){return t=e(t),s.circular?(r.children().last().before(t),r.children().first().replaceWith(t.clone().addClass(s.clonedClass))):(r.append(t),f.removeClass("done")),a.trigger("onAddItem",[t]),o},seekTo:function(t,i,d){if(t.jquery||(t*=1),s.circular&&0===t&&-1==l&&0!==i)return o;if(!s.circular&&0>t||t>o.getSize()||-1>t)return o;var u=t;t.jquery?t=o.getItems().index(t):u=o.getItems().eq(t);var h=e.Event("onBeforeSeek");if(!d&&(a.trigger(h,[t,i]),h.isDefaultPrevented()||!u.length))return o;var p=c?{top:-u.position().top}:{left:-u.position().left};return l=t,n=o,void 0===i&&(i=s.speed),r.animate(p,i,s.easing,d||function(){a.trigger("onSeek",[t])}),o}}),e.each(["onBeforeSeek","onSeek","onAddItem"],function(t,i){e.isFunction(s[i])&&e(o).on(i,s[i]),o[i]=function(t){return t&&e(o).on(i,t),o}}),s.circular){var d=o.getItems().slice(-1).clone().prependTo(r),u=o.getItems().eq(1).clone().appendTo(r);d.add(u).addClass(s.clonedClass),o.onBeforeSeek(function(e,t,i){return e.isDefaultPrevented()?void 0:-1==t?(o.seekTo(d,i,function(){o.end(0)}),e.preventDefault()):(t==o.getSize()&&o.seekTo(u,i,function(){o.begin(0)}),void 0)});var h=i.parents().add(i).filter(function(){return"none"===e(this).css("display")?!0:void 0});h.length?(h.show(),o.seekTo(0,0,function(){}),h.hide()):o.seekTo(0,0,function(){})}var p=t(i,s.prev).click(function(e){e.stopPropagation(),o.prev()}),f=t(i,s.next).click(function(e){e.stopPropagation(),o.next()});if(s.circular||(o.onBeforeSeek(function(e,t){setTimeout(function(){e.isDefaultPrevented()||(p.toggleClass(s.disabledClass,0>=t),f.toggleClass(s.disabledClass,t>=o.getSize()-1))},1)}),s.initialIndex||p.addClass(s.disabledClass)),2>o.getSize()&&p.add(f).addClass(s.disabledClass),s.mousewheel&&e.fn.mousewheel&&i.mousewheel(function(e,t){return s.mousewheel?(o.move(0>t?1:-1,s.wheelSpeed||50),!1):void 0}),s.touch){var g={};r[0].ontouchstart=function(e){var t=e.touches[0];g.x=t.clientX,g.y=t.clientY},r[0].ontouchmove=function(e){if(1==e.touches.length&&!r.is(":animated")){var t=e.touches[0],i=g.x-t.clientX,n=g.y-t.clientY;o[c&&n>0||!c&&i>0?"next":"prev"](),e.preventDefault()}}}s.keyboard&&e(document).on("keydown.carousel",function(t){if(!(!s.keyboard||t.altKey||t.ctrlKey||t.metaKey||e(t.target).is(":input")||"static"!=s.keyboard&&n!=o)){var i=t.keyCode;return!c||38!=i&&40!=i?c||37!=i&&39!=i?void 0:(o.move(37==i?-1:1),t.preventDefault()):(o.move(38==i?-1:1),t.preventDefault())}}),s.initialIndex&&o.seekTo(s.initialIndex,0,function(){})}carousel={conf:{activeClass:"current",circular:!1,clonedClass:"cloned",disabledClass:"disabled",easing:"swing",initialIndex:0,item:"> *",items:".items",keyboard:!0,mousewheel:!1,next:".next",prev:".prev",size:1,speed:400,vertical:!1,touch:!0,wheelSpeed:0}};var n;e.fn.carousel=function(t){var n=this.data("carousel");return n?n:(t=e.extend({},carousel.conf,t),this.each(function(){n=new i(e(this),t),e(this).data("carousel",n)}),t.api?n:this)}}(jQuery),function(e){"use strict";function t(t,n){this.options=e.extend({},e.fn[i].defaults,n),this.$trigger=t,this.$target=null!==this.options.target?e(this.options.target):this.$trigger[this.options.mode](this.options.collapseSelector),null!==this.options.parent&&(this.$parent=this.$trigger.closest(this.options.parent))}var i="scojs_collapse";e.extend(t.prototype,{toggle:function(){if(this.options.ease?this.$target[e.camelCase(this.options.ease+"-toggle")]():this.$target.toggle(),this.$parent&&!this.$trigger.hasClass(this.options.activeTriggerClass)&&this.$parent.find(this.options.triggerSelector+"."+this.options.activeTriggerClass)[i](this.options),this.$trigger.toggleClass(this.options.activeTriggerClass),this.$trigger.hasClass(this.options.activeTriggerClass)?this.$trigger.html('<i class="iconfont icon-caret-down"></i>'):this.$trigger.html('<i class="iconfont icon-caret-up"></i>'),null!==this.options.triggerHtml){var t=this;this.$trigger.html(function(){return t.$trigger.hasClass(t.options.activeTriggerClass)?t.options.triggerHtml.on:t.options.triggerHtml.off})}return this}}),e.fn[i]=function(n){return this.each(function(){var s;if(!(s=e.data(this,i))){var o=e(this),a=o.data(),r=e.extend({},e.fn[i].defaults,n,a);s=new t(o,r),e.data(this,i,s)}s.toggle()})},e[i]=function(i,n){return"string"==typeof i&&(i=e(i)),new t(i,n)},e.fn[i].defaults={parent:null,target:null,activeTriggerClass:"active",triggerHtml:null,mode:"next",collapseSelector:".collapsible",triggerSelector:'[data-trigger="collapse"]',ease:"slide"},e(document).on("click."+i,'[data-trigger="collapse"]',function(t){return t.preventDefault(),e(this)[i]({triggerSelector:t.handleObj.selector}),e(this).is("a")?!1:undefined})}($||jQuery),function(e,t,i){var n,s,o,a=t.ActiveXObject&&!t.XMLHttpRequest,r=function(){},l=0,c=/^url:/,d=/^load:/,u=/$/,h=(t.document,"JDG"+ +new Date),p='<table class="ui_border"><tbody><tr><td class="ui_lt"></td><td class="ui_t"></td><td class="ui_rt"></td></tr><tr><td class="ui_l"></td><td class="ui_c"><div class="ui_inner"><table class="ui_dialog"><tbody><tr><td colspan="2"><div class="ui_title_bar"><div class="ui_title" unselectable="on"></div><div class="ui_title_buttons"><a class="ui_min" href="javascript:void(0);" title="最小化"><b class="ui_min_b"></b></a><a class="ui_res" href="javascript:void(0);" title="还原"><b class="ui_res_b"></b><b class="ui_res_t"></b></a><a class="ui_max" href="javascript:void(0);" title="最大化"><b class="ui_max_b"></b></a><a class="ui_close" href="javascript:void(0);" title="关闭(esc键)">×</a></div></div></td></tr><tr><td class="ui_icon"></td><td class="ui_main"><div class="ui_content"></div></td></tr><tr><td colspan="2"><div class="ui_buttons"></div></td></tr></tbody></table></div></td><td class="ui_r"></td></tr><tr><td class="ui_lb"></td><td class="ui_b"></td><td class="ui_rb"></td></tr></tbody></table>',f=function(e){try{o=e.top.document,o.getElementsByTagName}catch(t){return o=e.document,e}return e.top==self||o.getElementsByTagName("frameset").length>0?(o=e.document,e):e.top}(t),g=o.documentElement,m="BackCompat"===o.compatMode;_$doc=e(o),_$top=e(f),_$html=e(o.getElementsByTagName("html")[0]);try{o.execCommand("BackgroundImageCache",!1,!0)}catch(v){}a&&function(e){"fixed"!==_$html.css(e)&&_$html.css({zoom:1,backgroundImage:"url(about:blank)",backgroundAttachment:"fixed"})}("backgroundAttachment");var b=dialog=function(t){t=t||{};var s,o=b.setting;for(var a in o)t[a]===i&&(t[a]=o[a]);if(t.id=t.id||h+l,s=b.list[t.id])return-1!=t.content.indexOf("load")&&0==t.cache&&e("#"+t.id).find(".ui_content").load(t.content.split("load:")[1]),s.zindex().focus();t.button=t.button||[],t.ok&&t.button.push({id:"ok",className:"btn-primary",name:t.okVal,callback:t.ok,focus:t.focus}),t.cancel&&t.button.push({id:"cancel",name:t.cancelVal,callback:t.cancel}),b.setting.zIndex=t.zIndex,l++;var r=b.list[t.id]=n?n._init(t):new b.fn._init(t);return e("#"+t.id).data("_dialog",r),r};b.fn=b.prototype={constructor:b,_init:function(i){var s,o=this,a=i.content,r=c.test(a),l=d.test(a),h=u.test(a);return o.opener=t,o.config=i,o.DOM=s=o.DOM||o._getDOM(),o.closed=!1,o.data=i.data,i.icon&&!r?(i.min=!1,i.max=!1,s.icon[0].style.display="",s.icon[0].innerHTML='<i class="iconfont '+i.icon+'"></i>'):s.icon[0].style.display="none",e(s.wrap).addClass(i.skin),i.lock&&e(s.wrap).attr("hasdialog","true"),i.id&&e(s.wrap).attr("id",i.id),s.rb[0].style.cursor=i.resize?"se-resize":"auto",s.title[0].style.cursor=i.drag?"move":"auto",s.max[0].style.display=i.max?"inline-block":"none",s.min[0].style.display=i.min?"inline-block":"none",s.close[0].style.display=i.cancel===!1?"none":"inline-block",s.content[0].style.padding=i.padding,o.button.apply(o,i.button),o.title(i.title).content(a,!0,r,l,h).size(i.width,i.height).position(i.left,i.top).time(i.time)[i.show?"show":"hide"](!0).zindex(),i.focus&&o.focus(),i.lock&&o.lock(),o._addEvent(),e(s.content[0]).css({width:i.width,height:i.height,overflow:"auto"}),n=null,""==s.title[0].innerHTML&&(s.content[0].style.padding="25px 0 0",e(s.title[0]).hide()),!r&&i.init&&i.init.call(o,t),o},button:function(){for(var t,i,n,s,a,r,l,c=this,d=c.DOM,u=d.buttons[0],p="btn",f=c._listeners=c._listeners||{},g=[].slice.call(arguments),m=0;g.length>m;m++)t=g[m],i=t.name,n=t.className,a=t.id||i,r=!f[a],l=r?o.createElement("button"):f[a].elem,s=e(l),s.attr("type","button"),s.addClass("btn"),f[a]||(f[a]={}),i&&s.html(i),n&&s.addClass(n),t.callback&&(f[a].obj=l,f[a].callback=t.callback),t.focus&&(c._focus&&e(c._focus).removeClass(p),c.focus()),l[h+"callback"]=a,l.disabled=!!t.disabled,r&&(f[a].elem=l,u.appendChild(l));return u.style.display=g.length?"":"none",u.style.borderTop=g.length?"none":"1px",c._ie6SelectFix(),c},title:function(t){if(t===i)return this;var n=this.DOM,s=n.border,o=n.title[0];return t===!1?(o.style.display="none",o.innerHTML="",e(s).addClass("ui_state_tips")):(o.style.display="",o.innerHTML=t,e(s).removeClass("ui_state_tips")),this},content:function(t,n,s,o,a){if(t===i)return this;var r=this,l=r.config,c=r.DOM,d=c.wrap[0],u=d.offsetWidth,h=d.offsetHeight,p=parseInt(d.style.left),f=parseInt(d.style.top),g=d.style.width,m=c.content,v=b.setting.content;if(s)m[0].innerHTML=v,r._iframe(t.split("url:")[1]);else if(o)e.ajaxSetup({cache:!1}),l.loadComplete&&e.isFunction(l.loadComplete)?l.param?m.load(t.split("load:")[1],l.param,function(){l.loadComplete()}):m.load(t.split("load:")[1],function(){l.loadComplete()}):l.param?m.load(t.split("load:")[1],l.param):m.load(t.split("load:")[1]);else if(a){var y=e(t).clone(!0);y.show(),m.append(y)}else m.html(t);return n||(u=d.offsetWidth-u,h=d.offsetHeight-h,p-=u/2,f-=h/2,d.style.left=Math.max(p,0)+"px",d.style.top=Math.max(f,0)+"px",g&&"auto"!==g&&(d.style.width=d.offsetWidth+"px"),r._autoPositionType()),r._ie6SelectFix(),r},size:function(e,t){var i=this,n=i.DOM,s=n.wrap[0],o=n.main[0].style;return s.style.width="auto","number"==typeof e&&(e+="px"),"number"==typeof t&&(t+="px"),o.width=e,o.height=t,"auto"!==e&&(s.style.width=s.offsetWidth+"px"),i._ie6SelectFix(),i},position:function(e,t){var n=this,s=n.config,o=n.DOM.wrap[0],r=o.style,l=a?!1:s.fixed,c=a&&s.fixed,d=_$top.scrollLeft(),u=_$top.scrollTop(),h=l?0:d,p=l?0:u,f=_$top.width(),g=_$top.height(),m=o.offsetWidth,v=o.offsetHeight;return(e||0===e)&&(n._left=-1!==(""+e).indexOf("%")?e:null,e=n._toNumber(e,f-m),"number"==typeof e&&(e=c?e+=d:e+h,e=Math.max(e,h)+"px"),r.left=e),(t||0===t)&&(n._top=-1!==(""+t).indexOf("%")?t:null,t=n._toNumber(t,g-v),"number"==typeof t&&(t=c?t+=u:t+p,t=Math.max(t,p)+"px"),r.top=t),e!==i&&t!==i&&n._autoPositionType(),n},time:function(e,t){var i=this,n=i._timer;return n&&clearTimeout(n),t&&t.call(i),e&&(i._timer=setTimeout(function(){i._click("cancel")},1e3*e)),i},show:function(t){return e(this.DOM.wrap[0]).css("visibility","visible"),e(this.DOM.border).addClass("ui_state_visible"),!t&&this._lock&&e("#ldg_lockmask",o).css("display",""),this},hide:function(t){return e(this.DOM.wrap[0]).css("visibility","hidden"),e(this.DOM.border).removeClass("ui_state_visible"),!t&&this._lock&&e("#ldg_lockmask",o).css("display","none"),this},zindex:function(){var t=this,i=t.DOM,n=t._load,s=b.focus,o=b.setting.zIndex++;return i.wrap[0].style.zIndex=o,s&&e(s.DOM.border).removeClass("ui_state_focus"),b.focus=t,b.focusId=e(i.wrap).attr("id"),e(i.border).addClass("ui_state_focus"),n&&n.style.zIndex&&(n.style.display="none"),s&&s!==t&&s.iframe&&(s._load.style.display=""),t},focus:function(){try{elemFocus=this._focus&&this._focus[0]||this.DOM.close[0],elemFocus&&elemFocus.focus()}catch(e){}return this},lock:function(){var t,i=this,n=b.setting.zIndex-1,s=(i.config,e("#ldg_lockmask",o)[0]),r=s?s.style:"",l=a?"absolute":"fixed";return s||(t='<iframe src="javascript:\'\'" style="width:100%;height:100%;position:absolute;top:0;left:0;z-index:-1;filter:alpha(opacity=0)"></iframe>',s=o.createElement("div"),s.id="ldg_lockmask",s.style.cssText="position:"+l+";left:0;top:0;width:100%;height:100%;overflow:hidden;",r=s.style,a&&(s.innerHTML=t),o.body.appendChild(s)),"absolute"===l&&(r.width=_$top.width(),r.height=_$top.height(),r.top=_$top.scrollTop(),r.left=_$top.scrollLeft(),i._setFixed(s)),r.zIndex=n,r.display="",i.zindex(),e(i.DOM.border).addClass("ui_state_lock"),i._lock=!0,i},unlock:function(){var t=this,i=t.config,n=i.content,s=c.test(n),a=e("#ldg_lockmask",o)[0];if(a&&t._lock){if(s)if(i.parent&&i.parent._lock){var r=i.parent.DOM.wrap[0].style.zIndex;a.style.zIndex=parseInt(r,10)-1}else a.style.display="none";else if(e(t.DOM.border).parent().next().attr("hasdialog")){var r=e(t.DOM.border).parent().next()[0].style.zIndex;a.style.zIndex=parseInt(r,10)-1}else a.style.display="none";e(t.DOM.border).removeClass("ui_state_lock")}return t._lock=!1,t},close:function(){var i=this,n=i.DOM,s=n.wrap,o=b.list,a=i.config.close;if(i.time(),i.iframe){if("function"==typeof a&&a.call(i,i.iframe.contentWindow,t)===!1)return i;e(i.iframe).unbind("load",i._fmLoad).attr("src","about:blank").remove(),e(n.content).removeClass("ui_state_full"),i._frmTimer&&clearTimeout(i._frmTimer)}else if("function"==typeof a&&a.call(i,t)===!1)return i;return i.unlock(),i._maxState&&(_$html.removeClass("ui_lock_scroll"),n.res[0].style.display="none"),b.focus===i&&(b.focus=null),i._removeEvent(),delete o[i.config.id],e(s).remove(),i.closed=!0,i},max:function(){var t,i=this,n=i.DOM,s=n.wrap[0].style,o=n.main[0].style,r=n.rb[0].style,l=n.title[0].style,c=i.config,d=_$top.scrollTop(),u=_$top.scrollLeft();return i._maxState?(_$html.removeClass("ui_lock_scroll"),s.top=i._or.t,s.left=i._or.l,e(n.content[0]).css({width:i._or.w,height:i._or.h,overflow:"auto"}),i.size(i._or.w,i._or.h)._autoPositionType(),c.drag=i._or.d,c.resize=i._or.r,r.cursor=i._or.rc,l.cursor=i._or.tc,n.res[0].style.display="none",n.max[0].style.display="inline-block",delete i._or,i._maxState=!1):(_$html.addClass("ui_lock_scroll"),i._minState&&i.min(),i._or={t:s.top,l:s.left,w:o.width,h:o.height,d:c.drag,r:c.resize,rc:r.cursor,tc:l.cursor},s.top=d+"px",s.left=u+"px",t=i._maxSize(),e(n.content[0]).css({width:t.w,height:t.h,overflow:"auto"}),i.size(t.w,t.h)._setAbsolute(),a&&m&&(s.width=_$top.width()+"px"),c.drag=!1,c.resize=!1,r.cursor="auto",l.cursor="auto",n.max[0].style.display="none",n.res[0].style.display="inline-block",i._maxState=!0),i._reset(),i},min:function(){var e=this,t=e.DOM,i=t.main[0].style,n=t.buttons[0].style,s=t.dialog[0].style,o=t.rb[0].style.cursor,a=e.config.resize;return e._minState?(i.display="",n.display=e._minRz.btn,s.width="",a=e._minRz,o.cursor=e._minRz.rzs?"se-resize":"auto",t.res[0].style.display="none",t.min[0].style.display="inline-block",delete e._minRz,e._minState=!1):(e._maxState&&e.max(),e._minRz={rzs:a,btn:n.display},i.display="none",n.display="none",s.width=i.width,o.cursor="auto",a=!1,t.min[0].style.display="none",t.res[0].style.display="inline-block",e._minState=!0),e._ie6SelectFix(),e._reset(),e},get:function(e,t){return b.list[e]?1===t?b.list[e]:b.list[e].content||null:null},reload:function(i,n,s){i=i||t;try{i.location.href=n?n:i.location.href}catch(o){n=this.iframe.src,e(this.iframe).attr("src",n)}return s&&s.call(this),this},_iframe:function(t){var n,s,r,l,c,d,u,h=this,p=h.DOM.content,g=h.config,m=h._load=e(".ui_loading",p[0])[0],v="position:absolute;display:none;background:transparent",b="width:100%;height:100%;border:none 0;";if(g.cache===!1){var y=(new Date).getTime(),w=t.replace(/([?&])_=[^&]*/,"$1_="+y);t=w+(w===t?(/\?/.test(t)?"&":"?")+"_="+y:"")}n=h.iframe=o.createElement("iframe"),n.name=g.id,n.id=g.id,n.style.cssText=v,n.setAttribute("frameborder",0,0),s=e(n),p[0].appendChild(n),h._frmTimer=setTimeout(function(){s.attr("src",t)},1);var _=h._fmLoad=function(){p.addClass("ui_state_full");var t=h.DOM,s=(t.lt[0].offsetHeight,t.main[0].style);m.style.cssText="display:none;position:absolute;background:#FFF;opacity:0;filter:alpha(opacity=0);z-index:1;width:"+s.width+";height:"+s.height+";";try{r=h.content=n.contentWindow,l=e(r.document),c=e(r.document.body)}catch(o){return n.style.cssText=b,i}d="auto"===g.width?l.width()+(a?0:parseInt(c.css("marginLeft"))):g.width,u="auto"===g.height?l.height():g.height,setTimeout(function(){n.style.cssText=b},0),h._maxState||h.size(d,u).position(g.left,g.top),m.style.width=s.width,m.style.height=s.height,g.init&&g.init.call(h,r,f)};h.iframe.api=h,s.bind("load",_)},_getDOM:function(){var t=o.createElement("div"),i=o.body;t.style.cssText="position:absolute;left:0;top:0;visibility:hidden;",t.innerHTML=p;for(var n,s=0,a={wrap:e(t)},r=t.getElementsByTagName("*"),l=r.length;l>s;s++)n=r[s].className.split("ui_")[1],n&&(a[n]=e(r[s]));return i.insertBefore(t,i.firstChild),a},_toNumber:function(e,t){return"number"==typeof e?e:(-1!==e.indexOf("%")&&(e=parseInt(t*e.split("%")[0]/100)),e)},_maxSize:function(){var e,t,i=this,n=i.DOM,s=n.wrap[0],o=n.main[0];return e=_$top.width()-s.offsetWidth+o.offsetWidth,t=_$top.height()-s.offsetHeight+o.offsetHeight,{w:e,h:t}},_ie6SelectFix:a?function(){var e=this.DOM.wrap,t=e[0],i=i+"iframeMask",n=e[i],s=t.offsetWidth,a=t.offsetHeight;s+="px",a+="px",n?(n.style.width=s,n.style.height=a):(n=t.appendChild(o.createElement("iframe")),e[i]=n,n.src="about:blank",n.style.cssText="position:absolute;z-index:-1;left:0;top:0;filter:alpha(opacity=0);width:"+s+";height:"+a)}:r,_autoPositionType:function(){this[this.config.fixed?"_setFixed":"_setAbsolute"]()},_setFixed:function(e){var t=e?e.style:this.DOM.wrap[0].style;if(a){var i=_$top.scrollLeft(),n=_$top.scrollTop(),s=parseInt(t.left)-i,o=parseInt(t.top)-n,r=m?"this.ownerDocument.body":"this.ownerDocument.documentElement";this._setAbsolute(),t.setExpression("left",r+".scrollLeft +"+s),t.setExpression("top",r+".scrollTop +"+o)}else t.position="fixed"},_setAbsolute:function(){var e=this.DOM.wrap[0].style;a&&(e.removeExpression("left"),e.removeExpression("top")),e.position="absolute"},_click:function(e){var i=this,n=i._listeners[e]&&i._listeners[e].callback;return"function"!=typeof n||n.call(i,i._listeners[e].obj,t)!==!1?i.close():i},_reset:function(){var n,s=!!t.ActiveXObject,r=this,l=_$top.width(),c=_$top.height(),d=r._winSize||l*c,u=r._lockDocW||l,h=r._left,p=r._top;if(s&&(r._lock&&a&&e("#ldg_lockmask",o).css({width:l+"px",height:c+17+"px"}),newWidth=r._lockDocW=l,n=r._winSize=l*c,d===n))return(h||p)&&r.position(h,p),i;if(r._maxState){var f=r._maxSize();r.size(f.w,f.h)}s&&17===Math.abs(u-newWidth)||(h||p)&&r.position(h,p)},_addEvent:function(){var t,n=this,s=n.config,o=n.DOM;n._winResize=function(){t&&clearTimeout(t),t=setTimeout(function(){n._reset()},140)},_$top.bind("resize",n._winResize),o.wrap.bind("click",function(t){var s,a=t.target;return a.disabled?!1:a===o.close[0]?(n._click("cancel"),!1):a===o.max[0]||a===o.max_b[0]?(n.max(),!1):a===o.min[0]||a===o.min_b[0]?(n.min(),!1):(a===o.res[0]||a===o.res_b[0]||a===o.res_t[0]?n._minState?n.min():n.max():(s=e(a).data("value")?e(a).data("value"):a[h+"callback"],s&&n._click(s)),i)}).bind("mousedown",function(e){n.zindex();var t=e.target;return s.drag!==!1&&t===o.title[0]||s.resize!==!1&&t===o.rb[0]?(y(e),!1):i}),s.max&&o.title.bind("dblclick",function(){return n.max(),!1})},_removeEvent:function(){var t=this,i=t.DOM;e(i.wrap).unbind(),e(i.title).unbind(),_$top.unbind("resize",t._winResize)}},b.fn._init.prototype=b.fn,b.focus=null,b.focusId="",b.list={},s=function(e){var t=(e.target,b.focus),i=e.keyCode;t&&t.config.esc&&t.config.cancel!==!1&&27===i&&t._click(t.config.cancelVal)},_$doc.bind("keydown",s),f!=t&&e(t).bind("unload",function(){var t=b.list;for(var i in t)t[i]&&t[i].close();n&&n.DOM.wrap.remove(),_$doc.unbind("keydown",s),e("#ldg_lockmask",o)[0]&&e("#ldg_lockmask",o).remove(),e("#ldg_dragmask",o)[0]&&e("#ldg_dragmask",o).remove()}),b.setting={content:'<div class="ui_loading"><span>loading...</span></div>',button:null,ok:null,cancel:null,init:null,close:null,okVal:"确定",cancelVal:"取消",skin:"default",esc:!0,show:!0,width:"auto",height:"auto",icon:null,lock:!0,focus:!0,parent:null,padding:"0",param:null,fixed:!0,left:"50%",top:"38.2%",max:!1,min:!1,zIndex:1999,resize:!1,drag:!0,cache:!1,data:null,extendDrag:!1};var y,w="setCapture"in g,_="onlosecapture"in g;b.dragEvent={onstart:r,start:function(e){var t=b.dragEvent;return _$doc.bind("mousemove",t.move).bind("mouseup",t.end),t._sClientX=e.clientX,t._sClientY=e.clientY,t.onstart(e.clientX,e.clientY),!1},onmove:r,move:function(e){var t=b.dragEvent;return t.onmove(e.clientX-t._sClientX,e.clientY-t._sClientY),!1},onend:r,end:function(e){var t=b.dragEvent;return _$doc.unbind("mousemove",t.move).unbind("mouseup",t.end),t.onend(e.clientX,e.clientY),!1}},y=function(t){var i,n,s,r,l,c,d=b.focus,u=d.config,h=d.DOM,p=h.wrap[0],g=h.title,m=h.main[0],v=b.dragEvent,y="getSelection"in f?function(){f.getSelection().removeAllRanges()}:function(){try{o.selection.empty()}catch(e){}};v.onstart=function(){c?(n=m.offsetWidth,s=m.offsetHeight):(r=p.offsetLeft,l=p.offsetTop),_$doc.bind("dblclick",v.end),!a&&_?g.bind("losecapture",v.end):_$top.bind("blur",v.end),w&&g[0].setCapture(),e(h.border).addClass("ui_state_drag"),d.focus()},v.onmove=function(t,o){if(c){var a=p.style,h=m.style,f=t+n,g=o+s;a.width="auto",u.width=h.width=Math.max(0,f)+"px",a.width=p.offsetWidth+"px",u.height=h.height=Math.max(0,g)+"px",d._load&&e(d._load).css({width:h.width,height:h.height})}else{var h=p.style,v=t+r,b=o+l;u.left=Math.max(i.minX,Math.min(i.maxX,v)),u.top=Math.max(i.minY,Math.min(i.maxY,b)),h.left=u.left+"px",h.top=u.top+"px"}y()},v.onend=function(){_$doc.unbind("dblclick",v.end),!a&&_?g.unbind("losecapture",v.end):_$top.unbind("blur",v.end),w&&g[0].releaseCapture(),a&&d._autoPositionType(),e(h.border).removeClass("ui_state_drag")},c=t.target===h.rb[0]?!0:!1,i=function(e){var t=p.offsetWidth,i=g[0].offsetHeight||20,n=_$top.width(),s=_$top.height(),o=e?0:_$top.scrollLeft(),a=e?0:_$top.scrollTop();return maxX=n-t+o,maxY=s-i+a,{minX:o,minY:a,maxX:maxX,maxY:maxY}}("fixed"===p.style.position),v.start(t)},e(function(){setTimeout(function(){l||b({left:"-9999em",time:9,fixed:!1,lock:!1,focus:!1})},150),b.setting.extendDrag&&function(e){var t=o.createElement("div"),i=t.style,n=a?"absolute":"fixed";t.id="ldg_dragmask",i.cssText="display:none;position:"+n+";left:0;top:0;width:100%;height:100%;"+"cursor:move;filter:alpha(opacity=0);opacity:0;background:#FFF;pointer-events:none;",o.body.appendChild(t),e._start=e.start,e._end=e.end,e.start=function(){var t=b.focus,s=t.DOM.main[0],o=t.iframe;e._start.apply(this,arguments),i.display="block",i.zIndex=b.setting.zIndex+3,"absolute"===n&&(i.width=_$top.width()+"px",i.height=_$top.height()+"px",i.left=_$doc.scrollLeft()+"px",i.top=_$doc.scrollTop()+"px"),o&&s.offsetWidth*s.offsetHeight>307200&&(s.style.visibility="hidden")},e.end=function(){var t=b.focus;e._end.apply(this,arguments),i.display="none",t&&(t.DOM.main[0].style.visibility="visible")}}(b.dragEvent)}),e.fn.dialog=function(){var e=arguments;return this.bind("click",function(){return b.apply(this,e),!1}),this},e.fn.dialogRefresh=function(){var t=e(this).data("_dialog");if(t){var i=t.config;-1!=i.content.indexOf("load")&&e("#"+i.id).find(".ui_content").empty().load(i.content.split("load:")[1])}},t.lhgdialog=e.dialog=b}(this.jQuery||this.lhgcore,this),function(e,t){var i=function(){return t.setting.zIndex};t.alert=function(e,n,s){return t({title:"消息",id:"Alert",zIndex:i(),icon:"icon-exclamation-sign",fixed:!0,lock:!0,ok:!0,resize:!1,close:n,parent:s||null}).content(e)},t.confirm=function(e,n,s,o){return t({title:"确认",id:"Confirm",zIndex:i(),icon:"icon-question-sign",fixed:!0,lock:!0,padding:20,resize:!1,parent:o||null,ok:function(e){return n.call(this,e)},cancel:function(e){return s&&s.call(this,e)}}).content(e)},t.prompt=function(e,n,s,o){s=s||"";var a;return t({title:"提问",id:"Prompt",zIndex:i(),icon:"icon-question-sign",fixed:!0,lock:!0,padding:"20px",parent:o||null,content:['<div style="margin-bottom:5px;font-size:12px">',e,"</div>","<div>",'<input value="',s,'" style="width:18em;padding:6px 4px" />',"</div>"].join(""),init:function(){a=this.DOM.content[0].getElementsByTagName("input")[0],a.select(),a.focus()},ok:function(e){return n&&n.call(this,a.value,e)},cancel:!0})},t.tips=function(n,s,o,a,r,l){var c=o?function(){e(this.DOM.icon[0]).html('<i class="iconfont '+o+'"></i>'),this.DOM.icon[0].style.display="",a&&(this.config.close=a)
}:function(){this.DOM.icon[0].style.display="none",a&&(this.config.close=a)};return t({id:"Tips",zIndex:i(),title:!1,cancel:!1,fixed:!0,lock:!1,resize:!1,left:r,top:l}).content(n).time(s||1.5,c)}}(this.jQuery||this.lhgcore,this.lhgdialog),function(e,t){"use strict";var i="message";e[i]=function(n,s,o,a,r){clearTimeout(e[i].timeout);var l,c,d;l=e("#"+e[i].options.id),l.length||(c=window.top!=self?window.top.document:window.document,l=c.createElement("div"),d=c.body,l.id=e[i].options.id,d.insertBefore(l,d.firstChild),e(l).addClass("ui-message"));var u="";if(s===t||s==e[i].TYPE_ERROR?((n==t||""==n||null==n)&&(n="操作失败。"),u+='<div class="ui-message-content"><p class="ui-tiptext ui-tiptext-error"><i class="iconfont icon-remove-sign"></i>失败。</p><p class="ui-message-text">'+n+'</p></div><div class="ui-message-btn"><button class="btn" type="button">确定</button></div>'):s==e[i].TYPE_OK?((n==t||""==n||null==n)&&(n="操作成功。"),u+='<div class="ui-message-content"><p class="ui-tiptext ui-tiptext-success"><i class="iconfont icon-ok-sign"></i>成功。</p><p class="ui-message-text">'+n+'</p></div><div class="ui-message-btn"><button class="btn" type="button">确定</button></div>'):s==e[i].TYPE_WARN&&((n==t||""==n||null==n)&&(n="操作错误。"),u+='<div class="ui-message-content"><p class="ui-tiptext ui-tiptext-warning"><i class="iconfont icon-exclamation-sign"></i>警告。</p><p class="ui-message-text">'+n+'</p></div><div class="ui-message-btn"><button class="btn" type="button">确定</button></div>'),e(l).html(u),s===t||s==e[i].TYPE_ERROR?e(l).removeClass(e[i].options.okClass).addClass(e[i].options.errClass):s==e[i].TYPE_OK&&e(l).removeClass(e[i].options.errClass).addClass(e[i].options.okClass),r&&e(l).addClass("no-auto"),a){var h=e(l).find(".ui-message-btn");h.length>0&&h.remove(),e(l).slideDown("fast",function(){e[i].timeout=setTimeout(function(){e(l).slideUp("fast")},1e3*o)})}else e(l).slideDown("fast",function(){e(l).find(".btn").click(function(){e(l).slideUp("fast")})})},e.extend(e[i],{options:{id:"page_message",okClass:"ui-message-ok",errClass:"ui-message-error",delay:4,auto:!0,top:!1,appendTo:"body"},TYPE_ERROR:1,TYPE_OK:2,TYPE_WARN:3})}($||jQuery),function($){function uaMatch(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}}var browser=$.browser;if(!browser){var matched=uaMatch(navigator.userAgent);browser={},matched.browser&&(browser[matched.browser]=!0,browser.version=matched.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0)}"function"!=typeof $.support.selectstart&&($.support.selectstart="onselectstart"in document.createElement("div")),"function"!=typeof $.fn.disableSelection&&($.fn.disableSelection=function(){return this.bind(($.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})}),$.addFlex=function(t,p){if(t.grid)return!1;p=$.extend({width:"auto",striped:!0,novstripe:!1,minwidth:30,minheight:80,resizable:!1,url:!1,method:"POST",showOperate:!0,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",errormsg:"Connection Error",usepager:!1,showOrderNumber:!0,orderColor:"#e9e9e9",showCheckbox:!1,nowrap:!0,pageNo:1,total:1,searchFormId:"",sortorder:"asc",orderField:"",useRp:!0,pageSize:10,rpOptions:[10,20,30,50],title:!1,idProperty:"id",pagestat:"显示 {from} 到 {to} 条信息（总 {total} 条）",pagetext:"第",outof:"页（共",findtext:"查找",params:[],procmsg:"处理中, 请等待 ...",query:"",qtype:"",nomsg:"没有找到信息",minColToggle:1,showToggleBtn:!0,hideOnSubmit:!0,autoload:!0,blockOpacity:.5,id:null,preProcess:!1,addTitleToCell:!1,dblClickResize:!1,onDragCol:!1,onToggleCol:!1,onChangeSort:!1,searchCallback:!1,onDoubleClick:!1,onSuccess:!1,onError:!1,onSubmit:!1,__mw:{datacol:function(e,t,i){var n="function"==typeof e.datacol[t]?e.datacol[t](i):i;return"function"==typeof e.datacol["*"]?e.datacol["*"](n):n}},getGridClass:function(e){return e},datacol:{},colResize:!0,colMove:!0,singleSelect:!0,asynchronousPage:!1},p),$(t).show().attr({cellPadding:0,cellSpacing:0,border:0}).removeAttr("width");var g={hset:{},rePosDrag:function(){var e=0-this.hDiv.scrollLeft;this.hDiv.scrollLeft>0&&(e-=Math.floor(p.cgwidth/2)),$(g.cDrag).css({top:g.hDiv.offsetTop+1});var t=this.cdpad,i=0;$("div",g.cDrag).hide(),$("thead tr:first th:visible",this.hDiv).each(function(){var n=$("thead tr:first th:visible",g.hDiv).index(this),s=parseInt($("div",this).width());0==e&&(e-=Math.floor(p.cgwidth/2)),s=browser.mozilla?s+e+t:s+e+t+1,isNaN(s)&&(s=0);var o=$(this).data("checkbox");"show"!=o&&$("div:eq("+n+")",g.cDrag).css({left:(browser.mozilla?s:s-i)+45+"px"}).show(),e=s,i++})},fixHeight:function(e){e=!1,e||(e=$(g.bDiv).height());var t=$(this.hDiv).height();$("div",this.cDrag).each(function(){$(this).height(e+t)});var i=parseInt($(g.nDiv).height(),10);i>e?$(g.nDiv).height(e):$(g.nDiv).height("auto"),$(g.block).css({height:e,marginBottom:-1*e});var n=g.bDiv.offsetTop+e;"auto"!=p.height&&p.resizable&&(n=g.vDiv.offsetTop),$(g.rDiv).css({height:n})},dragStart:function(e,t,i){if("colresize"==e&&p.colResize===!0){$(g.nDiv).hide();var n=$("div",this.cDrag).index(i),s=$("th:visible div:eq("+n+")",this.hDiv).width();$(i).addClass("dragging").siblings().hide(),$(i).prev().addClass("dragging").show(),this.colresize={startX:t.pageX,ol:parseInt(i.style.left,10),ow:s,n:n},$("body").css("cursor","col-resize")}else if("vresize"==e){var o=!1;$("body").css("cursor","row-resize"),i&&(o=!0,$("body").css("cursor","col-resize")),this.vresize={h:p.height,sy:t.pageY,w:p.width,sx:t.pageX,hgo:o}}else"colMove"==e&&($(t.target).disableSelection(),p.colMove===!0&&($(g.nDiv).hide(),this.hset=$(this.hDiv).offset(),this.hset.right=this.hset.left+$("table",this.hDiv).width(),this.hset.bottom=this.hset.top+$("table",this.hDiv).height(),this.dcol=i,this.dcoln=$("th",this.hDiv).index(i),this.colCopy=document.createElement("div"),this.colCopy.className="colCopy",this.colCopy.innerHTML=i.innerHTML,browser.msie&&(this.colCopy.className="colCopy ie"),$(this.colCopy).css({position:"absolute","float":"left",display:"none",textAlign:i.align}),$("body").append(this.colCopy),$(this.cDrag).hide()));$("body").noSelect()},dragMove:function(e){if(this.colresize){var t=this.colresize.n,i=e.pageX-this.colresize.startX,n=this.colresize.ol+i,s=this.colresize.ow+i;s>p.minwidth&&($("div:eq("+t+")",this.cDrag).css("left",n),this.colresize.nw=s)}else if(this.vresize){var o=this.vresize,a=e.pageY,i=a-o.sy;if(p.defwidth||(p.defwidth=p.width),"auto"!=p.width&&!p.nohresize&&o.hgo){var r=e.pageX,l=r-o.sx,c=o.w+l;c>p.defwidth&&(this.gDiv.style.width=c+"px",p.width=c)}var d=o.h+i;(d>p.minheight||p.height<p.minheight)&&!o.hgo&&(this.bDiv.style.height=d+"px",p.height=d,this.fixHeight(d)),o=null}else this.colCopy&&($(this.dcol).addClass("thMove").removeClass("thOver"),e.pageX>this.hset.right||e.pageX<this.hset.left||e.pageY>this.hset.bottom||e.pageY<this.hset.top?$("body").css("cursor","move"):$("body").css("cursor","pointer"),$(this.colCopy).css({top:e.pageY+10,left:e.pageX+20,display:"block"}))},dragEnd:function(){if(this.colresize){var e=this.colresize.n,t=this.colresize.nw;if($("th:visible div:eq("+e+")",this.hDiv).css("width",t),$("tr",this.bDiv).each(function(){var i=$("td:visible div:eq("+e+")",this);i.css("width",t),g.addTitleToCell(i)}),this.hDiv.scrollLeft=this.bDiv.scrollLeft,$("div:eq("+e+")",this.cDrag).siblings().show(),$(".dragging",this.cDrag).removeClass("dragging"),this.rePosDrag(),this.fixHeight(),this.colresize=!1,$.cookies){var i=p.colModel[e].name;$.cookie("flexiwidths/"+i,t)}}else this.vresize?this.vresize=!1:this.colCopy&&($(this.colCopy).remove(),null!==this.dcolt&&(this.dcoln>this.dcolt?$("th:eq("+this.dcolt+")",this.hDiv).before(this.dcol):$("th:eq("+this.dcolt+")",this.hDiv).after(this.dcol),this.switchCol(this.dcoln,this.dcolt),$(this.cdropleft).remove(),$(this.cdropright).remove(),this.rePosDrag(),p.onDragCol&&p.onDragCol(this.dcoln,this.dcolt)),this.dcol=null,this.hset=null,this.dcoln=null,this.dcolt=null,this.colCopy=null,$(".thMove",this.hDiv).removeClass("thMove"),$(this.cDrag).show());$("body").css("cursor","default"),$("body").noSelect(!1)},toggleCol:function(e,i){var n=$("th[axis='col"+e+"']",this.hDiv)[0],s=$("thead th",g.hDiv).index(n),o=$("input[value="+e+"]",g.nDiv)[0];return null==i&&(i=n.hidden),$("input:checked",g.nDiv).length<p.minColToggle&&!i?!1:(i?(n.hidden=!1,$(n).show(),o.checked=!0):(n.hidden=!0,$(n).hide(),o.checked=!1),$("tbody tr",t).each(function(){i?$("td:eq("+s+")",this).show():$("td:eq("+s+")",this).hide()}),this.rePosDrag(),p.onToggleCol&&p.onToggleCol(e,i),i)},switchCol:function(e,i){$("tbody tr",t).each(function(){e>i?$("td:eq("+i+")",this).before($("td:eq("+e+")",this)):$("td:eq("+i+")",this).after($("td:eq("+e+")",this))}),e>i?$("tr:eq("+i+")",this.nDiv).before($("tr:eq("+e+")",this.nDiv)):$("tr:eq("+i+")",this.nDiv).after($("tr:eq("+e+")",this.nDiv)),this.hDiv.scrollLeft=this.bDiv.scrollLeft},scroll:function(){this.hDiv.scrollLeft=this.bDiv.scrollLeft,this.rePosDrag()},addData:function(data){if(0==data.rows.length&&$("table",g.obDiv).html(""),"json"==p.dataType&&(data=$.extend({rows:[],pageNo:0,total:0},data)),p.preProcess&&(data=p.preProcess(data)),$(".pReload",this.pDiv).removeClass("loading"),this.loading=!1,!data)return $(".pPageStat",this.pDiv).html(p.errormsg),p.onSuccess&&p.onSuccess(this),!1;if(p.total=data.total,0===p.total)return $("tr, a, td, div",t).unbind(),$(t).empty(),p.pages=1,p.pageNo=1,this.buildpager(),$(".pPageStat",this.pDiv).html(p.nomsg),p.onSuccess&&p.onSuccess(this),!1;p.pages=Math.ceil(p.total/p.pageSize),p.pageNo=data.pageNo,this.buildpager();var tbody=document.createElement("tbody"),obTbody=document.createElement("tbody");if("json"==p.dataType&&$.each(data.rows,function(i,row){var tr=document.createElement("tr"),obTr=document.createElement("tr"),obTd=document.createElement("td");if(obTd.innerHTML=i+1,$(tr).data("row",row),row.name&&(tr.name=row.name),row.color?$(tr).css("background",row.color):i%2&&p.striped&&(tr.className="erow"),row.colorful&&$(tr).addClass(row.colorful),row[p.idProperty]&&(tr.id="row"+row[p.idProperty]),$("thead tr:first th",g.hDiv).each(function(){var td=document.createElement("td"),idx=$(this).attr("axis").substr(3);td.align=this.align;var col=p.colModel[idx],tagname=col?col.tagName:"DIV",linkText=col?col.linkText:"",linkBtn=col?col.linkBtn:"",onclick=col?col.onclick:null,display=col?col.display:"",customName=col?col.customName:"",checkedCallback=col?col.checkedCallback:null,format=col?col.format:null;if(col.customClass&&$(td).addClass(col.customClass),row.cell===void 0){var colName=col?col.name:"",colValue=null;if(colName&&colName.indexOf(".")>0)try{colValue=eval("row."+colName)}catch(e){}else colValue=row[colName];if(void 0==colValue||null==colValue)if(tagname&&"input"==tagname)td.innerHTML='<input type="input" class="ui-input" />';else if(linkText)if("array"==$.type(linkText)){for(var l=0;linkText.length>l;l++){var a=$('<a ltNo="'+l+'" href="#" class="custom-link">'+linkText[l].name+"</a>");$(td).append(a)}$(td).click(function(e){return"A"==e.target.tagName?(linkText[$(e.target).attr("ltNo")].onclick(row,e.target,i),!1):void 0})}else{var a=$('<a href="#" class="custom-link">'+linkText.name+"</a>");$(td).append(a),$(td).click(function(e){return"A"==e.target.tagName?(linkText.onclick(row,e.target,i),!1):void 0})}else if("checkbox"==display)td.innerHTML='<input name="subcheckbox" type="checkbox" />',(row.checked===!0||checkedCallback&&$.isFunction(checkedCallback)&&checkedCallback(row))&&($("input",td).attr("checked",!0),$(td).attr("tdSelected",!0)),$(td).addClass("showCheckbox");else if("序号"==display)$(td).css({background:p.orderColor,borderRight:"1px solid #ddd"}).addClass("OrderNumber"),td.innerHTML=i+1,$(td).hide();else{var tdText="&nbsp;";format&&$.isFunction(format)&&(tdText=format(tdText,row)),td.innerHTML=tdText}else{var tdText=colValue;format&&$.isFunction(format)&&(tdText=format(tdText,row)),col&&col.dic&&($(td).attr("dicVal",colValue).addClass("ui-loading"),tdText=""),td.innerHTML=col.onclick?'<a href="#">'+tdText+"</a>":tdText}customName&&$(td).attr("name",customName),onclick&&$.isFunction(onclick)&&$(td).click(function(e){e.preventDefault(),"A"==e.target.tagName&&onclick(row,e.target,i)})}else{var iHTML="";iHTML=row.cell[idx]!==void 0?null!==row.cell[idx]?row.cell[idx]:"":row.cell[p.colModel[idx].name],td.innerHTML=p.__mw.datacol(p,$(this).attr("abbr"),iHTML)}var offs=td.innerHTML.indexOf("<BGCOLOR=");offs>0&&$(td).css("background",text.substr(offs+7,7)),$(td).attr("abbr",$(this).attr("abbr")),$(td).attr("tdSelected")&&$(tr).addClass("trSelected"),$(tr).append(td),$(obTr).append(obTd),td=null,obTd=null}),1>$("thead",this.gDiv).length)for(idx=0;row.cell.length>idx;idx++){var td=document.createElement("td");td.innerHTML=row.cell[idx]!==void 0?null!=row.cell[idx]?row.cell[idx]:"":row.cell[p.colModel[idx].name],$(tr).append(td),td=null}$(tbody).append(tr),$(obTbody).append(obTr),tr=null,obTr=null}),$("thead tr:first th",g.hDiv).each(function(e){var t=$(this).attr("dic");if(t){var i={};$("tr",tbody).each(function(){var t=$("td:eq("+e+")",this),n=t.attr("dicVal");n&&(i[n]=1)});var n=[];$.each(i,function(e){n.push(e)}),n.length>0&&$.ajax({type:"POST",url:$.CONTEXT_PATH+"/platform/dictionary/data/api",data:{type:"query",dic:t,codes:n},success:function(t){$("tr",tbody).each(function(){var i=$("td:eq("+e+")",this);i.removeClass("ui-loading"),t&&$("div",i).html(t[i.attr("dicVal")])})}})}}),$("tr",t).unbind(),$(t).empty(),$(t).append(tbody),$("table",g.obDiv).empty(),$("table",g.obDiv).append(obTbody),this.addCellProp(),this.addRowProp(),this.rePosDrag(),tbody=null,data=null,i=null,p.onSuccess&&p.onSuccess(g.bDiv,this),p.hideOnSubmit&&$(g.block).remove(),this.hDiv.scrollLeft=this.bDiv.scrollLeft,browser.opera&&$(t).css("visibility","visible"),p.showCheckbox){var checkAll=$('input[name="checkAll"]',g.hDiv),subCheck=$('input[name="subcheckbox"]',g.bDiv),th=$("thead tr:first th",g.hDiv);th.click(function(){var e=$(this).find('input[name="checkAll"]');subCheck.prop("checked",e.prop("checked"));var t=$("tbody tr",g.bDiv);e.prop("checked")?t.addClass("trSelected"):t.removeClass("trSelected")}),subCheck.click(function(){var e=subCheck.length==$('input[name="subcheckbox"]:checked',g.bDiv).length?!0:!1;checkAll.prop("checked",e);var t=$(this).parent().parent().parent();$(this).prop("checked")?t.addClass("trSelected"):t.removeClass("trSelected")})}},changeSort:function(e){if(this.loading)return!0;$(g.nDiv).hide(),p.sortname==$(e).attr("abbr")&&(p.sortorder="asc"==p.sortorder?"desc":"asc"),$(".sdesc",this.hDiv).removeClass("sdesc"),$(".sasc",this.hDiv).removeClass("sasc"),$("div",e).addClass("s"+p.sortorder),p.sortname=$(e).attr("abbr");var t=$(e).data("orderField");p.orderField=void 0==t?"":t,p.onChangeSort?p.onChangeSort(p.sortname,p.sortorder):this.populate()},buildpager:function(){$(".pcontrol input",this.pDiv).val(p.pageNo),$(".pcontrol span",this.pDiv).html(p.pages);var e=(p.pageNo-1)*p.pageSize+1,t=e+p.pageSize-1;t>p.total&&(t=p.total);var i=p.pagestat;i=i.replace(/{from}/,e),i=i.replace(/{to}/,t),i=i.replace(/{total}/,p.total),$(".pPageStat",this.pDiv).html(i)},populate:function(e){if(this.loading)return!0;if(p.onSubmit){var i=p.onSubmit();if(!i)return!1}if(this.loading=!0,!p.url)return!1;$(".pPageStat",this.pDiv).html(p.procmsg),$(".pReload",this.pDiv).addClass("loading"),$(g.block).css({top:g.bDiv.offsetTop+$(g.hDiv).height()}),p.hideOnSubmit&&$(this.gDiv).prepend(g.block),browser.opera&&$(t).css("visibility","hidden"),p.newp||(p.newp=1),p.pageNo=1;var n=[{name:"pageNo",value:e?1:p.newp},{name:"pageSize",value:p.pageSize}];if(p.params.length)for(var s=0;p.params.length>s;s++)n[n.length]=p.params[s];if(p.sortname){var o="";o=""==p.orderField?p.sortname:p.orderField,n.push({name:"condition.orderParts[0].column",value:o},{name:"condition.orderParts[0].sort",value:p.sortorder.toUpperCase()})}if(p.customData)for(var a=0;p.customData.length>a;a++)n.push({name:p.customData[a].name,value:p.customData[a].value});if(p.searchFormId){var r=$("#"+p.searchFormId);if(r.length>0){var l=r.serializeArray();if(l.length>0)for(var a=0;l.length>a;a++)n.push(l[a])}}var c=[];$.each(n,function(e,t){null!=t.name&&""!=t.name&&null!=t.value&&""!=t.value&&c.push(t)}),$.ajax({type:p.method,url:p.url,data:c,cache:!1,dataType:p.dataType,contentType:p.contentType,success:function(e){g.addData(e),g.obDiv.style.top="26px",g.bDiv.scrollTop=0},complete:function(){if(p.searchFormId){var e,t=$("#"+p.searchFormId);e=t.find('*[type="submit"]'),$.btn&&$.btn.enabled(e),p.searchCallback&&p.searchCallback(g)}},error:function(e,t,i){$(".pPageStat",this.pDiv).html(""),$(".pReload",this.pDiv).removeClass("loading"),$(g.block).remove(),$.message&&$.message("数据格式错误。",3,4,!1,!0);try{p.onError&&p.onError(e,t,i)}catch(n){}}})},doSearch:function(){p.query=$("input[name=q]",g.sDiv).val(),p.qtype=$("select[name=qtype]",g.sDiv).val(),p.newp=1,this.populate()},changePage:function(e){if(this.loading)return!0;switch(e){case"first":p.newp=1;break;case"prev":p.pageNo>1&&(p.newp=parseInt(p.pageNo,10)-1);break;case"next":p.pageNo<p.pages&&(p.newp=parseInt(p.pageNo,10)+1);break;case"last":p.newp=p.pages;break;case"input":var t=parseInt($(".pcontrol input",this.pDiv).val(),10);isNaN(t)&&(t=1),1>t?t=1:t>p.pages&&(t=p.pages),$(".pcontrol input",this.pDiv).val(t),p.newp=t}return p.newp==p.pageNo?!1:(p.onChangePage?p.onChangePage(p.newp):this.populate(),void 0)},addCellProp:function(){$("tbody tr td",g.bDiv).each(function(){var e=document.createElement("div"),t=$("td",$(this).parent()).index(this),i=$("th:eq("+t+")",g.hDiv).get(0);if(null!=i){p.sortname==$(i).attr("abbr")&&p.sortname,$(e).css({textAlign:i.align,width:$("div:first",i)[0].style.width});var n=p.colModel[t]?p.colModel[t].align:"center";n&&"center"==n?$(e).css("text-align","center"):n&&"right"==n&&$(e).css("text-align","right").addClass("alignRight"),i.hidden&&$(this).css("display","none")}0==p.nowrap&&$(e).css("white-space","normal"),""==this.innerHTML&&(this.innerHTML="&nbsp;"),e.innerHTML=n&&"right"==n?this.innerHTML+"&nbsp;&nbsp;&nbsp;":this.innerHTML;var s=$(this).parent()[0],o=!1;s.id&&(o=s.id.substr(3)),null!=i&&i.process&&i.process(e,o),$(this).empty().append(e).removeAttr("width"),g.addTitleToCell(e)})},getSelectedRows:function(){var e=$("tr.trSelected",g.bDiv);if(0==e.length)return[];var t=[];return e.each(function(){t.push($(this).data("row"))}),t.slice(0)},getAllRows:function(){var e=$("tr",g.bDiv);if(0==e.length)return[];var t=[];return e.each(function(){t.push($(this).data("row"))}),t.slice(0)},flexReload:function(){g.populate()},datagridResize:function(e){var t=0,i=0;$(g.tDiv).length>0?t+=$(g.tDiv).height():t,$(g.mDiv).length>0?t+=$(g.mDiv).height():t,$(g.pDiv).length>0?t+=$(g.pDiv).height():t,$(g.hDiv).length>0?t+=$(g.hDiv).height():t,i=e.height-t-10,g.bDiv.style.height=i+"px",g.gDiv.style.width=e.width+"px",$(g.bDiv).css({width:e.width-$(g.obDiv).width()})},flexOptions:function(e,t){$.extend(e,t)},flexAddData:function(e){g.addData(e)},getCellDim:function(e){var t=parseInt($(e).height(),10),i=parseInt($(e).parent().height(),10),n=parseInt(e.style.width,10),s=parseInt($(e).parent().width(),10),o=e.offsetParent.offsetTop,a=e.offsetParent.offsetLeft,r=parseInt($(e).css("paddingLeft"),10),l=parseInt($(e).css("paddingTop"),10);return{ht:t,wt:n,top:o,left:a,pdl:r,pdt:l,pht:i,pwt:s}},addRowProp:function(){$("tbody tr",g.bDiv).on("click",function(e){var t=e.target||e.srcElement;return t.href||t.type?!0:(e.ctrlKey||e.metaKey||p.showCheckbox||($(this).toggleClass("trSelected"),p.singleSelect&&!g.multisel&&($(this).siblings().removeClass("trSelected"),p.onSingleClick&&p.onSingleClick(this,$(this).data("row")))),void 0)}).on("mousedown",function(){}).on("mouseup",function(e){!g.multisel||e.ctrlKey||e.metaKey||(g.multisel=!1,$(g.gDiv).noSelect(!1))}).on("dblclick",function(){p.onDoubleClick&&p.onDoubleClick(this,g,p)}).hover(function(){$(this).hasClass("trSelected")||$(this).addClass("trOver")},function(){$(this).removeClass("trOver")})},combo_flag:!0,combo_resetIndex:function(e){this.combo_flag&&(e.selectedIndex=0),this.combo_flag=!0},combo_doSelectAction:function(selObj){eval(selObj.options[selObj.selectedIndex].value),selObj.selectedIndex=0,this.combo_flag=!1},addTitleToCell:function(e){if(p.addTitleToCell){var t=$("<span />").css("display","none"),i=e instanceof jQuery?e:$(e),n=i.outerWidth(),s=0;$("body").children(":first").before(t),t.html(i.html()),t.css("font-size",""+i.css("font-size")),t.css("padding-left",""+i.css("padding-left")),s=t.innerWidth(),t.remove(),s>n?i.attr("title",i.text()):i.removeAttr("title")}},autoResizeColumn:function(e){if(p.dblClickResize){var t=$("div",this.cDrag).index(e),i=$("th:visible div:eq("+t+")",this.hDiv),n=parseInt(e.style.left,10),s=i.width(),o=0,a=0,r=$("<span />");$("body").children(":first").before(r),r.html(i.html()),r.css("font-size",""+i.css("font-size")),r.css("padding-left",""+i.css("padding-left")),r.css("padding-right",""+i.css("padding-right")),o=r.width(),$("tr",this.bDiv).each(function(){var e=$("td:visible div:eq("+t+")",this),i=0;r.html(e.html()),r.css("font-size",""+e.css("font-size")),r.css("padding-left",""+e.css("padding-left")),r.css("padding-right",""+e.css("padding-right")),i=r.width(),o=i>o?i:o}),r.remove(),o=p.minWidth>o?p.minWidth:o,a=n+(o-s),$("div:eq("+t+")",this.cDrag).css("left",a),this.colresize={nw:o,n:t},g.dragEnd()}},pager:0};if(g=p.getGridClass(g),p.colModel){thead=document.createElement("thead");for(var tr=document.createElement("tr"),i=0;p.colModel.length>i;i++){var cm=p.colModel[i],th=document.createElement("th");if($(th).attr("axis","col"+i),cm){if($.cookies){var cookie_width="flexiwidths/"+cm.name;void 0!=$.cookie(cookie_width)&&(cm.width=$.cookie(cookie_width))}void 0!=cm.display&&"checkbox"!=cm.display&&(th.innerHTML=cm.display),p.showCheckbox&&"checkbox"==cm.display&&(th.innerHTML='<input id="checkAll" name="checkAll" type="checkbox" />',$(th).data("checkbox","show").addClass("showCheckbox"),cm.align="center",cm.width=30),p.showOrderNumber&&"序号"==cm.display&&(th.innerHTML="序号",$(th).data("orderNumber","show").addClass("OrderNumber"),cm.align="center",cm.width=30,$(th).hide()),cm.hide&&$(th).hide(),cm.name&&cm.sortable&&$(th).attr("abbr",cm.name),cm.align&&(th.align=cm.align),cm.width&&$(th).attr("width",cm.width),cm.orderField&&$(th).data("orderField",cm.orderField),cm.dic&&$(th).attr("dic",cm.dic),$(cm).attr("hide")&&(th.hidden=!0),cm.process&&(th.process=cm.process)}else th.innerHTML="",$(th).attr("width",30);$(tr).append(th)}$(thead).append(tr),$(t).prepend(thead)}g.dgDiv=document.createElement("div"),g.ohDiv=document.createElement("div"),g.obDiv=document.createElement("div"),g.gDiv=document.createElement("div"),g.mDiv=document.createElement("div"),g.hDiv=document.createElement("div"),g.bDiv=document.createElement("div"),g.vDiv=document.createElement("div"),g.rDiv=document.createElement("div"),g.cDrag=document.createElement("div"),g.block=document.createElement("div"),g.nDiv=document.createElement("div"),g.nBtn=document.createElement("div"),g.iDiv=document.createElement("div"),g.tDiv=document.createElement("div"),g.sDiv=document.createElement("div"),g.pDiv=document.createElement("div"),g.bInnerDiv=document.createElement("div"),p.colResize===!1&&$(g.cDrag).css("display","none"),p.usepager||(g.pDiv.style.display="none"),g.hTable=document.createElement("table"),g.obTable=document.createElement("table"),g.gDiv.className="flexigrid",g.bInnerDiv.className="bInnerDiv",g.gDiv.id=p.id,"auto"!=p.width&&(g.gDiv.style.width=p.width+isNaN(p.width)?"":"px"),browser.msie&&$(g.gDiv).addClass("ie"),p.novstripe&&$(g.gDiv).addClass("novstripe"),$(t).before(g.gDiv),$(g.gDiv).append(t),g.tDiv.className="tDiv";var tDiv2=document.createElement("div");if(tDiv2.className="tDiv2",p.buttons)for(var i=0;p.buttons.length>i;i++){var btn=p.buttons[i];if(btn)if(btn.separator)$(tDiv2).append("<div class='btnseparator'></div>");else{var btnDiv=document.createElement("div");btnDiv.className="fbutton",btnDiv.innerHTML='<div><a href="#">'+(btn.hidename?"&nbsp;":btn.name)+"</a></div>",$("a",btnDiv).html('<i class="iconfont '+btn.bclass+'"></i>'+(void 0==btn.name?"":btn.name)),btn.bimage&&$("span",btnDiv).css("background","url("+btn.bimage+") no-repeat center left"),btn.tooltip&&($("span",btnDiv)[0].title=btn.tooltip),btnDiv.onpress=btn.onpress,btnDiv.name=btn.name,btn.id&&(btnDiv.id=btn.id),btn.onpress&&$(btnDiv).click(function(e){e.preventDefault(),this.onpress($("a",this),g.gDiv,g)}),$(tDiv2).append(btnDiv),browser.msie&&7>browser.version&&$(btnDiv).hover(function(){$(this).addClass("fbOver")},function(){$(this).removeClass("fbOver")})}}if($(g.tDiv).append(tDiv2),$(g.tDiv).append("<div style='clear:both'></div>"),$(g.gDiv).prepend(g.tDiv),p.showOperate||$(g.tDiv).css({height:"1px",border:"none"}),g.hDiv.className="hDiv",p.combobuttons&&$(g.tDiv2)){var btnDiv=document.createElement("div");btnDiv.className="fbutton";var tSelect=document.createElement("select");for($(tSelect).change(function(){g.combo_doSelectAction(tSelect)}),$(tSelect).click(function(){g.combo_resetIndex(tSelect)}),tSelect.className="cselect",$(btnDiv).append(tSelect),i=0;p.combobuttons.length>i;i++){var btn=p.combobuttons[i];if(!btn.separator){var btnOpt=document.createElement("option");btnOpt.innerHTML=btn.name,btn.bclass&&$(btnOpt).addClass(btn.bclass).css({paddingLeft:20}),btn.bimage&&$(btnOpt).css("background","url("+btn.bimage+") no-repeat center left"),$(btnOpt).css("paddingLeft",20),btn.tooltip&&($(btnOpt)[0].title=btn.tooltip),btn.onpress&&(btnOpt.value=btn.onpress),$(tSelect).append(btnOpt)}}$(".tDiv2").append(btnDiv)}g.dgDiv.className="dgDiv",$(g.gDiv).append(g.dgDiv),$(g.dgDiv).append(g.hDiv),g.ohDiv.className="ohDiv",g.obDiv.className="obDiv",$(g.dgDiv).append(g.ohDiv),$(g.dgDiv).append(g.obDiv),$(g.obDiv).append(g.obTable),$(g.ohDiv).append("<table><thead><tr><th>序号</th></tr></thead></table>"),$(g.dgDiv).css({position:"relative"}),$(g.hDiv).css({position:"relative",left:"47px"}),g.hTable.cellPadding=0,g.hTable.cellSpacing=0,$(g.hDiv).append('<div class="hDivBox"></div>'),$("div",g.hDiv).append(g.hTable);var thead=$("thead:first",t).get(0);if(thead&&$(g.hTable).append(thead),thead=null,!p.colmodel)var ci=0;if($("thead tr:first th",g.hDiv).each(function(){var e=document.createElement("div");$(this).attr("abbr")&&($(this).click(function(e){if(!$(this).hasClass("thOver"))return!1;var t=e.target||e.srcElement;return t.href||t.type?!0:(g.changeSort(this),void 0)}),$(this).attr("abbr")==p.sortname&&(e.className="s"+p.sortorder)),this.hidden&&$(this).hide(),p.colmodel||$(this).attr("axis","col"+ci++),""==this.width&&(this.width=100),$(e).css({textAlign:"center",width:this.width+"px"}),e.innerHTML=this.innerHTML,$(this).empty().append(e).removeAttr("width").mousedown(function(e){g.dragStart("colMove",e,this)}).hover(function(){if(g.colresize||$(this).hasClass("thMove")||g.colCopy||$(this).addClass("thOver"),$(this).attr("abbr")==p.sortname||g.colCopy||g.colresize||!$(this).attr("abbr")?$(this).attr("abbr")==p.sortname&&!g.colCopy&&!g.colresize&&$(this).attr("abbr"):$("div",this).addClass("s"+p.sortorder),g.colCopy){var e=$("th",g.hDiv).index(this);if(e==g.dcoln)return!1;g.dcoln>e?$(this).append(g.cdropleft):$(this).append(g.cdropright),g.dcolt=e}else if(!g.colresize){var t=$("th:visible",g.hDiv).index(this),i=parseInt($("div:eq("+t+")",g.cDrag).css("left"),10),n=jQuery(g.nBtn).outerWidth(),s=i-n+Math.floor(p.cgwidth/2);$(g.nDiv).hide();var o=$(this).data("checkbox");"show"!=o&&$(g.nBtn).css({right:"24px",top:"-20px"}).show();var a=parseInt($(g.nDiv).width(),10);$(g.nDiv).css({}),s+a>$(g.gDiv).width(),$(this).hasClass("sorted")?$(g.nBtn).addClass("srtd"):$(g.nBtn).removeClass("srtd")}},function(){$(this).removeClass("thOver"),$(this).attr("abbr")!=p.sortname?$("div",this).removeClass("s"+p.sortorder):$(this).attr("abbr")==p.sortname&&("asc"==p.sortorder?"desc":"asc"),g.colCopy&&($(g.cdropleft).remove(),$(g.cdropright).remove(),g.dcolt=null)})}),g.bDiv.className="bDiv",$(g.dgDiv).append(g.bDiv),$(g.bDiv).append(g.bInnerDiv),$(g.bDiv).css({position:"relative",left:"47px"}),0==$(g.dgDiv).width()){var gridP=$(g.gDiv).closest(".ui-tab-panels");gridP.length>0&&($(g.hDiv).css({width:gridP.width()-$(g.obDiv).width()-20}),$(g.bDiv).css({width:gridP.width()-$(g.obDiv).width()}))}else $(g.hDiv).css({width:$(g.dgDiv).width()-$(g.obDiv).width()-20}),$(g.bDiv).css({width:$(g.dgDiv).width()-$(g.obDiv).width()});if($(g.bDiv).css({height:"auto"==p.height?"auto":p.height}).scroll(function(){g.scroll(),g.obDiv.style.top=-this.scrollTop+26+"px",g.ohDiv.style.zIndex=99,g.tDiv.style.zIndex=100,g.pDiv.style.zIndex=101}).append(t),"auto"==p.height&&$("table",g.bDiv).addClass("autoht"),g.addCellProp(),g.addRowProp(),p.colResize===!0){var cdcol=$("thead tr:first th:first",g.hDiv).get(0);if(null!==cdcol){g.cDrag.className="cDrag",g.cdpad=0,g.cdpad+=isNaN(parseInt($("div",cdcol).css("borderLeftWidth"),10))?0:parseInt($("div",cdcol).css("borderLeftWidth"),10),g.cdpad+=isNaN(parseInt($("div",cdcol).css("borderRightWidth"),10))?0:parseInt($("div",cdcol).css("borderRightWidth"),10),g.cdpad+=isNaN(parseInt($("div",cdcol).css("paddingLeft"),10))?0:parseInt($("div",cdcol).css("paddingLeft"),10),g.cdpad+=isNaN(parseInt($("div",cdcol).css("paddingRight"),10))?0:parseInt($("div",cdcol).css("paddingRight"),10),g.cdpad+=isNaN(parseInt($(cdcol).css("borderLeftWidth"),10))?0:parseInt($(cdcol).css("borderLeftWidth"),10),g.cdpad+=isNaN(parseInt($(cdcol).css("borderRightWidth"),10))?0:parseInt($(cdcol).css("borderRightWidth"),10),g.cdpad+=isNaN(parseInt($(cdcol).css("paddingLeft"),10))?0:parseInt($(cdcol).css("paddingLeft"),10),g.cdpad+=isNaN(parseInt($(cdcol).css("paddingRight"),10))?0:parseInt($(cdcol).css("paddingRight"),10),$(g.bDiv).before(g.cDrag);var cdheight=$(g.bDiv).height(),hdheight=$(g.hDiv).height();$(g.cDrag).css({top:-hdheight+"px"}),$("thead tr:first th",g.hDiv).each(function(){var e=document.createElement("div");$(g.cDrag).append(e),p.cgwidth||(p.cgwidth=$(e).width()),$(e).css({height:cdheight+hdheight}).mousedown(function(e){g.dragStart("colresize",e,this)}).dblclick(function(){g.autoResizeColumn(this)}),browser.msie&&7>browser.version&&(g.fixHeight($(g.gDiv).height()),$(e).hover(function(){g.fixHeight(),$(this).addClass("dragging")},function(){g.colresize||$(this).removeClass("dragging")}))})}}if(p.striped&&($("tbody tr:odd",g.bDiv).addClass("erow"),$(g.bDiv).addClass("strip"),$(g.hDiv).addClass("strip"),$(g.bDiv).addClass("striped")),p.resizable&&"auto"!=p.height&&(g.vDiv.className="vGrip",$(g.vDiv).mousedown(function(e){g.dragStart("vresize",e)}).html("<span></span>"),$(g.bDiv).after(g.vDiv)),p.resizable&&"auto"!=p.width&&!p.nohresize&&(g.rDiv.className="hGrip",$(g.rDiv).mousedown(function(e){g.dragStart("vresize",e,!0)}).html("<span></span>").css("height",$(g.gDiv).height()),browser.msie&&7>browser.version&&$(g.rDiv).hover(function(){$(this).addClass("hgOver")},function(){$(this).removeClass("hgOver")}),$(g.gDiv).append(g.rDiv)),p.searchFormId){var form=$("#"+p.searchFormId);form.submit(function(){g.populate(!0);var e=form.find('*[type="submit"]');return $.btn&&$.btn.running(e,"查询中..."),!1})}if(p.usepager){g.pDiv.className="pDiv",g.pDiv.innerHTML='<div class="pDiv2"></div>',$(g.gDiv).append(g.pDiv);var html=' <div class="pGroup"> <div class="pFirst pButton"><span></span></div><div class="pPrev pButton"><span></span></div> </div> <div class="btnseparator"></div> <div class="pGroup pGroup-s"><span class="pcontrol"><em>'+p.pagetext+' </em><input type="text" size="4" value="1" /><em> '+p.outof+' </em><span> 1 </span><em>页)</em></span></div> <div class="btnseparator"></div> <div class="pGroup"> <div class="pNext pButton"><span></span></div><div class="pLast pButton"><span></span></div> </div> <div class="btnseparator"></div> <div class="pGroup"> <div class="pReload pButton"><span></span></div> </div> <div class="btnseparator"></div> <div class="pGroup"><span class="pPageStat"></span></div>';
if($("div",g.pDiv).html(html),$(".pReload",g.pDiv).click(function(){g.populate()}),$(".pFirst",g.pDiv).click(function(){g.changePage("first")}),$(".pPrev",g.pDiv).click(function(){g.changePage("prev")}),$(".pNext",g.pDiv).click(function(){g.changePage("next")}),$(".pLast",g.pDiv).click(function(){g.changePage("last")}),$(".pcontrol input",g.pDiv).keydown(function(e){13==e.keyCode&&g.changePage("input")}),browser.msie&&7>browser.version&&$(".pButton",g.pDiv).hover(function(){$(this).addClass("pBtnOver")},function(){$(this).removeClass("pBtnOver")}),p.useRp){for(var opt="",sel="",nx=0;p.rpOptions.length>nx;nx++)sel=p.pageSize==p.rpOptions[nx]?'selected="selected"':"",opt+="<option value='"+p.rpOptions[nx]+"' "+sel+" >"+p.rpOptions[nx]+"&nbsp;&nbsp;</option>";$(".pDiv2",g.pDiv).prepend("<div class='pGroup'><select name='pageSize'>"+opt+"</select></div> <div class='btnseparator'></div>"),$("select",g.pDiv).change(function(){p.onRpChange?p.onRpChange(+this.value):(p.newp=1,p.pageSize=+this.value,g.populate())})}}var bDivSiblingsHeight=0,bDivHeight=0;$(g.tDiv).length>0&&(bDivSiblingsHeight+=$(g.tDiv).height()),$(g.mDiv).length>0&&(bDivSiblingsHeight+=$(g.mDiv).height()),$(g.pDiv).length>0&&(bDivSiblingsHeight+=$(g.pDiv).height()),$(g.hDiv).length>0&&(bDivSiblingsHeight+=$(g.hDiv).height()),bDivHeight=p.height-bDivSiblingsHeight-10,$(g.bDiv).css({height:"auto"==p.height?"auto":bDivHeight+"px"}),$(g.sDiv).css({top:bDivHeight+$(g.pDiv).height(),width:"100%"}),$(g.pDiv,g.sDiv).append("<div style='clear:both'></div>"),p.title&&(g.mDiv.className="mDiv",g.mDiv.innerHTML='<div class="ftitle">'+p.title+"</div>",$(g.gDiv).prepend(g.mDiv),p.showTableToggleBtn&&($(g.mDiv).append('<div class="ptogtitle" title="Minimize/Maximize Table"><span></span></div>'),$("div.ptogtitle",g.mDiv).click(function(){$(g.gDiv).toggleClass("hideBody"),$(this).toggleClass("vsble")}))),g.cdropleft=document.createElement("span"),g.cdropleft.className="cdropleft",g.cdropright=document.createElement("span"),g.cdropright.className="cdropright",g.block.className="gBlock";var gh=$(g.bDiv).height(),gtop=g.bDiv.offsetTop;if($(g.block).css({width:g.bDiv.style.width,height:gh,background:"white",position:"relative",marginBottom:-1*gh,zIndex:1e3,top:gtop+$(g.hDiv).height(),left:"0px"}),$(g.block).fadeTo(0,p.blockOpacity),$("th",g.hDiv).length){g.nDiv.className="nDiv",g.nDiv.innerHTML="<table cellpadding='0' cellspacing='0'><tbody></tbody></table>",$(g.nDiv).css({marginBottom:-1*gh,display:"none",right:"20px",top:"0px"}).noSelect();var cn=0;$("th div",g.hDiv).each(function(){var e=$("th[axis='col"+cn+"']",g.hDiv)[0],t='checked="checked"';"none"==e.style.display&&(t=""),"序号"!=this.innerHTML&&"<INPUT ID=CHECKALL TYPE=CHECKBOX NAME=CHECKALL>"!=this.innerHTML.toUpperCase()&&'<input id="checkAll" name="checkAll" type="checkbox">'!=this.innerHTML&&$("tbody",g.nDiv).append('<tr><td class="ndcol1"><input type="checkbox" '+t+' class="togCol" value="'+cn+'" /></td><td class="ndcol2">'+this.innerHTML+"</td></tr>"),cn++}),browser.msie&&7>browser.version&&$("tr",g.nDiv).hover(function(){$(this).addClass("ndcolover")},function(){$(this).removeClass("ndcolover")}),$("td.ndcol2",g.nDiv).click(function(){return $("input:checked",g.nDiv).length<=p.minColToggle&&$(this).prev().find("input")[0].checked?!1:g.toggleCol($(this).prev().find("input").val())}),$("input.togCol",g.nDiv).click(function(){return $("input:checked",g.nDiv).length<p.minColToggle&&this.checked===!1?!1:($(this).parent().next().trigger("click"),void 0)}),$(g.dgDiv).prepend(g.nDiv),$(g.nBtn).addClass("nBtn").html("<div></div>").attr("title","显示／隐藏列").click(function(){return $(g.nDiv).toggle(),!0}),p.showToggleBtn&&$(g.dgDiv).prepend(g.nBtn)}if($(g.iDiv).addClass("iDiv").css({display:"none"}),$(g.bInnerDiv).append(g.iDiv),$(g.iDiv).before(t),$(g.bDiv).hover(function(){$(g.nDiv).hide()},function(){g.multisel&&(g.multisel=!1)}),$(g.gDiv).hover(function(){},function(){$(g.nDiv).hide()}),$(document).mousemove(function(e){g.dragMove(e)}).mouseup(function(){g.dragEnd()}).hover(function(){},function(){g.dragEnd()}),browser.msie&&7>browser.version){var tDivW=$(g.tDiv).innerWidth();$(".hDiv,.mDiv,.pDiv,.vGrip,.tDiv, .sDiv, .bDiv",g.gDiv).width(tDivW),$(g.gDiv).addClass("ie6"),"auto"!=p.width&&$(g.gDiv).addClass("ie6fullwidthbug")}g.rePosDrag(),g.fixHeight(),t.p=p,t.grid=g,p.url&&p.autoload&&g.populate()};var docloaded=!1;$(document).ready(function(){docloaded=!0});var datagrid=$.fn.flexigrid=function(e){return this.each(function(){if(docloaded)$.addFlex(this,e);else{$(this).hide();var t=this;$(document).ready(function(){$.addFlex(t,e)})}})};$.fn.flexReload=function(){return this.each(function(){this.grid&&this.p.url&&this.grid.flexReload()})},$.fn.datagridResize=function(e){return this.each(function(){this.grid&&this.p.width&&this.p.height&&this.grid.datagridResize(e)})},$.fn.flexOptions=function(e){return this.each(function(){this.grid&&this.grid.flexOptions(this.p,e)})},$.fn.getSelectedRows=function(){return this[0].grid?this[0].grid.getSelectedRows():[]},$.fn.getAllRows=function(){return this[0].grid?this[0].grid.getAllRows():[]},$.fn.flexToggleCol=function(e,t){return this.each(function(){this.grid&&this.grid.toggleCol(e,t)})},$.fn.flexAddData=function(e){return this[0].grid?this[0].grid.flexAddData(e):void 0},$.fn.noSelect=function(e){var t=null===e?!0:e;return t?this.each(function(){browser.msie||browser.safari?$(this).bind("selectstart",function(){return!1}):browser.mozilla?($(this).css("MozUserSelect","none"),$("body").trigger("focus")):browser.opera?$(this).bind("mousedown",function(){return!1}):$(this).attr("unselectable","on")}):this.each(function(){browser.msie||browser.safari?$(this).unbind("selectstart"):browser.mozilla?$(this).css("MozUserSelect","inherit"):browser.opera?$(this).unbind("mousedown"):$(this).removeAttr("unselectable","on")})},$.fn.flexSearch=function(){return this.each(function(){this.grid&&this.grid.doSearch()})},window.datagrid=$.fn.datagrid=$.datagrid=datagrid}($||jQuery),function(e){function t(){}function i(){}function n(){}function s(e,t){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i="[\\?&]"+e+"=([^&#]*)",n=RegExp(i),s=n.exec(t);return null==s?"":s[1]}e.photogallery={},e.fn.photogallery=function(o){function a(){e(".pp_loaderIcon").hide(),projectedTop=scroll_pos.scrollTop+(T/2-v.containerHeight/2),0>projectedTop&&(projectedTop=0),$ppt.fadeTo(settings.animation_speed,1),$pp_pic_holder.find(".pp_content").animate({height:v.contentHeight+(settings.show_rotate?20:0),width:v.contentWidth},settings.animation_speed);var t,i;if($pp_pic_holder.animate({top:projectedTop,left:0>$/2-v.containerWidth/2?0:$/2-v.containerWidth/2,width:v.containerWidth},settings.animation_speed,function(){var n,s;v.height,v.width,e(window).width(),e(window).height(),s=v.height>e(window).height()?e(window).height()-70:v.height,n=v.width>e(window).width()?e(window).width()-40:v.width,$pp_pic_holder.find(".pp_hoverContainer,#fullResImage, #pp_full_res").height(v.height).width(v.width),doresize||($pp_pic_holder.find("#pp_full_res, .pp_hoverContainer").height(s).width(n),$pp_pic_holder.find(".pp_content").height(s+60).width(n).css("position","relative"),$pp_pic_holder.find(".pp_details, .ppt").width(n),e(".pp_pic_holder").width(n),$pp_pic_holder.find("#pp_full_res, .pp_hoverContainer").css("overflow","scroll")),t=$pp_pic_holder.find("#fullResImage").height(),i=$pp_pic_holder.find("#fullResImage").width(),$pp_pic_holder.find(".pp_fade").fadeIn(settings.animation_speed),settings.imagesSrc.length>0&&(pp_images=settings.imagesSrc),isSet&&"image"==u(pp_images[set_position])?$pp_pic_holder.find(".pp_hoverContainer").show():settings.imagesSrc.length>0?$pp_pic_holder.find(".pp_hoverContainer").show():$pp_pic_holder.find(".pp_hoverContainer").hide(),settings.allow_expand&&(v.resized?e("a.pp_expand,a.pp_contract").show():e("a.pp_expand").hide()),!settings.autoplay_slideshow||x||b||e.photogallery.startSlideshow(),settings.changepicturecallback(),b=!0}),settings.show_rotate){e("#rotate").html('<a id="rotLeft" class="btn btn-small" href="javascript:void(0)">向左转</a><a id="rotRight" class="btn btn-small" href="javascript:void(0)">向右转</a>');var n={right:e("#rotRight"),left:e("#rotLeft"),img:e("#fullResImage"),rot:0},s={right:function(){n.rot+=1,n.img.get(0).className="rot"+n.rot,3===n.rot&&(n.rot=-1)},left:function(){n.rot-=1,-1===n.rot&&(n.rot=3),n.img.get(0).className="rot"+n.rot},zoom:function(){var s=n.img.get(0).className,o=$pp_pic_holder.find(".pp_hoverContainer").width(),a=$pp_pic_holder.find(".pp_hoverContainer").height();if($pp_pic_holder.find("#pp_full_res").css({"text-align":"center"}),"rot3"==s||"rot1"==s)if(e.browser.msie){var r=n.img.width(),l=n.img.height();if(l>a){var c=a*r/l,d=parseInt((o-a)/2);d=d>0?d:-d,n.img.css({width:a,height:c,marginLeft:d})}else if(r>o){var u=o*l/r,d=parseInt(r-l),h=parseInt(r-l-(r-l)/4);d=d>0?d:-d,h=h>0?h:-h,n.img.css({width:u,height:o,marginTop:d,marginLeft:-h})}}else{var r=n.img.height(),l=n.img.width();if(l>a){var c=a*r/l,d=parseInt((a-c)/2);d=d>0?d:-d,n.img.css({width:a,height:c,marginTop:d})}else if(r>o){var u=o*l/r,d=parseInt((u-o)/2);d=d>0?d:-d,n.img.css({width:u,height:o,marginTop:d,marginLeft:0})}}else n.img.css({width:i,height:t,marginTop:"0",marginLeft:"0"})}};n.right.click(function(){return s.right(),s.zoom(),!1}),n.left.click(function(){return s.left(),s.zoom(),!1})}g(),o.ajaxcallback()}function r(t){$pp_pic_holder.find("#pp_full_res object,#pp_full_res embed").css("visibility","hidden"),$pp_pic_holder.find(".pp_fade").fadeOut(settings.animation_speed,function(){e(".pp_loaderIcon").show(),t()})}function l(t){t>1?e(".pp_nav").show():e(".pp_nav").hide()}function c(e,t){if(resized=!1,d(e,t),imageWidth=e,imageHeight=t,(C>$||_>T)&&doresize&&settings.allow_resize&&!N){for(resized=!0,fitting=!1;!fitting;)C>$?(imageWidth=$-200,imageHeight=t/e*imageWidth):_>T?(imageHeight=T-200,imageWidth=e/t*imageHeight):fitting=!0,_=imageHeight,C=imageWidth;(C>$||_>T)&&c(C,_),d(imageWidth,imageHeight)}return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(_),containerWidth:Math.floor(C)+2*settings.horizontal_padding,contentHeight:Math.floor(y),contentWidth:Math.floor(w),resized:resized}}function d(t,i){t=parseFloat(t),i=parseFloat(i),$pp_details=$pp_pic_holder.find(".pp_details"),$pp_details.width(t),detailsHeight=parseFloat($pp_details.css("marginTop"))+parseFloat($pp_details.css("marginBottom")),$pp_details=$pp_details.clone().width(t).appendTo(e("body")).css({position:"absolute",top:-1e4}),detailsHeight+=$pp_details.height(),detailsHeight=34>=detailsHeight?36:detailsHeight,$pp_details.remove(),$pp_title=$pp_pic_holder.find(".ppt"),$pp_title.width(t),titleHeight=parseFloat($pp_title.css("marginTop"))+parseFloat($pp_title.css("marginBottom")),$pp_title=$pp_title.clone().appendTo(e("body")).css({position:"absolute",top:-1e4}),titleHeight+=$pp_title.height(),$pp_title.remove(),y=i+detailsHeight,w=t,_=y+titleHeight+$pp_pic_holder.find(".pp_top").height()+$pp_pic_holder.find(".pp_bottom").height(),C=t}function u(e){return e.match(/\b.mov\b/i)?"quicktime":e.match(/\b.swf\b/i)?"flash":e.match(/\biframe=true\b/i)?"iframe":e.match(/\bajax=true\b/i)?"ajax":e.match(/\bcustom=true\b/i)?"custom":"#"==e.substr(0,1)?"inline":"image"}function h(){if(doresize&&"undefined"!=typeof $pp_pic_holder){if(scroll_pos=p(),contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width(),projectedTop=T/2+scroll_pos.scrollTop-contentHeight/2,0>projectedTop&&(projectedTop=0),contentHeight>T)return;$pp_pic_holder.css({top:projectedTop,left:$/2+scroll_pos.scrollLeft-contentwidth/2})}}function p(){return self.pageYOffset?{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset}:document.documentElement&&document.documentElement.scrollTop?{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft}:document.body?{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}:void 0}function f(){T=e(window).height(),$=e(window).width(),"undefined"!=typeof $pp_overlay&&$pp_overlay.height(e(document).height()).width($)}function g(){isSet&&settings.overlay_gallery&&"image"==u(pp_images[set_position])?(itemWidth=57,navWidth=50,itemsPerPage=Math.floor((v.containerWidth-100-navWidth)/itemWidth),itemsPerPage=pp_images.length>itemsPerPage?itemsPerPage:pp_images.length,totalPage=Math.ceil(pp_images.length/itemsPerPage)-1,0==totalPage?(navWidth=0,$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").hide()):$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").show(),galleryWidth=itemsPerPage*itemWidth,fullGalleryWidth=pp_images.length*itemWidth,$pp_gallery.css("margin-left",-(galleryWidth/2+navWidth/2)).width(galleryWidth+50).find("div:first").width(galleryWidth+5).find("ul").width(fullGalleryWidth).find("li.selected").removeClass("selected"),goToPage=totalPage>Math.floor(set_position/itemsPerPage)?Math.floor(set_position/itemsPerPage):totalPage,e.photogallery.changeGalleryPage(goToPage),$pp_gallery_li.filter(":eq("+set_position+")").addClass("selected")):$pp_pic_holder.find(".pp_content").unbind("mouseenter mouseleave")}function m(){if(e("body").append(settings.markup),$pp_pic_holder=e(".pp_pic_holder"),$ppt=e(".ppt"),$pp_overlay=e("div.pp_overlay"),isSet&&settings.overlay_gallery){currentGalleryPage=0,toInject="";for(var t=0;pp_images.length>t;t++)pp_images[t].match(/\b(jpg|jpeg|png|gif)\b/gi)?(classname="",img_src=pp_images[t]):(classname="default",img_src=""),toInject+="<li class='"+classname+"'><a href='#'><img src='"+img_src+"' width='50' alt='' /></a></li>";toInject=settings.gallery_markup.replace(/{gallery}/g,toInject),$pp_pic_holder.find("#pp_full_res").after(toInject),$pp_gallery=e(".pp_pic_holder .pp_gallery"),$pp_gallery_li=$pp_gallery.find("li"),$pp_gallery.find(".pp_arrow_next").click(function(){return e.photogallery.changeGalleryPage("next"),e.photogallery.stopSlideshow(),!1}),$pp_gallery.find(".pp_arrow_previous").click(function(){return e.photogallery.changeGalleryPage("previous"),e.photogallery.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_content").hover(function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeIn()},function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeOut()}),itemWidth=57,$pp_gallery_li.each(function(t){e(this).find("a").click(function(){return e.photogallery.changePage(t),e.photogallery.stopSlideshow(),!1})})}settings.slideshow&&($pp_pic_holder.find(".pp_nav").prepend('<a href="#" class="pp_play">Play</a>'),$pp_pic_holder.find(".pp_nav .pp_play").click(function(){return e.photogallery.startSlideshow(),!1})),$pp_pic_holder.attr("class","pp_pic_holder "),$pp_overlay.css({opacity:0,height:e(document).height(),width:e(window).width()}).bind("click",function(){settings.modal||e.photogallery.close()}),e("a.pp_close").bind("click",function(){return e.photogallery.close(),!1}),e("a.pp_close").css({right:"-5px",top:"-5px"}),settings.allow_expand&&e("a.pp_expand").bind("click",function(){return e(this).hasClass("pp_expand")?(e(this).removeClass("pp_expand").addClass("pp_contract"),doresize=!1):(e(this).removeClass("pp_contract").addClass("pp_expand"),doresize=!0),r(function(){e.photogallery.open()}),!1}),$pp_pic_holder.find(".pp_previous, .pp_nav .pp_arrow_previous").bind("click",function(){return e.photogallery.changePage("previous"),e.photogallery.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_next, .pp_nav .pp_arrow_next").bind("click",function(){return e.photogallery.changePage("next"),e.photogallery.stopSlideshow(),!1}),h()}o=jQuery.extend({hook:"rel",animation_speed:"fast",ajaxcallback:function(){},imagesSrc:[],slideshow:5e3,autoplay_slideshow:!1,opacity:.8,show_title:!0,show_rotate:!1,allow_resize:!0,allow_expand:!1,default_width:500,default_height:344,counter_separator_label:"/",horizontal_padding:20,hideflash:!1,wmode:"opaque",autoplay:!0,modal:!1,deeplinking:!0,overlay_gallery:!0,overlay_gallery_max:30,keyboard_shortcuts:!0,changepicturecallback:function(){},callback:function(){},ie6_fallback:!0,markup:'<div class="pp_pic_holder">                         <div class="ppt">&nbsp;</div>                         <div class="pp_content_container">                                 <div class="pp_content">                                     <a class="pp_close" href="#">×</a>                                     <div class="pp_loaderIcon"></div>                                     <div class="pp_fade">                                         <a href="#" class="pp_expand" title="Expand the image">Expand</a>                                         <div class="pp_hoverContainer">                                             <a class="pp_next" href="#">next</a>                                             <a class="pp_previous" href="#">previous</a>                                         </div>                                         <div id="pp_full_res"></div>                                         <div class="pp_details">                                             <div class="pp_nav">                                                 <a href="#" class="pp_arrow_previous">Previous</a>                                                 <p class="currentTextHolder">0/0</p>                                                 <a href="#" class="pp_arrow_next">Next</a>                                             </div>                                             <p class="pp_description"></p>                                             <div class="pp_rotate" id="rotate"></div>                                         </div>                                     </div>                             </div>                         </div>                     </div>                     <div class="pp_overlay"></div>',gallery_markup:'<div class="pp_gallery">                                 <a href="#" class="pp_arrow_previous">Previous</a>                                 <div>                                     <ul>                                         {gallery}                                     </ul>                                 </div>                                 <a href="#" class="pp_arrow_next">Next</a>                             </div>',image_markup:'<img id="fullResImage" src="{path}" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>',quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe>',inline_markup:'<div class="pp_inline">{content}</div>',custom_markup:""},o);var v,b,y,w,_,C,x,k=this,N=!1,T=e(window).height(),$=e(window).width();return doresize=!0,scroll_pos=p(),e(window).unbind("resize.photogallery").bind("resize.photogallery",function(){h(),f()}),o.keyboard_shortcuts&&e(document).unbind("keydown.photogallery").bind("keydown.photogallery",function(t){if("undefined"!=typeof $pp_pic_holder&&$pp_pic_holder.is(":visible"))switch(t.keyCode){case 37:e.photogallery.changePage("previous"),t.preventDefault();break;case 39:e.photogallery.changePage("next"),t.preventDefault();break;case 27:settings.modal||e.photogallery.close(),t.preventDefault()}}),e.photogallery.initialize=function(){return settings=o,settings.horizontal_padding=16,theRel=e(this).attr(settings.hook),galleryRegExp=/\[(?:.*)\]/,isSet=galleryRegExp.exec(theRel)?!0:!1,pp_images=settings.imagesSrc.length>0?settings.imagesSrc:isSet?jQuery.map(k,function(t){return-1!=e(t).attr(settings.hook).indexOf(theRel)?e(t).attr("href"):void 0}):e.makeArray(e(this).attr("href")),pp_titles=isSet?jQuery.map(k,function(t){return-1!=e(t).attr(settings.hook).indexOf(theRel)?e(t).find("img").attr("alt")?e(t).find("img").attr("alt"):"":void 0}):e.makeArray(e(this).find("img").attr("alt")),pp_descriptions=isSet?jQuery.map(k,function(t){return-1!=e(t).attr(settings.hook).indexOf(theRel)?e(t).attr("title")?e(t).attr("title"):"":void 0}):e.makeArray(e(this).attr("title")),pp_images.length>settings.overlay_gallery_max&&(settings.overlay_gallery=!1),set_position=settings.imagesSrc.length>0?0:jQuery.inArray(e(this).attr("href"),pp_images),rel_index=isSet?set_position:e("a["+settings.hook+"^='"+theRel+"']").index(e(this)),m(this),settings.allow_resize&&e(window).bind("scroll.photogallery",function(){h()}),e.photogallery.open(),!1},e.photogallery.open=function(t){return"undefined"==typeof settings&&(settings=o,pp_images=settings.imagesSrc.length>0?settings.imagesSrc:e.makeArray(arguments[0]),pp_titles=arguments[1]?e.makeArray(arguments[1]):e.makeArray(""),pp_descriptions=arguments[2]?e.makeArray(arguments[2]):e.makeArray(""),isSet=pp_images.length>1?!0:!1,set_position=arguments[3]?arguments[3]:0,m(t.target)),settings.hideflash&&e("object,embed").css("visibility","hidden"),l(e(pp_images).size()),e(".pp_loaderIcon").show(),settings.deeplinking&&i(),$ppt.is(":hidden")&&$ppt.css("opacity",0).show(),$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity),$pp_pic_holder.find(".currentTextHolder").text(set_position+1+settings.counter_separator_label+e(pp_images).size()),pp_descriptions[set_position]!==void 0&&""!=pp_descriptions[set_position]?$pp_pic_holder.find(".pp_description").show().html(unescape(pp_descriptions[set_position])):$pp_pic_holder.find(".pp_description").hide(),movie_width=parseFloat(s("width",pp_images[set_position]))?s("width",pp_images[set_position]):""+settings.default_width,movie_height=parseFloat(s("height",pp_images[set_position]))?s("height",pp_images[set_position]):""+settings.default_height,N=!1,-1!=movie_height.indexOf("%")&&(movie_height=parseFloat(e(window).height()*parseFloat(movie_height)/100-150),N=!0),-1!=movie_width.indexOf("%")&&(movie_width=parseFloat(e(window).width()*parseFloat(movie_width)/100-150),N=!0),$pp_pic_holder.fadeIn(function(){settings.show_title&&""!=pp_titles[set_position]&&pp_titles[set_position]!==void 0?$ppt.html(unescape(pp_titles[set_position])):$ppt.html("&nbsp;");var t,i,n="",s=o.imagesSrc;switch(skipInjection=!1,u(pp_images[set_position])){case"image":n=new Image,t=new Image,i=new Image,s.length>0?(isSet&&e(s).size()-1>set_position&&(t.src=s[set_position+1]),isSet&&s[set_position-1]&&(i.src=s[set_position-1]),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=settings.image_markup.replace(/{path}/g,s[set_position])):(isSet&&e(pp_images).size()-1>set_position&&(t.src=pp_images[set_position+1]),isSet&&pp_images[set_position-1]&&(i.src=pp_images[set_position-1]),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position])),n.onload=function(){v=c(n.width,n.height),a()},n.onerror=function(){alert("图片链接地址错误。"),e.photogallery.close()},n.src=s.length>0?s[set_position]:pp_images[set_position];break;case"inline":myClone=e(pp_images[set_position]).clone().append('<br clear="all" />').css({width:settings.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline"></div></div>').appendTo(e("body")).show(),doresize=!1,v=c(e(myClone).width(),e(myClone).height()),doresize=!0,e(myClone).remove(),toInject=settings.inline_markup.replace(/{content}/g,e(pp_images[set_position]).html())}n||skipInjection||($pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,a())}),!1},e.photogallery.changePage=function(t){currentGalleryPage=0,"previous"==t?(set_position--,0>set_position&&(set_position=e(pp_images).size()-1)):"next"==t?(set_position++,set_position>e(pp_images).size()-1&&(set_position=0)):set_position=t,rel_index=set_position,doresize||(doresize=!0),settings.allow_expand&&e(".pp_contract").removeClass("pp_contract").addClass("pp_expand"),r(function(){e.photogallery.open()})},e.photogallery.changeGalleryPage=function(e){"next"==e?(currentGalleryPage++,currentGalleryPage>totalPage&&(currentGalleryPage=0)):"previous"==e?(currentGalleryPage--,0>currentGalleryPage&&(currentGalleryPage=totalPage)):currentGalleryPage=e,slide_speed="next"==e||"previous"==e?settings.animation_speed:0,slide_to=currentGalleryPage*itemsPerPage*itemWidth,$pp_gallery.find("ul").animate({left:-slide_to},slide_speed)},e.photogallery.startSlideshow=function(){x===void 0?($pp_pic_holder.find(".pp_play").unbind("click").removeClass("pp_play").addClass("pp_pause").click(function(){return e.photogallery.stopSlideshow(),!1}),x=setInterval(e.photogallery.startSlideshow,settings.slideshow)):e.photogallery.changePage("next")},e.photogallery.stopSlideshow=function(){$pp_pic_holder.find(".pp_pause").unbind("click").removeClass("pp_pause").addClass("pp_play").click(function(){return e.photogallery.startSlideshow(),!1}),clearInterval(x),x=void 0},e.photogallery.close=function(){$pp_overlay.is(":animated")||(e.photogallery.stopSlideshow(),$pp_pic_holder.stop().find("object,embed").css("visibility","hidden"),e("div.pp_pic_holder,div.ppt,.pp_fade").fadeOut(settings.animation_speed,function(){e(this).remove()}),$pp_overlay.fadeOut(settings.animation_speed,function(){settings.hideflash&&e("object,embed").css("visibility","visible"),e(this).remove(),e(window).unbind("scroll.photogallery"),n(),settings.callback(),doresize=!0,b=!1,delete settings}))},!pp_alreadyInitialized&&t()&&(pp_alreadyInitialized=!0,hashIndex=t(),hashRel=hashIndex,hashIndex=hashIndex.substring(hashIndex.indexOf("/")+1,hashIndex.length-1),hashRel=hashRel.substring(0,hashRel.indexOf("/")),setTimeout(function(){e("a["+o.hook+"^='"+hashRel+"']:eq("+hashIndex+")").trigger("click")},50)),e(this).unbind("click.photogallery").bind("click.photogallery",e.photogallery.initialize)}}($||jQuery);var pp_alreadyInitialized=!1;(function(e){function t(t){var i=[].slice.call(arguments,1),n=0;return t=e.event.fix(t||window.event),t.type="mousewheel",t.wheelDelta&&(n=t.wheelDelta/120),t.detail&&(n=-t.detail/3),i.unshift(t,n),e.event.handle.apply(this,i)}var i=0;e.fn.extend({mSelect:function(t){return t=e.extend({},t||{}),this.each(function(n){var s=this,o=e(this);if(!o.attr("created")){o.attr("created",!0);var a=o.hasClass("noborder");o.width(),o.hide();var r=((this.name||this.id)+"__jQSelect"+n||"__jQSelect"+n)+ ++i;r=r.replace(/\./g,"_");var l=e('<div id="'+r+'" class="dropdown" tabindex="0"></div>'),c=e('<div class="lc"><div id="'+r+'" class="dropdown" tabindex="0"></div></div>');if("list"==t.type?o.wrap(c):o.wrap(l),s.selectedIndex>=0)var d=s.options[s.selectedIndex].text;else var d="";var u=e('<div class="dropselectbox" id="'+r+'"></div>'),h=e('<h4 title="'+d+(a?'" class="noborder"':'"')+">"+d+"</h4>");h.attr("reset",o.attr("reset")),u.append(h),o.after(u);var p=e("#ul"+r),f=e("<iframe class='select-iframe'></iframe>"),g=e("#ulShadow"+r);return"list"==t.type&&u.hover(function(){e(this).addClass("hover")},function(){(0==p.length||"none"==p.css("display"))&&e(this).removeClass("hover")}),o.prop("disabled")?(h.addClass("disabled"),void 0):(h.bind("click.mSelect",function(i){if(e(this).hasClass("disabled"))return!1;if(i?i.stopPropagation():window.event.cancelBubble=!0,"list"==t.type&&e(this).parent().addClass("hover"),p.length>0)if("none"==p.css("display")){e("body").trigger("click.select"),g.show(),g.css({left:u.position().left+4,top:u.position().top+u.height(),"z-index":11}),p.show(),f.height(p.height()+2),f.show(),"list"==t.type?p.css({left:u.position().left,top:u.position().top+19}):(p.css({left:u.offset().left,top:u.offset().top+u.height()}),f.css({left:u.offset().left,top:u.offset().top+u.height()}));var n=h[0].offsetWidth-4;n>p.width()||e.browser.msie&&6==e.browser.version?"list"!=t.type&&(p.width(n),f.width(n+4)):e.browser.msie&&7==e.browser.version?e("li",p).width(p.width()-20):p.offset().left+p.width()>e("body").width()&&(p.width(e("body").width()-p.offset().left),f.width(e("body").width()-p.offset().left+8)),h.parent().addClass("hover")}else e("body").trigger("click.select");else{e("body").trigger("click.select"),"list"==t.type?(p=e('<ul id="ul'+r+'"'+(a?' class="lc edit-select-box"':' class="lc edit-select-box noborder"')+"></ul>"),g=e('<div id="ulShadow'+r+'"'+(a?' class="shadow-mask"':' class="shadow-mask noborder"')+"></div>"),p.width("135px"),g.width("139px"),g.height(22*s.options.length+s.options.length+5),u.append(p),u.append(g),p.css({left:u.position().left,top:u.position().top+23,"padding-bottom":"4px","background-color":"#F1F1F1"}),g.css({left:u.position().left+4,top:u.position().top+24,"z-index":11})):(p=e('<ul id="ul'+r+'"'+(a?' class="edit-select-box"':' class="edit-select-box noborder"')+"></ul>"),e("body").append(p),e("body").append(f),p.css({left:u.offset().left,top:u.offset().top+u.height()}),f.css({left:u.offset().left,top:u.offset().top+u.height()}));for(var l=0;s.options.length>l;l++){var c=e('<li idx="'+l+'">'+s.options[l].text+"</li>");c.hover(function(){e(this).addClass("over")},function(){e(this).removeClass("over")}),c.bind("click.mSelect_li",function(i){i?i.stopPropagation():window.event.cancelBubble=!0,t.setValueCallBack&&t.setValueCallBack(e(this).text()),s.options[e(this).attr("idx")].selected=!0,h.text(e(this).text()).attr("title",e(this).text()),h.parent().removeClass("hover"),p.hide(),f.hide(),g.hide(),s.options[e(this).attr("idx")].getAttribute("params")?o.trigger("change",s.options[e(this).attr("idx")].getAttribute("params")):o.trigger("change")}),p.append(c)}"list"==t.type||t.rowCount>0&&p.css({"max-height":e(".edit-select-box li").eq(0).height()*t.rowCount+"px"}),p.show(),f.height(p.height()+2),f.width(p.width()),f.show(),g.show();var n=h[0].offsetWidth-4;n>p.width()||e.browser.msie&&6==e.browser.version?"list"!=t.type&&(p.width(n),f.width(n+4)):e.browser.msie&&7==e.browser.version?e("li",p).width(p.width()-20):p.offset().left+p.width()>e("body").width()&&p.width(e("body").width()-p.offset().left),e.browser.msie&&6==e.browser.version&&p.height()>180&&"list"!=t.type&&(p.height(180),f.height(182)),e("body, .ui_title_bar, .bDiv a").bind("click.select",function(){p.hide(),f.hide(),g.hide(),h.parent().hasClass("hover")&&h.parent().removeClass("hover")}),e(window).resize(function(){p.hide(),f.hide(),g.hide()})}}),void 0)}})},addOption:function(t,i,n){var s=this[0],o=document.createElement("option");if(o.text=t,o.value=i,n>=0){var a=s.options[n];s.add(o,a)}else if(null==n||void 0==n||""==n)try{s.add(o,null)}catch(r){s.add(o)}var l=(s.name||s.id)+"__jQSelect"||"__jQSelect";l=l.replace(/\./g,"_");var c=e('div.dropselectbox[id^="'+l+'"] h4'),d=e('ul[id^="ul'+l+'"]:last');if(null!=d||void 0!=d||""!=d){var u=d.children().length,h=e('<li idx="'+u+'">'+t+"</li>");h.hover(function(){e(this).addClass("over")},function(){e(this).removeClass("over")}),h.bind("click.addOption_li",function(t){t?t.stopPropagation():window.event.cancelBubble=!0,s.options[e(this).attr("idx")].selected=!0,c.text(e(this).text()).attr("title",e(this).text()),c.parent().removeClass("hover"),d.hide(),d.next("iframe").hide(),e(this).trigger("change")}),d.append(h)}},removeOption:function(t){var i=this[0],n=i.options.length,s=(i.name||i.id)+"__jQSelect"||"__jQSelect";s=s.replace(/\./g,"_");var o=e('div.dropselectbox[id^="'+s+'"] h4'),a=e('ul[id^="ul'+s+'"]:last');if(null===t||void 0===t||void 0===parseInt(t,10)){if(n>0)for(var r=0;n>r;r++)i.remove(0),e("li:eq(0)",a).remove();o.text("")}else{var t=parseInt(t,10);i.selectedIndex==t&&o.text(""),i.remove(t),e("li:eq("+t+")",a).remove()}a.next("iframe").height(a.height()+2)},delOption:function(t){e(this).removeOption(e("option[value='"+t+"']",this).index())
},setValue:function(t){var i=this[0],n=(i.name||i.id)+"__jQSelect"||"__jQSelect";n=n.replace(/\./g,"_");for(var s=e('div.dropselectbox[id^="'+n+'"] h4'),o=i.options,a=o.length,r=!1,l=0;a>l;l++){var c=e(o[l]).attr("value");if(c===t){r=!0;var d=e(o[l]).text();o[l].selected=!0;break}}r?s.text(d):s.text("")},disabledSelect:function(){var t=((this[0].name||this[0].id)+"__jQSelect"||"__jQSelect").replace(/\./g,"_");e('div.dropselectbox[id^="'+t+'"] h4').addClass("disabled")},unDisabledSelect:function(){var t=((this[0].name||this[0].id)+"__jQSelect"||"__jQSelect").replace(/\./g,"_");e('div.dropselectbox[id^="'+t+'"] h4').removeClass("disabled")},clearSelectMenu:function(t,i){void 0!=t&&(i=i||"auto",e('*[id="'+t+'"] ul').empty().hide(),e('*[id="'+t+'"] h4').removeClass("over").removeClass("current"),e('*[id="'+t+'"]').css({"z-index":i}))},setSelectValue:function(t){var i=[];e.each(e('*[id="'+t+'"] option'),function(){i.push("<li class='FixSelectBrowser'>"+e(this).text()+"</li>")}),i=i.join(""),e('*[id="'+t+'"] ul').html(i),e('*[id="'+t+'"] h4').html(e('*[id="'+t+'"] option:selected').text()),e('*[id="'+t+'"] li').eq(e('*[id="'+t+'"] select')[0].selectedIndex).addClass("over").addClass("selectedli")},keyDown:function(t,i){var n=e('*[id="'+t+'"] select');n[0].selectedIndex=i,n.change(),e('*[id="'+t+'"] li:eq('+i+")").toggleClass("over"),e('*[id="'+t+'"] h4').html(e('*[id="'+t+'"] option:selected').text())}});var n=["DOMMouseScroll","mousewheel"];e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=n.length;e;)this.addEventListener(n[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=n.length;e;)this.removeEventListener(n[--e],t,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}}),e(function(){e(".edit-select").mSelect()})})(jQuery),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"use strict";function t(i,n){var s=function(){},o=this,a={queryKey:"query",resultKey:"result",autoSelectFirst:!1,appendTo:"body",serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:t.formatResult,delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:s,onSearchComplete:s,onSearchError:s,containerClass:"autocomplete-suggestions",tabDisabled:!1,dataType:"text",currentRequest:null,triggerSelectOnValidInput:!0,lookupFilter:function(e,t,i){return-1!==e.value.toLowerCase().indexOf(i)},paramName:"query",transformResult:function(t){return"string"==typeof t?e.parseJSON(t):t}};o.element=i,o.el=e(i),o.suggestions=[],o.badQueries=[],o.selectedIndex=-1,o.currentValue=o.element.value,o.intervalId=0,o.cachedResponse={},o.onChangeInterval=null,o.onChange=null,o.isLocal=!1,o.suggestionsContainer=null,o.options=e.extend({},a,n),o.classes={selected:"autocomplete-selected",suggestion:"autocomplete-suggestion"},o.hint=null,o.hintValue="",o.selection=null,o.initialize(),o.setOptions(n)}var i=function(){return{escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},createNode:function(e){var t=document.createElement("div");return t.className=e,t.style.position="absolute",t.style.display="none",t}}}(),n={ESC:27,TAB:9,RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40};t.utils=i,e.Autocomplete=t,t.formatResult=function(e,t){var n="("+i.escapeRegExChars(t)+")";return e.value.replace(RegExp(n,"gi"),"<strong>$1</strong>")},t.prototype={killerFn:null,initialize:function(){var i,n=this,s="."+n.classes.suggestion,o=n.classes.selected,a=n.options;n.element.setAttribute("autocomplete","off"),n.killerFn=function(t){0===e(t.target).closest("."+n.options.containerClass).length&&(n.killSuggestions(),n.disableKillerFn())},n.suggestionsContainer=t.utils.createNode(a.containerClass),i=e(n.suggestionsContainer),i.appendTo(a.appendTo),"auto"!==a.width&&i.width(a.width),i.on("mouseover.autocomplete",s,function(){n.activate(e(this).data("index"))}),i.on("mouseout.autocomplete",function(){n.selectedIndex=-1,i.children("."+o).removeClass(o)}),i.on("click.autocomplete",s,function(){n.select(e(this).data("index"))}),n.fixPosition(),n.fixPositionCapture=function(){n.visible&&n.fixPosition()},e(window).on("resize.autocomplete",n.fixPositionCapture),n.el.on("keydown.autocomplete",function(e){n.onKeyPress(e)}),n.el.on("keyup.autocomplete",function(e){n.onKeyUp(e)}),n.el.on("blur.autocomplete",function(){n.onBlur()}),n.el.on("focus.autocomplete",function(){n.onFocus()}),n.el.on("change.autocomplete",function(e){n.onKeyUp(e)})},onFocus:function(){var e=this;e.fixPosition(),e.options.minChars<=e.el.val().length&&e.onValueChange()},onBlur:function(){this.enableKillerFn()},setOptions:function(t){var i=this,n=i.options;e.extend(n,t),i.isLocal=e.isArray(n.lookup),i.isLocal&&(n.lookup=i.verifySuggestionsFormat(n.lookup)),e(i.suggestionsContainer).css({"max-height":n.maxHeight+"px",width:n.width+"px","z-index":n.zIndex})},clearCache:function(){this.cachedResponse={},this.badQueries=[]},clear:function(){this.clearCache(),this.currentValue="",this.suggestions=[]},disable:function(){var e=this;e.disabled=!0,e.currentRequest&&e.currentRequest.abort()},enable:function(){this.disabled=!1},fixPosition:function(){var t,i,n=this;"body"===n.options.appendTo&&(t=n.el.offset(),i={top:t.top+n.el.outerHeight()+"px",left:t.left+"px"},"auto"===n.options.width&&(i.width=n.el.outerWidth()-2+"px"),e(n.suggestionsContainer).css(i))},enableKillerFn:function(){var t=this;e(document).on("click.autocomplete",t.killerFn)},disableKillerFn:function(){var t=this;e(document).off("click.autocomplete",t.killerFn)},killSuggestions:function(){var e=this;e.stopKillSuggestions(),e.intervalId=window.setInterval(function(){e.hide(),e.stopKillSuggestions()},50)},stopKillSuggestions:function(){window.clearInterval(this.intervalId)},isCursorAtEnd:function(){var e,t=this,i=t.el.val().length,n=t.element.selectionStart;return"number"==typeof n?n===i:document.selection?(e=document.selection.createRange(),e.moveStart("character",-i),i===e.text.length):!0},onKeyPress:function(e){var t=this;if(!t.disabled&&!t.visible&&e.which===n.DOWN&&t.currentValue)return t.suggest(),void 0;if(!t.disabled&&t.visible){switch(e.which){case n.ESC:t.el.val(t.currentValue),t.hide();break;case n.RIGHT:if(t.hint&&t.options.onHint&&t.isCursorAtEnd()){t.selectHint();break}return;case n.TAB:if(t.hint&&t.options.onHint)return t.selectHint(),void 0;case n.RETURN:if(-1===t.selectedIndex)return t.hide(),void 0;if(t.select(t.selectedIndex),e.which===n.TAB&&t.options.tabDisabled===!1)return;break;case n.UP:t.moveUp();break;case n.DOWN:t.moveDown();break;default:return}e.stopImmediatePropagation(),e.preventDefault()}},onKeyUp:function(e){var t=this;if(!t.disabled){switch(e.which){case n.UP:case n.DOWN:return}clearInterval(t.onChangeInterval),t.currentValue!==t.el.val()&&(t.findBestHint(),t.options.deferRequestBy>0?t.onChangeInterval=setInterval(function(){t.onValueChange()},t.options.deferRequestBy):t.onValueChange())}},onValueChange:function(){var t,i=this,n=i.options,s=i.el.val(),o=i.getQuery(s);return i.selection&&(i.selection=null,(n.onInvalidateSelection||e.noop).call(i.element)),clearInterval(i.onChangeInterval),i.currentValue=s,i.selectedIndex=-1,n.triggerSelectOnValidInput&&(t=i.findSuggestionIndex(o),-1!==t)?(i.select(t),void 0):(o.length<n.minChars?i.hide():i.getSuggestions(o),void 0)},findSuggestionIndex:function(t){var i=this,n=-1,s=t.toLowerCase();return e.each(i.suggestions,function(e,t){return t.value.toLowerCase()===s?(n=e,!1):void 0}),n},getQuery:function(t){var i,n=this.options.delimiter;return n?(i=t.split(n),e.trim(i[i.length-1])):t},getSuggestionsLocal:function(t){var i,n=this,s=n.options,o=t.toLowerCase(),a=s.lookupFilter,r=parseInt(s.lookupLimit,10);return i={suggestions:e.grep(s.lookup,function(e){return a(e,t,o)})},r&&i.suggestions.length>r&&(i.suggestions=i.suggestions.slice(0,r)),i},getSuggestions:function(t){var i,n,s,o=this,a=o.options,r=a.serviceUrl;if(a.params[a.paramName]=t,n=a.ignoreParams?null:a.params,o.isLocal?i=o.getSuggestionsLocal(t):(e.isFunction(r)&&(r=r.call(o.element,t)),s=r+"?"+e.param(n||{}),i=o.cachedResponse[s]),i&&e.isArray(i.suggestions))o.suggestions=i.suggestions,o.suggest();else if(!o.isBadQuery(t)){if(a.onSearchStart.call(o.element,a.params)===!1)return;o.currentRequest&&o.currentRequest.abort(),o.currentRequest=e.ajax({url:r,data:n,type:a.type,dataType:a.dataType}).done(function(e){o.currentRequest=null,o.processResponse(e,t,s),a.onSearchComplete.call(o.element,t)}).fail(function(e,i,n){a.onSearchError.call(o.element,t,e,i,n)})}},isBadQuery:function(e){for(var t=this.badQueries,i=t.length;i--;)if(0===e.indexOf(t[i]))return!0;return!1},hide:function(){var t=this;t.visible=!1,t.selectedIndex=-1,e(t.suggestionsContainer).hide(),t.signalHint(null)},suggest:function(){if(0===this.suggestions.length)return this.hide(),void 0;var t,i,n=this,s=n.options,o=s.formatResult,a=n.getQuery(n.currentValue),r=n.classes.suggestion,l=n.classes.selected,c=e(n.suggestionsContainer),d=s.beforeRender,u="";return s.triggerSelectOnValidInput&&(t=n.findSuggestionIndex(a),-1!==t)?(n.select(t),void 0):(e.each(n.suggestions,function(e,t){u+='<div class="'+r+'" data-index="'+e+'">'+o(t,a)+"</div>"}),"auto"===s.width&&(i=n.el.outerWidth()-2,c.width(i>0?i:300)),c.html(u),s.autoSelectFirst&&(n.selectedIndex=0,c.children().first().addClass(l)),e.isFunction(d)&&d.call(n.element,c),c.show(),n.visible=!0,n.findBestHint(),void 0)},findBestHint:function(){var t=this,i=t.el.val().toLowerCase(),n=null;i&&(e.each(t.suggestions,function(e,t){var s=0===t.value.toLowerCase().indexOf(i);return s&&(n=t),!s}),t.signalHint(n))},signalHint:function(t){var i="",n=this;t&&(i=n.currentValue+t.value.substr(n.currentValue.length)),n.hintValue!==i&&(n.hintValue=i,n.hint=t,(this.options.onHint||e.noop)(i))},verifySuggestionsFormat:function(t){if(t.length&&"string"==typeof t[0])return e.map(t,function(e){return{value:e,data:null}});if(t.length){var i=this;return e.map(t,function(e){return{value:e[i.options.returnKey],data:e[i.options.resultKey]}})}return t},processResponse:function(e,t,i){var n=this,s=n.options,o=s.transformResult(e,t);o.suggestions=n.verifySuggestionsFormat(o[this.options.resultKey]),s.noCache||(n.cachedResponse[i]=o,0===o.suggestions.length&&n.badQueries.push(i)),t===n.getQuery(n.currentValue)&&(n.suggestions=o.suggestions,n.suggest())},activate:function(t){var i,n=this,s=n.classes.selected,o=e(n.suggestionsContainer),a=o.children();return o.children("."+s).removeClass(s),n.selectedIndex=t,-1!==n.selectedIndex&&a.length>n.selectedIndex?(i=a.get(n.selectedIndex),e(i).addClass(s),i):null},selectHint:function(){var t=this,i=e.inArray(t.hint,t.suggestions);t.select(i)},select:function(e){var t=this;t.hide(),t.onSelect(e)},moveUp:function(){var t=this;if(-1!==t.selectedIndex)return 0===t.selectedIndex?(e(t.suggestionsContainer).children().first().removeClass(t.classes.selected),t.selectedIndex=-1,t.el.val(t.currentValue),t.findBestHint(),void 0):(t.adjustScroll(t.selectedIndex-1),void 0)},moveDown:function(){var e=this;e.selectedIndex!==e.suggestions.length-1&&e.adjustScroll(e.selectedIndex+1)},adjustScroll:function(t){var i,n,s,o=this,a=o.activate(t),r=25;a&&(i=a.offsetTop,n=e(o.suggestionsContainer).scrollTop(),s=n+o.options.maxHeight-r,n>i?e(o.suggestionsContainer).scrollTop(i):i>s&&e(o.suggestionsContainer).scrollTop(i-o.options.maxHeight+r),o.el.val(o.getValue(o.suggestions[t].value)),o.signalHint(null))},onSelect:function(t){var i=this,n=i.options.onSelect,s=i.suggestions[t];i.currentValue=i.getValue(s.value),i.el.val(i.currentValue),i.signalHint(null),i.suggestions=[],i.selection=s,e.isFunction(n)&&n.call(i.element,s)},getValue:function(e){var t,i,n=this,s=n.options.delimiter;return s?(t=n.currentValue,i=t.split(s),1===i.length?e:t.substr(0,t.length-i[i.length-1].length)+e):e},dispose:function(){var t=this;t.el.off(".autocomplete").removeData("autocomplete"),t.disableKillerFn(),e(window).off("resize.autocomplete",t.fixPositionCapture),e(t.suggestionsContainer).remove()}},e.fn.autocomplete=function(i,n){var s="autocomplete";return 0===arguments.length?this.first().data(s):this.each(function(){var o=e(this),a=o.data(s);"string"==typeof i?a&&"function"==typeof a[i]&&a[i](n):(a&&a.dispose&&a.dispose(),a=new t(this,i),o.data(s,a))})}}),function(e){"use strict";function t(t){var i=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(this).ajaxSubmit(i))}function i(t){var i=t.target,n=e(i);if(!n.is("[type=submit],[type=image]")){var s=n.closest("[type=submit]");if(0===s.length)return;i=s[0]}var o=this;if(o.clk=i,"image"==i.type)if(void 0!==t.offsetX)o.clk_x=t.offsetX,o.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var a=n.offset();o.clk_x=t.pageX-a.left,o.clk_y=t.pageY-a.top}else o.clk_x=t.pageX-i.offsetLeft,o.clk_y=t.pageY-i.offsetTop;setTimeout(function(){o.clk=o.clk_x=o.clk_y=null},100)}function n(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var s={};s.fileapi=void 0!==e("<input type='file'/>").get(0).files,s.formdata=void 0!==window.FormData;var o=!!e.fn.prop;e.fn.attr2=function(){if(!o)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(t){function i(i){var n,s,o=e.param(i,t.traditional).split("&"),a=o.length,r=[];for(n=0;a>n;n++)o[n]=o[n].replace(/\+/g," "),s=o[n].split("="),r.push([decodeURIComponent(s[0]),decodeURIComponent(s[1])]);return r}function a(n){for(var s=new FormData,o=0;n.length>o;o++)s.append(n[o].name,n[o].value);if(t.extraData){var a=i(t.extraData);for(o=0;a.length>o;o++)a[o]&&s.append(a[o][0],a[o][1])}t.data=null;var r=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:l||"POST"});t.uploadProgress&&(r.xhr=function(){var i=e.ajaxSettings.xhr();return i.upload&&i.upload.addEventListener("progress",function(e){var i=0,n=e.loaded||e.position,s=e.total;e.lengthComputable&&(i=Math.ceil(100*(n/s))),t.uploadProgress(e,n,s,i)},!1),i}),r.data=null;var c=r.beforeSend;return r.beforeSend=function(e,t){t.data=s,c&&c.call(this,e,t)},e.ajax(r)}function r(i){function s(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(i){n("cannot get iframe.contentWindow document: "+i)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(i){n("cannot get iframe.contentDocument: "+i),t=e.document}return t}function a(){function t(){try{var e=s(v).readyState;n("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(i){n("Server abort: ",i," (",i.name,")"),r(T),C&&clearTimeout(C),C=void 0}}var i=u.attr2("target"),o=u.attr2("action");x.setAttribute("target",f),l||x.setAttribute("method","POST"),o!=h.url&&x.setAttribute("action",h.url),h.skipEncodingOverride||l&&!/post/i.test(l)||u.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),h.timeout&&(C=setTimeout(function(){_=!0,r(N)},h.timeout));var a=[];try{if(h.extraData)for(var c in h.extraData)h.extraData.hasOwnProperty(c)&&(e.isPlainObject(h.extraData[c])&&h.extraData[c].hasOwnProperty("name")&&h.extraData[c].hasOwnProperty("value")?a.push(e('<input type="hidden" name="'+h.extraData[c].name+'">').val(h.extraData[c].value).appendTo(x)[0]):a.push(e('<input type="hidden" name="'+c+'">').val(h.extraData[c]).appendTo(x)[0]));h.iframeTarget||(m.appendTo("body"),v.attachEvent?v.attachEvent("onload",r):v.addEventListener("load",r,!1)),setTimeout(t,15);try{x.submit()}catch(d){var p=document.createElement("form").submit;p.apply(x)}}finally{x.setAttribute("action",o),i?x.setAttribute("target",i):u.removeAttr("target"),e(a).remove()}}function r(t){if(!b.aborted&&!z){if(P=s(v),P||(n("cannot access response document"),t=T),t===N&&b)return b.abort("timeout"),k.reject(b,"timeout"),void 0;if(t==T&&b)return b.abort("server abort"),k.reject(b,"error","server abort"),void 0;if(P&&P.location.href!=h.iframeSrc||_){v.detachEvent?v.detachEvent("onload",r):v.removeEventListener("load",r,!1);var i,o="success";try{if(_)throw"timeout";var a="xml"==h.dataType||P.XMLDocument||e.isXMLDoc(P);if(n("isXml="+a),!a&&window.opera&&(null===P.body||!P.body.innerHTML)&&--I)return n("requeing onLoad callback, DOM not available"),setTimeout(r,250),void 0;var l=P.body?P.body:P.documentElement;b.responseText=l?l.innerHTML:null,b.responseXML=P.XMLDocument?P.XMLDocument:P,a&&(h.dataType="xml"),b.getResponseHeader=function(e){var t={"content-type":h.dataType};return t[e]},l&&(b.status=Number(l.getAttribute("status"))||b.status,b.statusText=l.getAttribute("statusText")||b.statusText);var c=(h.dataType||"").toLowerCase(),d=/(json|script|text)/.test(c);if(d||h.textarea){var u=P.getElementsByTagName("textarea")[0];if(u)b.responseText=u.value,b.status=Number(u.getAttribute("status"))||b.status,b.statusText=u.getAttribute("statusText")||b.statusText;else if(d){var f=P.getElementsByTagName("pre")[0],g=P.getElementsByTagName("body")[0];f?b.responseText=f.textContent?f.textContent:f.innerText:g&&(b.responseText=g.textContent?g.textContent:g.innerText)}}else"xml"==c&&!b.responseXML&&b.responseText&&(b.responseXML=E(b.responseText));try{D=O(b,c,h)}catch(y){o="parsererror",b.error=i=y||o}}catch(y){n("error caught: ",y),o="error",b.error=i=y||o}b.aborted&&(n("upload aborted"),o=null),b.status&&(o=b.status>=200&&300>b.status||304===b.status?"success":"error"),"success"===o?(h.success&&h.success.call(h.context,D,"success",b),k.resolve(b.responseText,"success",b),p&&e.event.trigger("ajaxSuccess",[b,h])):o&&(void 0===i&&(i=b.statusText),h.error&&h.error.call(h.context,b,o,i),k.reject(b,"error",i),p&&e.event.trigger("ajaxError",[b,h,i])),p&&e.event.trigger("ajaxComplete",[b,h]),p&&!--e.active&&e.event.trigger("ajaxStop"),h.complete&&h.complete.call(h.context,b,o),z=!0,h.timeout&&clearTimeout(C),setTimeout(function(){h.iframeTarget||m.remove(),b.responseXML=null},100)}}}var c,d,h,p,f,m,v,b,y,w,_,C,x=u[0],k=e.Deferred();if(i)for(d=0;g.length>d;d++)c=e(g[d]),o?c.prop("disabled",!1):c.removeAttr("disabled");if(h=e.extend(!0,{},e.ajaxSettings,t),h.context=h.context||h,f="jqFormIO"+(new Date).getTime(),h.iframeTarget?(m=e(h.iframeTarget),w=m.attr2("name"),w?f=w:m.attr2("name",f)):(m=e('<iframe name="'+f+'" src="'+h.iframeSrc+'" />'),m.css({position:"absolute",top:"-1000px",left:"-1000px"})),v=m[0],b={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var i="timeout"===t?"timeout":"aborted";n("aborting upload... "+i),this.aborted=1;try{v.contentWindow.document.execCommand&&v.contentWindow.document.execCommand("Stop")}catch(s){}m.attr("src",h.iframeSrc),b.error=i,h.error&&h.error.call(h.context,b,i,t),p&&e.event.trigger("ajaxError",[b,h,i]),h.complete&&h.complete.call(h.context,b,i)}},p=h.global,p&&0===e.active++&&e.event.trigger("ajaxStart"),p&&e.event.trigger("ajaxSend",[b,h]),h.beforeSend&&h.beforeSend.call(h.context,b,h)===!1)return h.global&&e.active--,k.reject(),k;if(b.aborted)return k.reject(),k;y=x.clk,y&&(w=y.name,w&&!y.disabled&&(h.extraData=h.extraData||{},h.extraData[w]=y.value,"image"==y.type&&(h.extraData[w+".x"]=x.clk_x,h.extraData[w+".y"]=x.clk_y)));var N=1,T=2,$=e("meta[name=csrf-token]").attr("content"),S=e("meta[name=csrf-param]").attr("content");S&&$&&(h.extraData=h.extraData||{},h.extraData[S]=$),h.forceSync?a():setTimeout(a,10);var D,P,z,I=50,E=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},R=e.parseJSON||function(e){return window.eval("("+e+")")},O=function(t,i,n){var s=t.getResponseHeader("content-type")||"",o="xml"===i||!i&&s.indexOf("xml")>=0,a=o?t.responseXML:t.responseText;return o&&"parsererror"===a.documentElement.nodeName&&e.error&&e.error("parsererror"),n&&n.dataFilter&&(a=n.dataFilter(a,i)),"string"==typeof a&&("json"===i||!i&&s.indexOf("json")>=0?a=R(a):("script"===i||!i&&s.indexOf("javascript")>=0)&&e.globalEval(a)),a};return k}if(!this.length)return n("ajaxSubmit: skipping submit process - no element selected"),this;var l,c,d,u=this;"function"==typeof t?t={success:t}:void 0===t&&(t={}),l=t.type||this.attr2("method"),c=t.url||this.attr2("action"),d="string"==typeof c?e.trim(c):"",d=d||window.location.href||"",d&&(d=(d.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:d,success:e.ajaxSettings.success,type:l||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var h={};if(this.trigger("form-pre-serialize",[this,t,h]),h.veto)return n("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&t.beforeSerialize(this,t)===!1)return n("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var p=t.traditional;void 0===p&&(p=e.ajaxSettings.traditional);var f,g=[],m=this.formToArray(t.semantic,g);if(t.data&&(t.extraData=t.data,f=e.param(t.data,p)),t.beforeSubmit&&t.beforeSubmit(m,this,t)===!1)return n("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[m,this,t,h]),h.veto)return n("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var v=e.param(m,p);f&&(v=v?v+"&"+f:f),"GET"==t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+v,t.data=null):t.data=v;var b=[];if(t.resetForm&&b.push(function(){u.resetForm()}),t.clearForm&&b.push(function(){u.clearForm(t.includeHidden)}),!t.dataType&&t.target){var y=t.success||function(){};b.push(function(i){var n=t.replaceTarget?"replaceWith":"html";e(t.target)[n](i).each(y,arguments)})}else t.success&&b.push(t.success);if(t.success=function(e,i,n){for(var s=t.context||this,o=0,a=b.length;a>o;o++)b[o].apply(s,[e,i,n||u,u])},t.error){var w=t.error;t.error=function(e,i,n){var s=t.context||this;w.apply(s,[e,i,n,u])}}if(t.complete){var _=t.complete;t.complete=function(e,i){var n=t.context||this;_.apply(n,[e,i,u])}}var C=e('input[type=file]:enabled[value!=""]',this),x=C.length>0,k="multipart/form-data",N=u.attr("enctype")==k||u.attr("encoding")==k,T=s.fileapi&&s.formdata;n("fileAPI :"+T);var $,S=(x||N)&&!T;t.iframe!==!1&&(t.iframe||S)?t.closeKeepAlive?e.get(t.closeKeepAlive,function(){$=r(m)}):$=r(m):$=(x||N)&&T?a(m):e.ajax(t),u.removeData("jqxhr").data("jqxhr",$);for(var D=0;g.length>D;D++)g[D]=null;return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(s){if(s=s||{},s.delegation=s.delegation&&e.isFunction(e.fn.on),!s.delegation&&0===this.length){var o={s:this.selector,c:this.context};return!e.isReady&&o.s?(n("DOM not ready, queuing ajaxForm"),e(function(){e(o.s,o.c).ajaxForm(s)}),this):(n("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return s.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,i).on("submit.form-plugin",this.selector,s,t).on("click.form-plugin",this.selector,s,i),this):this.ajaxFormUnbind().bind("submit.form-plugin",s,t).bind("click.form-plugin",s,i)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,i){var n=[];if(0===this.length)return n;var o=this[0],a=t?o.getElementsByTagName("*"):o.elements;if(!a)return n;var r,l,c,d,u,h,p;for(r=0,h=a.length;h>r;r++)if(u=a[r],c=u.name,c&&!u.disabled)if(t&&o.clk&&"image"==u.type)o.clk==u&&(n.push({name:c,value:e(u).val(),type:u.type}),n.push({name:c+".x",value:o.clk_x},{name:c+".y",value:o.clk_y}));else if(d=e.fieldValue(u,!0),d&&d.constructor==Array)for(i&&i.push(u),l=0,p=d.length;p>l;l++)n.push({name:c,value:d[l]});else if(s.fileapi&&"file"==u.type){i&&i.push(u);var f=u.files;if(f.length)for(l=0;f.length>l;l++)n.push({name:c,value:f[l],type:u.type});else n.push({name:c,value:"",type:u.type})}else null!==d&&d!==void 0&&(i&&i.push(u),n.push({name:c,value:d,type:u.type,required:u.required}));if(!t&&o.clk){var g=e(o.clk),m=g[0];c=m.name,c&&!m.disabled&&"image"==m.type&&(n.push({name:c,value:g.val()}),n.push({name:c+".x",value:o.clk_x},{name:c+".y",value:o.clk_y}))}return n},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var i=[];return this.each(function(){var n=this.name;if(n){var s=e.fieldValue(this,t);if(s&&s.constructor==Array)for(var o=0,a=s.length;a>o;o++)i.push({name:n,value:s[o]});else null!==s&&s!==void 0&&i.push({name:this.name,value:s})}}),e.param(i)},e.fn.fieldValue=function(t){for(var i=[],n=0,s=this.length;s>n;n++){var o=this[n],a=e.fieldValue(o,t);null===a||void 0===a||a.constructor==Array&&!a.length||(a.constructor==Array?e.merge(i,a):i.push(a))}return i},e.fieldValue=function(t,i){var n=t.name,s=t.type,o=t.tagName.toLowerCase();if(void 0===i&&(i=!0),i&&(!n||t.disabled||"reset"==s||"button"==s||("checkbox"==s||"radio"==s)&&!t.checked||("submit"==s||"image"==s)&&t.form&&t.form.clk!=t||"select"==o&&-1==t.selectedIndex))return null;if("select"==o){var a=t.selectedIndex;if(0>a)return null;for(var r=[],l=t.options,c="select-one"==s,d=c?a+1:l.length,u=c?a:0;d>u;u++){var h=l[u];if(h.selected){var p=h.value;if(p||(p=h.attributes&&h.attributes.value&&!h.attributes.value.specified?h.text:h.value),c)return p;r.push(p)}}return r}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var n=this.type,s=this.tagName.toLowerCase();i.test(n)||"textarea"==s?this.value="":"checkbox"==n||"radio"==n?this.checked=!1:"select"==s?this.selectedIndex=-1:"file"==n?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(t===!0&&/hidden/.test(n)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var i=this.type;if("checkbox"==i||"radio"==i)this.checked=t;else if("option"==this.tagName.toLowerCase()){var n=e(this).parent("select");t&&n[0]&&"select-one"==n[0].type&&n.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1}($||jQuery),function(e,t){function i(t,i){var s,o,a,r=t.nodeName.toLowerCase();return"area"===r?(s=t.parentNode,o=s.name,t.href&&o&&"map"===s.nodeName.toLowerCase()?(a=e("img[usemap=#"+o+"]")[0],!!a&&n(a)):!1):(/input|select|textarea|button|object/.test(r)?!t.disabled:"a"===r?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var s=0,o=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(i,n){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var n,s,o=e(this[0]);o.length&&o[0]!==document;){if(n=o.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(s=parseInt(o.css("zIndex"),10),!isNaN(s)&&0!==s))return s;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++s)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),s=isNaN(n);return(s||n>=0)&&i(t,!s)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,n){function s(t,i,n,s){return e.each(o,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var o="Width"===n?["Left","Right"]:["Top","Bottom"],a=n.toLowerCase(),r={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(i){return i===t?r["inner"+n].call(this):this.each(function(){e(this).css(a,s(this,i)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?r["outer"+n].call(this,t):this.each(function(){e(this).css(a,s(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,n){var s,o=e.ui[t].prototype;for(s in n)o.plugins[s]=o.plugins[s]||[],o.plugins[s].push([i,n[s]])},call:function(e,t,i){var n,s=e.plugins[t];if(s&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(n=0;s.length>n;n++)e.options[s[n][0]]&&s[n][1].apply(e.element,i)}},hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return t[n]>0?!0:(t[n]=1,s=t[n]>0,t[n]=0,s)}})}(jQuery),function(e,t){var i=0,n=Array.prototype.slice,s=e.cleanData;e.cleanData=function(t){for(var i,n=0;null!=(i=t[n]);n++)try{e(i).triggerHandler("remove")}catch(o){}s(t)},e.widget=function(i,n,s){var o,a,r,l,c={},d=i.split(".")[0];i=i.split(".")[1],o=d+"-"+i,s||(s=n,n=e.Widget),e.expr[":"][o.toLowerCase()]=function(t){return!!e.data(t,o)},e[d]=e[d]||{},a=e[d][i],r=e[d][i]=function(e,i){return this._createWidget?(arguments.length&&this._createWidget(e,i),t):new r(e,i)},e.extend(r,a,{version:s.version,_proto:e.extend({},s),_childConstructors:[]}),l=new n,l.options=e.widget.extend({},l.options),e.each(s,function(i,s){return e.isFunction(s)?(c[i]=function(){var e=function(){return n.prototype[i].apply(this,arguments)},t=function(e){return n.prototype[i].apply(this,e)};return function(){var i,n=this._super,o=this._superApply;return this._super=e,this._superApply=t,i=s.apply(this,arguments),this._super=n,this._superApply=o,i}}(),t):(c[i]=s,t)}),r.prototype=e.widget.extend(l,{widgetEventPrefix:a?l.widgetEventPrefix:i},c,{constructor:r,namespace:d,widgetName:i,widgetFullName:o}),a?(e.each(a._childConstructors,function(t,i){var n=i.prototype;
e.widget(n.namespace+"."+n.widgetName,r,i._proto)}),delete a._childConstructors):n._childConstructors.push(r),e.widget.bridge(i,r)},e.widget.extend=function(i){for(var s,o,a=n.call(arguments,1),r=0,l=a.length;l>r;r++)for(s in a[r])o=a[r][s],a[r].hasOwnProperty(s)&&o!==t&&(i[s]=e.isPlainObject(o)?e.isPlainObject(i[s])?e.widget.extend({},i[s],o):e.widget.extend({},o):o);return i},e.widget.bridge=function(i,s){var o=s.prototype.widgetFullName||i;e.fn[i]=function(a){var r="string"==typeof a,l=n.call(arguments,1),c=this;return a=!r&&l.length?e.widget.extend.apply(null,[a].concat(l)):a,r?this.each(function(){var n,s=e.data(this,o);return s?e.isFunction(s[a])&&"_"!==a.charAt(0)?(n=s[a].apply(s,l),n!==s&&n!==t?(c=n&&n.jquery?c.pushStack(n.get()):n,!1):t):e.error("no such method '"+a+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; "+"attempted to call method '"+a+"'")}):this.each(function(){var t=e.data(this,o);t?t.option(a||{})._init():e.data(this,o,new s(a,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,n){var s,o,a,r=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(r={},s=i.split("."),i=s.shift(),s.length){for(o=r[i]=e.widget.extend({},this.options[i]),a=0;s.length-1>a;a++)o[s[a]]=o[s[a]]||{},o=o[s[a]];if(i=s.pop(),n===t)return o[i]===t?null:o[i];o[i]=n}else{if(n===t)return this.options[i]===t?null:this.options[i];r[i]=n}return this._setOptions(r),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,n,s){var o,a=this;"boolean"!=typeof i&&(s=n,n=i,i=!1),s?(n=o=e(n),this.bindings=this.bindings.add(n)):(s=n,n=this.element,o=this.widget()),e.each(s,function(s,r){function l(){return i||a.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof r?a[r]:r).apply(a,arguments):t}"string"!=typeof r&&(l.guid=r.guid=r.guid||l.guid||e.guid++);var c=s.match(/^(\w+)\s*(.*)$/),d=c[1]+a.eventNamespace,u=c[2];u?o.delegate(u,d,l):n.bind(d,l)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var s,o,a=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(s in o)s in i||(i[s]=o[s]);return this.element.trigger(i,n),!(e.isFunction(a)&&a.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,s,o){"string"==typeof s&&(s={effect:s});var a,r=s?s===!0||"number"==typeof s?i:s.effect||i:t;s=s||{},"number"==typeof s&&(s={duration:s}),a=!e.isEmptyObject(s),s.complete=o,s.delay&&n.delay(s.delay),a&&e.effects&&e.effects.effect[r]?n[t](s):r!==t&&n[r]?n[r](s.duration,s.easing,o):n.queue(function(i){e(this)[t](),o&&o.call(n[0]),i()})}})}(jQuery),function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,s=1===i.which,o="string"==typeof this.options.cancel&&i.target.nodeName?e(i.target).closest(this.options.cancel).length:!1;return s&&!o&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var i=this.options;return this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(e(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",t,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,n=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),"original"!==this.options.helper||e.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1):!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,s=this.options;return s.containment?"window"===s.containment?(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):"document"===s.containment?(this.containment=[0,0,e(document).width()-this.helperProportions.width-this.margins.left,(e(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):s.containment.constructor===Array?(this.containment=s.containment,undefined):("parent"===s.containment&&(s.containment=this.helper[0].parentNode),i=e(s.containment),n=i[0],n&&(t="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i),undefined):(this.containment=null,undefined)},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:s.scrollTop(),left:s.scrollLeft()}),{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*n}},_generatePosition:function(t){var i,n,s,o,a=this.options,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=t.pageX,c=t.pageY;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(n=this.relative_container.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),a.grid&&(s=a.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,c=i?s-this.offset.click.top>=i[1]||s-this.offset.click.top>i[3]?s:s-this.offset.click.top>=i[1]?s-a.grid[1]:s+a.grid[1]:s,o=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var n=e(this).data("ui-draggable"),s=n.options,o=e.extend({},i,{item:n.element});n.sortables=[],e(s.connectToSortable).each(function(){var i=e.data(this,"ui-sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,o))})},stop:function(t,i){var n=e(this).data("ui-draggable"),s=e.extend({},i,{item:n.element});e.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,s))})},drag:function(t,i){var n=e(this).data("ui-draggable"),s=this;e.each(n.sortables,function(){var o=!1,a=this;this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,e.each(n.sortables,function(){return this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this!==a&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(a.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(s).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",t),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",t),n.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),i=e(this).data("ui-draggable").options;t.css("cursor")&&(i._cursor=t.css("cursor")),t.css("cursor",i.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i){var n=e(i.helper),s=e(this).data("ui-draggable").options;n.css("opacity")&&(s._opacity=n.css("opacity")),n.css("opacity",s.opacity)},stop:function(t,i){var n=e(this).data("ui-draggable").options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var i=e(this).data("ui-draggable"),n=i.options,s=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(document).scrollTop()<n.scrollSensitivity?s=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(s=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(document).scrollLeft()<n.scrollSensitivity?s=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(s=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed)))),s!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),i=t.options;t.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=e(this),n=i.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})})},drag:function(t,i){var n,s,o,a,r,l,c,d,u,h,p=e(this).data("ui-draggable"),f=p.options,g=f.snapTolerance,m=i.offset.left,v=m+p.helperProportions.width,b=i.offset.top,y=b+p.helperProportions.height;for(u=p.snapElements.length-1;u>=0;u--)r=p.snapElements[u].left,l=r+p.snapElements[u].width,c=p.snapElements[u].top,d=c+p.snapElements[u].height,r-g>v||m>l+g||c-g>y||b>d+g||!e.contains(p.snapElements[u].item.ownerDocument,p.snapElements[u].item)?(p.snapElements[u].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=!1):("inner"!==f.snapMode&&(n=g>=Math.abs(c-y),s=g>=Math.abs(d-b),o=g>=Math.abs(r-v),a=g>=Math.abs(l-m),n&&(i.position.top=p._convertPositionTo("relative",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),s&&(i.position.top=p._convertPositionTo("relative",{top:d,left:0}).top-p.margins.top),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:r-p.helperProportions.width}).left-p.margins.left),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l}).left-p.margins.left)),h=n||s||o||a,"outer"!==f.snapMode&&(n=g>=Math.abs(c-b),s=g>=Math.abs(d-y),o=g>=Math.abs(r-m),a=g>=Math.abs(l-v),n&&(i.position.top=p._convertPositionTo("relative",{top:c,left:0}).top-p.margins.top),s&&(i.position.top=p._convertPositionTo("relative",{top:d-p.helperProportions.height,left:0}).top-p.margins.top),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:r}).left-p.margins.left),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[u].snapping&&(n||s||o||a||h)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=n||s||o||a||h)}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,i=this.data("ui-draggable").options,n=e.makeArray(e(i.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});n.length&&(t=parseInt(e(n[0]).css("zIndex"),10)||0,e(n).each(function(i){e(this).css("zIndex",t+i)}),this.css("zIndex",t+n.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i){var n=e(i.helper),s=e(this).data("ui-draggable").options;n.css("zIndex")&&(s._zIndex=n.css("zIndex")),n.css("zIndex",s.zIndex)},stop:function(t,i){var n=e(this).data("ui-draggable").options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}})}(jQuery),function(e){function t(e){return parseInt(e,10)||0}function i(e){return!isNaN(parseInt(e,10))}e.widget("ui.resizable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var t,i,n,s,o,a=this,r=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;t.length>i;i++)n=e.trim(t[i]),o="ui-resizable-"+n,s=e("<div class='ui-resizable-handle "+o+"'></div>"),s.css({zIndex:r.zIndex}),"se"===n&&s.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(s);this._renderAxis=function(t){var i,n,s,o;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=e(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(n=e(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),s=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(s,o),this._proportionallyResize()),e(this.handles[i]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){a.resizing||(this.className&&(s=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=s&&s[1]?s[1]:"se")}),r.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(e(this).removeClass("ui-resizable-autohide"),a._handles.show())}).mouseleave(function(){r.disabled||a.resizing||(e(this).addClass("ui-resizable-autohide"),a._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,n,s=!1;for(i in this.handles)n=e(this.handles[i])[0],(n===t.target||e.contains(n,t.target))&&(s=!0);return!this.options.disabled&&s},_mouseStart:function(i){var n,s,o,a=this.options,r=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:r.top,left:r.left}),this._renderProxy(),n=t(this.helper.css("left")),s=t(this.helper.css("top")),a.containment&&(n+=e(a.containment).scrollLeft()||0,s+=e(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:s},this.size=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:n,top:s},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===o?this.axis+"-resize":o),l.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(t){var i,n=this.helper,s={},o=this.originalMousePosition,a=this.axis,r=this.position.top,l=this.position.left,c=this.size.width,d=this.size.height,u=t.pageX-o.left||0,h=t.pageY-o.top||0,p=this._change[a];
return p?(i=p.apply(this,[t,u,h]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),this.position.top!==r&&(s.top=this.position.top+"px"),this.position.left!==l&&(s.left=this.position.left+"px"),this.size.width!==c&&(s.width=this.size.width+"px"),this.size.height!==d&&(s.height=this.size.height+"px"),n.css(s),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(s)||this._trigger("resize",t,this.ui()),!1):!1},_mouseStop:function(t){this.resizing=!1;var i,n,s,o,a,r,l,c=this.options,d=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),s=n&&e.ui.hasScroll(i[0],"left")?0:d.sizeDiff.height,o=n?0:d.sizeDiff.width,a={width:d.helper.width()-o,height:d.helper.height()-s},r=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,l=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null,c.animate||this.element.css(e.extend(a,{top:l,left:r})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,n,s,o,a,r=this.options;a={minWidth:i(r.minWidth)?r.minWidth:0,maxWidth:i(r.maxWidth)?r.maxWidth:1/0,minHeight:i(r.minHeight)?r.minHeight:0,maxHeight:i(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,s=a.minWidth/this.aspectRatio,n=a.maxHeight*this.aspectRatio,o=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),s>a.minHeight&&(a.minHeight=s),a.maxWidth>n&&(a.maxWidth=n),a.maxHeight>o&&(a.maxHeight=o)),this._vBoundaries=a},_updateCache:function(e){this.offset=this.helper.offset(),i(e.left)&&(this.position.left=e.left),i(e.top)&&(this.position.top=e.top),i(e.height)&&(this.size.height=e.height),i(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,s=this.axis;return i(e.height)?e.width=e.height*this.aspectRatio:i(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===s&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===s&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,s=i(e.width)&&t.maxWidth&&t.maxWidth<e.width,o=i(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=i(e.width)&&t.minWidth&&t.minWidth>e.width,r=i(e.height)&&t.minHeight&&t.minHeight>e.height,l=this.originalPosition.left+this.originalSize.width,c=this.position.top+this.size.height,d=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return a&&(e.width=t.minWidth),r&&(e.height=t.minHeight),s&&(e.width=t.maxWidth),o&&(e.height=t.maxHeight),a&&d&&(e.left=l-t.minWidth),s&&d&&(e.left=l-t.maxWidth),r&&u&&(e.top=c-t.minHeight),o&&u&&(e.top=c-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,i,n,s,o=this.helper||this.element;for(e=0;this._proportionallyResizeElements.length>e;e++){if(s=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],i=[s.css("borderTopWidth"),s.css("borderRightWidth"),s.css("borderBottomWidth"),s.css("borderLeftWidth")],n=[s.css("paddingTop"),s.css("paddingRight"),s.css("paddingBottom"),s.css("paddingLeft")],t=0;i.length>t;t++)this.borderDif[t]=(parseInt(i[t],10)||0)+(parseInt(n[t],10)||0);s.css({height:o.height()-this.borderDif[0]-this.borderDif[2]||0,width:o.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,n=this.originalPosition;return{left:n.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize,s=this.originalPosition;return{top:s.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},sw:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,n]))},ne:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},nw:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,n]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).data("ui-resizable"),n=i.options,s=i._proportionallyResizeElements,o=s.length&&/textarea/i.test(s[0].nodeName),a=o&&e.ui.hasScroll(s[0],"left")?0:i.sizeDiff.height,r=o?0:i.sizeDiff.width,l={width:i.size.width-r,height:i.size.height-a},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,d=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,d&&c?{top:d,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};s&&s.length&&e(s[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var i,n,s,o,a,r,l,c=e(this).data("ui-resizable"),d=c.options,u=c.element,h=d.containment,p=h instanceof e?h.get(0):/parent/.test(h)?u.parent().get(0):h;p&&(c.containerElement=e(p),/document/.test(h)||h===document?(c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(i=e(p),n=[],e(["Top","Right","Left","Bottom"]).each(function(e,s){n[e]=t(i.css("padding"+s))}),c.containerOffset=i.offset(),c.containerPosition=i.position(),c.containerSize={height:i.innerHeight()-n[3],width:i.innerWidth()-n[1]},s=c.containerOffset,o=c.containerSize.height,a=c.containerSize.width,r=e.ui.hasScroll(p,"left")?p.scrollWidth:a,l=e.ui.hasScroll(p)?p.scrollHeight:o,c.parentData={element:p,left:s.left,top:s.top,width:r,height:l}))},resize:function(t){var i,n,s,o,a=e(this).data("ui-resizable"),r=a.options,l=a.containerOffset,c=a.position,d=a._aspectRatio||t.shiftKey,u={top:0,left:0},h=a.containerElement;h[0]!==document&&/static/.test(h.css("position"))&&(u=l),c.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-u.left),d&&(a.size.height=a.size.width/a.aspectRatio),a.position.left=r.helper?l.left:0),c.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),d&&(a.size.width=a.size.height*a.aspectRatio),a.position.top=a._helper?l.top:0),a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top,i=Math.abs((a._helper?a.offset.left-u.left:a.offset.left-u.left)+a.sizeDiff.width),n=Math.abs((a._helper?a.offset.top-u.top:a.offset.top-l.top)+a.sizeDiff.height),s=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),s&&o&&(i-=a.parentData.left),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,d&&(a.size.height=a.size.width/a.aspectRatio)),n+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-n,d&&(a.size.width=a.size.height*a.aspectRatio))},stop:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.containerOffset,s=t.containerPosition,o=t.containerElement,a=e(t.helper),r=a.offset(),l=a.outerWidth()-t.sizeDiff.width,c=a.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(o.css("position"))&&e(this).css({left:r.left-s.left-n.left,width:l,height:c}),t._helper&&!i.animate&&/static/.test(o.css("position"))&&e(this).css({left:r.left-s.left-n.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("ui-resizable"),i=t.options,n=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?n(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],n(i.alsoResize)):e.each(i.alsoResize,function(e){n(e)})},resize:function(t,i){var n=e(this).data("ui-resizable"),s=n.options,o=n.originalSize,a=n.originalPosition,r={height:n.size.height-o.height||0,width:n.size.width-o.width||0,top:n.position.top-a.top||0,left:n.position.left-a.left||0},l=function(t,n){e(t).each(function(){var t=e(this),s=e(this).data("ui-resizable-alsoresize"),o={},a=n&&n.length?n:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(a,function(e,t){var i=(s[t]||0)+(r[t]||0);i&&i>=0&&(o[t]=i||null)}),t.css(o)})};"object"!=typeof s.alsoResize||s.alsoResize.nodeType?l(s.alsoResize):e.each(s.alsoResize,function(e,t){l(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("ui-resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.size,s=t.originalSize,o=t.originalPosition,a=t.axis,r="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=r[0]||1,c=r[1]||1,d=Math.round((n.width-s.width)/l)*l,u=Math.round((n.height-s.height)/c)*c,h=s.width+d,p=s.height+u,f=i.maxWidth&&h>i.maxWidth,g=i.maxHeight&&p>i.maxHeight,m=i.minWidth&&i.minWidth>h,v=i.minHeight&&i.minHeight>p;i.grid=r,m&&(h+=l),v&&(p+=c),f&&(h-=l),g&&(p-=c),/^(se|s|e)$/.test(a)?(t.size.width=h,t.size.height=p):/^(ne)$/.test(a)?(t.size.width=h,t.size.height=p,t.position.top=o.top-u):/^(sw)$/.test(a)?(t.size.width=h,t.size.height=p,t.position.left=o.left-d):(t.size.width=h,t.size.height=p,t.position.top=o.top-u,t.position.left=o.left-d)}})}(jQuery),function(e){e.widget("ui.sortable",e.ui.mouse,{version:"@VERSION",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&t+i>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||this._isFloating(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var n=null,s=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,o.widgetName+"-item")===o?(n=e(this),!1):undefined}),e.data(t.target,o.widgetName+"-item")===o&&(n=e(t.target)),n?!this.options.handle||i||(e(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(s=!0)}),s)?(this.currentItem=n,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,i,n){var s,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=e("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,n,s,o,a=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:t.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:t.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(t.pageY-e(document).scrollTop()<a.scrollSensitivity?r=e(document).scrollTop(e(document).scrollTop()-a.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<a.scrollSensitivity&&(r=e(document).scrollTop(e(document).scrollTop()+a.scrollSpeed)),t.pageX-e(document).scrollLeft()<a.scrollSensitivity?r=e(document).scrollLeft(e(document).scrollLeft()-a.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<a.scrollSensitivity&&(r=e(document).scrollLeft(e(document).scrollLeft()+a.scrollSpeed))),r!==!1&&e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],s=n.item[0],o=this._intersectsWithPointer(n),o&&n.instance===this.currentContainer&&s!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==s&&!e.contains(this.placeholder[0],s)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],s):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,s=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=s.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=s.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each(function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,s=n+this.helperProportions.height,o=e.left,a=o+e.width,r=e.top,l=r+e.height,c=this.offset.click.top,d=this.offset.click.left,u="x"===this.options.axis||n+c>r&&l>n+c,h="y"===this.options.axis||t+d>o&&a>t+d,p=u&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:t+this.helperProportions.width/2>o&&a>i-this.helperProportions.width/2&&n+this.helperProportions.height/2>r&&l>s-this.helperProportions.height/2},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),n=t&&i,s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return n?this.floating?o&&"right"===o||"down"===s?2:1:s&&("down"===s?2:1):!1},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?"right"===s&&i||"left"===s&&!i:n&&("down"===n&&t||"up"===n&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){r.push(this)}var n,s,o,a,r=[],l=[],c=this._connectWith();if(c&&t)for(n=c.length-1;n>=0;n--)for(o=e(c[n]),s=o.length-1;s>=0;s--)a=e.data(o[s],this.widgetFullName),a&&a!==this&&!a.options.disabled&&l.push([e.isFunction(a.options.items)?a.options.items.call(a.element):e(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(i);return e(r)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;t.length>i;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,n,s,o,a,r,l,c,d=this.items,u=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(i=h.length-1;i>=0;i--)for(s=e(h[i]),n=s.length-1;n>=0;n--)o=e.data(s[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(u.push([e.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(a=u[i][1],r=u[i][0],n=0,c=r.length;c>n;n++)l=e(r[n]),l.data(this.widgetName+"-item",a),d.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,s,o;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(s=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item,t||(n.width=s.outerWidth(),n.height=s.outerHeight()),o=s.offset(),n.left=o.left,n.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,n=t.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),s=e("<"+n+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===n?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(s)}):"img"===n&&s.attr("src",t.currentItem.attr("src")),i||s.css("visibility","hidden"),s},update:function(e,s){(!i||n.forcePlaceholderSize)&&(s.height()||s.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),s.width()||s.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_contactContainers:function(t){var i,n,s,o,a,r,l,c,d,u,h=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(h&&e.contains(this.containers[i].element[0],h.element[0]))continue;h=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(s=1e4,o=null,d=h.floating||this._isFloating(this.currentItem),a=d?"left":"top",r=d?"width":"height",u=d?"clientX":"clientY",n=this.items.length-1;n>=0;n--)e.contains(this.containers[p].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[a],c=!1,t[u]-l>this.items[n][r]/2&&(c=!0),s>Math.abs(t[u]-l)&&(s=Math.abs(t[u]-l),o=this.items[n],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return;o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,s=this.options;"parent"===s.containment&&(s.containment=this.helper[0].parentNode),("document"===s.containment||"window"===s.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===s.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===s.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(s.containment)||(t=e(s.containment)[0],i=e(s.containment).offset(),n="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:s.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:s.scrollLeft())*n}},_generatePosition:function(t){var i,n,s=this.options,o=t.pageX,a=t.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),s.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/s.grid[1])*s.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-s.grid[1]:i+s.grid[1]:i,n=this.originalPageX+Math.round((o-this.originalPageX)/s.grid[0])*s.grid[0],o=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-s.grid[0]:n+s.grid[0]:n)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:r.scrollLeft())}
},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var s=this.counter;this._delay(function(){s===this.counter&&this.refreshPositions(!n)})},_clear:function(e,t){function i(e,t,i){return function(n){i._trigger(e,n,t._uiHash(t))}}this.reverting=!1;var n,s=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&s.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||s.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(s.push(function(e){this._trigger("remove",e,this._uiHash())}),s.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),s.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||s.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(s.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),n=0;s.length>n;n++)s[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(n=0;s.length>n;n++)s[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})}(jQuery),function(e){var t,i,n,s,o="ui-button ui-widget ui-state-default ui-corner-all",a="ui-state-hover ui-state-active ",r="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},c=function(t){var i=t.name,n=t.form,s=e([]);return i&&(i=i.replace(/'/g,"\\'"),s=n?e(n).find("[name='"+i+"']"):e("[name='"+i+"']",t.ownerDocument).filter(function(){return!this.form})),s};e.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var a=this,r=this.options,d="checkbox"===this.type||"radio"===this.type,u=d?"":"ui-state-active",h="ui-state-focus";null===r.label&&(r.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(o).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){r.disabled||this===t&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){r.disabled||e(this).removeClass(u)}).bind("click"+this.eventNamespace,function(e){r.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){a.buttonElement.addClass(h)}).bind("blur"+this.eventNamespace,function(){a.buttonElement.removeClass(h)}),d&&(this.element.bind("change"+this.eventNamespace,function(){s||a.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(e){r.disabled||(s=!1,i=e.pageX,n=e.pageY)}).bind("mouseup"+this.eventNamespace,function(e){r.disabled||(i!==e.pageX||n!==e.pageY)&&(s=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return r.disabled||s?!1:undefined}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(r.disabled||s)return!1;e(this).addClass("ui-state-active"),a.buttonElement.attr("aria-pressed","true");var t=a.element[0];c(t).not(t).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return r.disabled?!1:(e(this).addClass("ui-state-active"),t=this,a.document.one("mouseup",function(){t=null}),undefined)}).bind("mouseup"+this.eventNamespace,function(){return r.disabled?!1:(e(this).removeClass("ui-state-active"),undefined)}).bind("keydown"+this.eventNamespace,function(t){return r.disabled?!1:((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"),undefined)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",r.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(o+" "+a+" "+r).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(t?this.element.prop("disabled",!0):this.element.prop("disabled",!1),undefined):(this._resetButton(),undefined)},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?c(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),undefined;var t=this.buttonElement.removeClass(r),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),n=this.options.icons,s=n.primary&&n.secondary,o=[];n.primary||n.secondary?(this.options.text&&o.push("ui-button-text-icon"+(s?"s":n.primary?"-primary":"-secondary")),n.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(o.push(s?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):o.push("ui-button-text-only"),t.addClass(o.join(" "))}}),e.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(e){function t(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.widget("ui.spinner",{version:"1.10.3",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],function(e,n){var s=i.attr(n);void 0!==s&&s.length&&(t[n]=s)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e),void 0)},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)===!1?!1:(this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=this.options,n=e.ui.keyCode;switch(t.keyCode){case n.UP:return this._repeat(null,1,t),!0;case n.DOWN:return this._repeat(null,-1,t),!0;case n.PAGE_UP:return this._repeat(null,i.page,t),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>"},_start:function(e){return this.spinning||this._trigger("start",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,n=this.options;return t=null!==n.min?n.min:0,i=e-t,i=Math.round(i/n.step)*n.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==n.max&&e>n.max?n.max:null!==n.min&&n.min>e?n.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,this.element.val(this._format(i)),void 0}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(t?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:t(function(e){this._super(e),this._value(this.element.val())}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(e,t){var i;""!==e&&(i=this._parse(e),null!==i&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:t(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:t(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:t(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?(t(this._value).call(this,e),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(jQuery),function($){var min=Math.min,max=Math.max,round=Math.floor,isStr=function(e){return"string"===$.type(e)},runPluginCallbacks=function(Instance,a_fn){function g(e){return e}if($.isArray(a_fn))for(var i=0,c=a_fn.length;c>i;i++){var fn=a_fn[i];try{isStr(fn)&&(fn=eval(fn)),$.isFunction(fn)&&g(fn)(Instance)}catch(ex){}}};$.layout={version:"1.3.rc30.79",revision:.033007,browser:{},effects:{slide:{all:{duration:"fast"},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},drop:{all:{duration:"slow"},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},scale:{all:{duration:"fast"}},blind:{},clip:{},explode:{},fade:{},fold:{},puff:{},size:{all:{easing:"swing"}}},config:{optionRootKeys:"effects,panes,north,south,west,east,center".split(","),allPanes:"north,south,west,east,center".split(","),borderPanes:"north,south,west,east".split(","),oppositeEdge:{north:"south",south:"north",east:"west",west:"east"},offscreenCSS:{left:"-99999px",right:"auto"},offscreenReset:"offscreenReset",hidden:{visibility:"hidden"},visible:{visibility:"visible"},resizers:{cssReq:{position:"absolute",padding:0,margin:0,fontSize:"1px",textAlign:"left",overflow:"hidden"},cssDemo:{background:"#DDD",border:"none"}},togglers:{cssReq:{position:"absolute",display:"block",padding:0,margin:0,overflow:"hidden",textAlign:"center",fontSize:"1px",cursor:"pointer",zIndex:1},cssDemo:{background:"#AAA"}},content:{cssReq:{position:"relative"},cssDemo:{overflow:"auto",padding:"10px"},cssDemoPane:{overflow:"hidden",padding:0}},panes:{cssReq:{position:"absolute",margin:0},cssDemo:{padding:"10px",background:"#FFF",border:"1px solid #BBB",overflow:"auto"}},north:{side:"top",sizeType:"Height",dir:"horz",cssReq:{top:0,bottom:"auto",left:0,right:0,width:"auto"}},south:{side:"bottom",sizeType:"Height",dir:"horz",cssReq:{top:"auto",bottom:0,left:0,right:0,width:"auto"}},east:{side:"right",sizeType:"Width",dir:"vert",cssReq:{left:"auto",right:0,top:"auto",bottom:"auto",height:"auto"}},west:{side:"left",sizeType:"Width",dir:"vert",cssReq:{left:0,right:"auto",top:"auto",bottom:"auto",height:"auto"}},center:{dir:"center",cssReq:{left:"auto",right:"auto",top:"auto",bottom:"auto",height:"auto",width:"auto"}}},callbacks:{},getParentPaneElem:function(e){var t=$(e),i=t.data("layout")||t.data("parentLayout");if(i){var n=i.container;if(n.data("layoutPane"))return n;var s=n.closest("."+$.layout.defaults.panes.paneClass);if(s.data("layoutPane"))return s}return null},getParentPaneInstance:function(e){var t=$.layout.getParentPaneElem(e);return t?t.data("layoutPane"):null},getParentLayoutInstance:function(e){var t=$.layout.getParentPaneElem(e);return t?t.data("parentLayout"):null},getEventObject:function(e){return"object"==typeof e&&e.stopPropagation?e:null},parsePaneName:function(e){var t=$.layout.getEventObject(e),i=e;return t&&(t.stopPropagation(),i=$(this).data("layoutEdge")),i&&!/^(west|east|north|south|center)$/.test(i)&&($.layout.msg('LAYOUT ERROR - Invalid pane-name: "'+i+'"'),i="error"),i},plugins:{draggable:!!$.fn.draggable,effects:{core:!!$.effects,slide:$.effects&&($.effects.slide||$.effects.effect&&$.effects.effect.slide)}},onCreate:[],onLoad:[],onReady:[],onDestroy:[],onUnload:[],afterOpen:[],afterClose:[],scrollbarWidth:function(){return window.scrollbarWidth||$.layout.getScrollbarSize("width")},scrollbarHeight:function(){return window.scrollbarHeight||$.layout.getScrollbarSize("height")},getScrollbarSize:function(e){var t=$('<div style="position: absolute; top: -10000px; left: -10000px; width: 100px; height: 100px; overflow: scroll;"></div>').appendTo("body"),i={width:t.css("width")-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),window.scrollbarWidth=i.width,window.scrollbarHeight=i.height,e.match(/^(width|height)$/)?i[e]:i},showInvisibly:function(e,t){if(e&&e.length&&(t||"none"===e.css("display"))){var i=e[0].style,n={display:i.display||"",visibility:i.visibility||""};return e.css({display:"block",visibility:"hidden"}),n}return{}},getElementDimensions:function(e,t){var i,n,s,o={css:{},inset:{}},a=o.css,r={bottom:0},l=$.layout.cssNum,c=e.offset();return o.offsetLeft=c.left,o.offsetTop=c.top,t||(t={}),$.each("Left,Right,Top,Bottom".split(","),function(l,c){i=a["border"+c]=$.layout.borderWidth(e,c),n=a["padding"+c]=$.layout.cssNum(e,"padding"+c),s=c.toLowerCase(),o.inset[s]=t[s]>=0?t[s]:n,r[s]=o.inset[s]+i}),a.width=e.width(),a.height=e.height(),a.top=l(e,"top",!0),a.bottom=l(e,"bottom",!0),a.left=l(e,"left",!0),a.right=l(e,"right",!0),o.outerWidth=e.outerWidth(),o.outerHeight=e.outerHeight(),o.innerWidth=max(0,o.outerWidth-r.left-r.right),o.innerHeight=max(0,o.outerHeight-r.top-r.bottom),o.layoutWidth=e.innerWidth(),o.layoutHeight=e.innerHeight(),o},getElementStyles:function(e,t){var i,n,s,o,a,r,l={},c=e[0].style,d=t.split(","),u="Top,Bottom,Left,Right".split(","),h="Color,Style,Width".split(",");for(o=0;d.length>o;o++)if(i=d[o],i.match(/(border|padding|margin)$/))for(a=0;4>a;a++)if(n=u[a],"border"===i)for(r=0;3>r;r++)s=h[r],l[i+n+s]=c[i+n+s];else l[i+n]=c[i+n];else l[i]=c[i];return l},cssWidth:function(e,t){if(0>=t)return 0;var i=$.layout.browser.boxModel?$.support.boxSizing?e.css("boxSizing"):"content-box":"border-box",n=$.layout.borderWidth,s=$.layout.cssNum,o=t;return"border-box"!==i&&(o-=n(e,"Left")+n(e,"Right")),"content-box"===i&&(o-=s(e,"paddingLeft")+s(e,"paddingRight")),max(0,o)},cssHeight:function(e,t){if(0>=t)return 0;var i=$.layout.browser.boxModel?$.support.boxSizing?e.css("boxSizing"):"content-box":"border-box",n=$.layout.borderWidth,s=$.layout.cssNum,o=t;return"border-box"!==i&&(o-=n(e,"Top")+n(e,"Bottom")),"content-box"===i&&(o-=s(e,"paddingTop")+s(e,"paddingBottom")),max(0,o)},cssNum:function(e,t,i){e.jquery||(e=$(e));var n=$.layout.showInvisibly(e),s=$.css(e[0],t,!0),o=i&&"auto"==s?s:Math.round(parseFloat(s)||0);return e.css(n),o},borderWidth:function(e,t){e.jquery&&(e=e[0]);var i="border"+t.substr(0,1).toUpperCase()+t.substr(1);return"none"===$.css(e,i+"Style",!0)?0:Math.round(parseFloat($.css(e,i+"Width",!0))||0)},isMouseOverElem:function(e,t){var i=$(t||this),n=i.offset(),s=n.top,o=n.left,a=o+i.outerWidth(),r=s+i.outerHeight(),l=e.pageX,c=e.pageY;return $.layout.browser.msie&&0>l&&0>c||l>=o&&a>=l&&c>=s&&r>=c},msg:function(e,t,i,n){function s(){var e=$.support.fixedPosition?"fixed":"absolute",t=$('<div id="layoutLogger" style="position: '+e+'; top: 5px; z-index: 999999; max-width: 25%; overflow: hidden; border: 1px solid #000; border-radius: 5px; background: #FBFBFB; box-shadow: 0 2px 10px rgba(0,0,0,0.3);">'+'<div style="font-size: 13px; font-weight: bold; padding: 5px 10px; background: #F6F6F6; border-radius: 5px 5px 0 0; cursor: move;">'+'<span style="float: right; padding-left: 7px; cursor: pointer;" title="Remove Console" onclick="$(this).closest(\'#layoutLogger\').remove()">X</span>Layout console.log</div>'+'<ul style="font-size: 13px; font-weight: none; list-style: none; margin: 0; padding: 0 0 2px;"></ul>'+"</div>").appendTo("body");return t.css("left",$(window).width()-t.outerWidth()-5),$.ui.draggable&&t.draggable({handle:":first-child"}),t}if($.isPlainObject(e)&&window.debugData){"string"==typeof t?(n=i,i=t):"object"==typeof i&&(n=i,i=null);var o=i||"log( <object> )",a=$.extend({sort:!1,returnHTML:!1,display:!1},n);t===!0||a.display?debugData(e,o,a):window.console&&console.log(debugData(e,o,a))}else if(t)alert(e);else if(window.console)console.log(e);else{var r="#layoutLogger",l=$(r);l.length||(l=s()),l.children("ul").append('<li style="padding: 4px 10px; margin: 0; border-top: 1px solid #CCC;">'+e.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")+"</li>")}}};var u=navigator.userAgent.toLowerCase(),m=/(chrome)[ \/]([\w.]+)/.exec(u)||/(webkit)[ \/]([\w.]+)/.exec(u)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(u)||/(msie) ([\w.]+)/.exec(u)||0>u.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(u)||[],b=m[1]||"",v=m[2]||0,ie="msie"===b;$.layout.browser={version:v,safari:"webkit"===b,webkit:"chrome"===b,msie:ie,isIE6:ie&&6==v,boxModel:!ie||$.support.boxModel!==!1},b&&($.layout.browser[b]=!0),ie&&$(function(){$.layout.browser.boxModel=$.support.boxModel}),$.layout.defaults={name:"",containerClass:"ui-layout-container",inset:null,scrollToBookmarkOnLoad:!0,resizeWithWindow:!0,resizeWithWindowDelay:200,resizeWithWindowMaxDelay:0,maskPanesEarly:!1,onresizeall_start:null,onresizeall_end:null,onload_start:null,onload_end:null,onunload_start:null,onunload_end:null,initPanes:!0,showErrorMessages:!0,showDebugMessages:!1,zIndex:null,zIndexes:{pane_normal:0,content_mask:1,resizer_normal:2,pane_sliding:100,pane_animate:1e3,resizer_drag:1e4},errors:{pane:"pane",selector:"selector",addButtonError:"Error Adding Button\nInvalid ",containerMissing:"UI Layout Initialization Error\nThe specified layout-container does not exist.",centerPaneMissing:"UI Layout Initialization Error\nThe center-pane element does not exist.\nThe center-pane is a required element.",noContainerHeight:"UI Layout Initialization Warning\nThe layout-container \"CONTAINER\" has no height.\nTherefore the layout is 0-height and hence 'invisible'!",callbackError:"UI Layout Callback Error\nThe EVENT callback is not a valid function."},panes:{applyDemoStyles:!1,closable:!0,resizable:!0,slidable:!0,initClosed:!1,initHidden:!1,contentSelector:".ui-layout-content",contentIgnoreSelector:".ui-layout-ignore",findNestedContent:!1,paneClass:"ui-layout-pane",resizerClass:"ui-layout-resizer",togglerClass:"ui-layout-toggler",buttonClass:"ui-layout-button",minSize:0,maxSize:0,spacing_open:6,spacing_closed:6,togglerLength_open:50,togglerLength_closed:50,togglerAlign_open:"center",togglerAlign_closed:"center",togglerContent_open:"",togglerContent_closed:"",resizerDblClickToggle:!0,autoResize:!0,autoReopen:!0,resizerDragOpacity:1,maskContents:!1,maskObjects:!1,maskZindex:null,resizingGrid:!1,livePaneResizing:!1,liveContentResizing:!1,liveResizingTolerance:1,sliderCursor:"pointer",slideTrigger_open:"click",slideTrigger_close:"mouseleave",slideDelay_open:300,slideDelay_close:300,hideTogglerOnSlide:!1,preventQuickSlideClose:$.layout.browser.webkit,preventPrematureSlideClose:!1,tips:{Open:"Open",Close:"Close",Resize:"Resize",Slide:"Slide Open",Pin:"Pin",Unpin:"Un-Pin",noRoomToOpen:"Not enough room to show this panel.",minSizeWarning:"Panel has reached its minimum size",maxSizeWarning:"Panel has reached its maximum size"},showOverflowOnHover:!1,enableCursorHotkey:!0,customHotkeyModifier:"SHIFT",fxName:"slide",fxSpeed:null,fxSettings:{},fxOpacityFix:!0,animatePaneSizing:!1,children:null,containerSelector:"",initChildren:!0,destroyChildren:!0,resizeChildren:!0,triggerEventsOnLoad:!1,triggerEventsDuringLiveResize:!0,onshow_start:null,onshow_end:null,onhide_start:null,onhide_end:null,onopen_start:null,onopen_end:null,onclose_start:null,onclose_end:null,onresize_start:null,onresize_end:null,onsizecontent_start:null,onsizecontent_end:null,onswap_start:null,onswap_end:null,ondrag_start:null,ondrag_end:null},north:{paneSelector:".ui-layout-north",size:"auto",resizerCursor:"n-resize",customHotkey:""},south:{paneSelector:".ui-layout-south",size:"auto",resizerCursor:"s-resize",customHotkey:""},east:{paneSelector:".ui-layout-east",size:200,resizerCursor:"e-resize",customHotkey:""},west:{paneSelector:".ui-layout-west",size:200,resizerCursor:"w-resize",customHotkey:""},center:{paneSelector:".ui-layout-center",minWidth:0,minHeight:0}},$.layout.optionsMap={layout:"name,instanceKey,stateManagement,effects,inset,zIndexes,errors,zIndex,scrollToBookmarkOnLoad,showErrorMessages,maskPanesEarly,outset,resizeWithWindow,resizeWithWindowDelay,resizeWithWindowMaxDelay,onresizeall,onresizeall_start,onresizeall_end,onload,onload_start,onload_end,onunload,onunload_start,onunload_end".split(","),center:"paneClass,contentSelector,contentIgnoreSelector,findNestedContent,applyDemoStyles,triggerEventsOnLoad,showOverflowOnHover,maskContents,maskObjects,liveContentResizing,containerSelector,children,initChildren,resizeChildren,destroyChildren,onresize,onresize_start,onresize_end,onsizecontent,onsizecontent_start,onsizecontent_end".split(","),noDefault:"paneSelector,resizerCursor,customHotkey".split(",")},$.layout.transformData=function(e,t){var i,n,s,o,a,r,l,c=t?{panes:{},center:{}}:{};if("object"!=typeof e)return c;for(n in e)for(i=c,a=e[n],s=n.split("__"),l=s.length-1,r=0;l>=r;r++)o=s[r],r===l?i[o]=$.isPlainObject(a)?$.layout.transformData(a):a:(i[o]||(i[o]={}),i=i[o]);return c},$.layout.backwardCompatibility={map:{applyDefaultStyles:"applyDemoStyles",childOptions:"children",initChildLayout:"initChildren",destroyChildLayout:"destroyChildren",resizeChildLayout:"resizeChildren",resizeNestedLayout:"resizeChildren",resizeWhileDragging:"livePaneResizing",resizeContentWhileDragging:"liveContentResizing",triggerEventsWhileDragging:"triggerEventsDuringLiveResize",maskIframesOnResize:"maskContents",useStateCookie:"stateManagement.enabled","cookie.autoLoad":"stateManagement.autoLoad","cookie.autoSave":"stateManagement.autoSave","cookie.keys":"stateManagement.stateKeys","cookie.name":"stateManagement.cookie.name","cookie.domain":"stateManagement.cookie.domain","cookie.path":"stateManagement.cookie.path","cookie.expires":"stateManagement.cookie.expires","cookie.secure":"stateManagement.cookie.secure",noRoomToOpenTip:"tips.noRoomToOpen",togglerTip_open:"tips.Close",togglerTip_closed:"tips.Open",resizerTip:"tips.Resize",sliderTip:"tips.Slide"},renameOptions:function(e){function t(t,i){for(var n,s=t.split("."),o=s.length-1,a={branch:e,key:s[o]},r=0;o>r;r++)n=s[r],a.branch=void 0==a.branch[n]?i?a.branch[n]={}:{}:a.branch[n];return a}var i,n,s,o=$.layout.backwardCompatibility.map;for(var a in o)i=t(a),s=i.branch[i.key],void 0!==s&&(n=t(o[a],!0),n.branch[n.key]=s,delete i.branch[i.key])},renameAllOptions:function(e){var t=$.layout.backwardCompatibility.renameOptions;return t(e),e.defaults&&("object"!=typeof e.panes&&(e.panes={}),$.extend(!0,e.panes,e.defaults),delete e.defaults),e.panes&&t(e.panes),$.each($.layout.config.allPanes,function(i,n){e[n]&&t(e[n])}),e}},$.fn.layout=function(opts){function keyDown(e){if(!e)return!0;var t=e.keyCode;if(33>t)return!0;var i,n,s,o,a={38:"north",40:"south",37:"west",39:"east"},r=(e.altKey,e.shiftKey),l=e.ctrlKey,c=l&&t>=37&&40>=t;return c&&options[a[t]].enableCursorHotkey?o=a[t]:(l||r)&&$.each(_c.borderPanes,function(e,a){return i=options[a],n=i.customHotkey,s=i.customHotkeyModifier,(r&&"SHIFT"==s||l&&"CTRL"==s||l&&r)&&n&&t===(isNaN(n)||9>=n?n.toUpperCase().charCodeAt(0):n)?(o=a,!1):void 0}),o&&$Ps[o]&&options[o].closable&&!state[o].isHidden?(toggle(o),e.stopPropagation(),e.returnValue=!1,!1):!0}function allowOverflow(e){if(isInitialized()){this&&this.tagName&&(e=this);var t;if(isStr(e)?t=$Ps[e]:$(e).data("layoutRole")?t=$(e):$(e).parents().each(function(){return $(this).data("layoutRole")?(t=$(this),!1):void 0}),t&&t.length){var i=t.data("layoutEdge"),n=state[i];if(n.cssSaved&&resetOverflow(i),n.isSliding||n.isResizing||n.isClosed)return n.cssSaved=!1,void 0;var s={zIndex:options.zIndexes.resizer_normal+1},o={},a=t.css("overflow"),r=t.css("overflowX"),l=t.css("overflowY");"visible"!=a&&(o.overflow=a,s.overflow="visible"),r&&!r.match(/(visible|auto)/)&&(o.overflowX=r,s.overflowX="visible"),l&&!l.match(/(visible|auto)/)&&(o.overflowY=r,s.overflowY="visible"),n.cssSaved=o,t.css(s),$.each(_c.allPanes,function(e,t){t!=i&&resetOverflow(t)})}}}function resetOverflow(e){if(isInitialized()){this&&this.tagName&&(e=this);
var t;if(isStr(e)?t=$Ps[e]:$(e).data("layoutRole")?t=$(e):$(e).parents().each(function(){return $(this).data("layoutRole")?(t=$(this),!1):void 0}),t&&t.length){var i=t.data("layoutEdge"),n=state[i],s=n.cssSaved||{};n.isSliding||n.isResizing||t.css("zIndex",options.zIndexes.pane_normal),t.css(s),n.cssSaved=!1}}}var browser=$.layout.browser,_c=$.layout.config,cssW=$.layout.cssWidth,cssH=$.layout.cssHeight,elDims=$.layout.getElementDimensions,styles=$.layout.getElementStyles,evtObj=$.layout.getEventObject,evtPane=$.layout.parsePaneName,options=$.extend(!0,{},$.layout.defaults),effects=options.effects=$.extend(!0,{},$.layout.effects),state={id:"layout"+$.now(),initialized:!1,paneResizing:!1,panesSliding:{},container:{innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,layoutWidth:0,layoutHeight:0},north:{childIdx:0},south:{childIdx:0},east:{childIdx:0},west:{childIdx:0},center:{childIdx:0}},children={north:null,south:null,east:null,west:null,center:null},timer={data:{},set:function(e,t,i){timer.clear(e),timer.data[e]=setTimeout(t,i)},clear:function(e){var t=timer.data;t[e]&&(clearTimeout(t[e]),delete t[e])}},_log=function(e,t,i){var n=options;return(n.showErrorMessages&&!i||i&&n.showDebugMessages)&&$.layout.msg(n.name+" / "+e,t!==!1),!1},_runCallbacks=function(evtName,pane,skipBoundEvents){function g(e){return e}var hasPane=pane&&isStr(pane),s=hasPane?state[pane]:state,o=hasPane?options[pane]:options,lName=options.name,lng=evtName+(evtName.match(/_/)?"":"_end"),shrt=lng.match(/_end$/)?lng.substr(0,lng.length-4):"",fn=o[lng]||o[shrt],retVal="NC",args=[],$P;if(hasPane||"boolean"!==$.type(pane)||(skipBoundEvents=pane,pane=""),fn)try{isStr(fn)&&(fn.match(/,/)?(args=fn.split(","),fn=eval(args[0])):fn=eval(fn)),$.isFunction(fn)&&(retVal=args.length?g(fn)(args[1]):hasPane?g(fn)(pane,$Ps[pane],s,o,lName):g(fn)(Instance,s,o,lName))}catch(ex){_log(options.errors.callbackError.replace(/EVENT/,$.trim((pane||"")+" "+lng)),!1),"string"===$.type(ex)&&string.length&&_log("Exception:  "+ex,!1)}return skipBoundEvents||retVal===!1||(hasPane?($P=$Ps[pane],o=options[pane],s=state[pane],$P.triggerHandler("layoutpane"+lng,[pane,$P,s,o,lName]),shrt&&$P.triggerHandler("layoutpane"+shrt,[pane,$P,s,o,lName])):($N.triggerHandler("layout"+lng,[Instance,s,o,lName]),shrt&&$N.triggerHandler("layout"+shrt,[Instance,s,o,lName]))),hasPane&&"onresize_end"===evtName&&resizeChildren(pane+"",!0),retVal},_fixIframe=function(e){if(!browser.mozilla){var t=$Ps[e];"IFRAME"===state[e].tagName?t.css(_c.hidden).css(_c.visible):t.find("IFRAME").css(_c.hidden).css(_c.visible)}},cssSize=function(e,t){var i="horz"==_c[e].dir?cssH:cssW;return i($Ps[e],t)},cssMinDims=function(e){var t=$Ps[e],i=_c[e].dir,n={minWidth:1001-cssW(t,1e3),minHeight:1001-cssH(t,1e3)};return"horz"===i&&(n.minSize=n.minHeight),"vert"===i&&(n.minSize=n.minWidth),n},setOuterWidth=function(e,t,i){var n,s=e;isStr(e)?s=$Ps[e]:e.jquery||(s=$(e)),n=cssW(s,t),s.css({width:n}),n>0?i&&s.data("autoHidden")&&s.innerHeight()>0&&(s.show().data("autoHidden",!1),browser.mozilla||s.css(_c.hidden).css(_c.visible)):i&&!s.data("autoHidden")&&s.hide().data("autoHidden",!0)},setOuterHeight=function(e,t,i){var n,s=e;isStr(e)?s=$Ps[e]:e.jquery||(s=$(e)),n=cssH(s,t),s.css({height:n,visibility:"visible"}),n>0&&s.innerWidth()>0?i&&s.data("autoHidden")&&(s.show().data("autoHidden",!1),browser.mozilla||s.css(_c.hidden).css(_c.visible)):i&&!s.data("autoHidden")&&s.hide().data("autoHidden",!0)},_parseSize=function(e,t,i){if(i||(i=_c[e].dir),isStr(t)&&t.match(/%/)&&(t="100%"===t?-1:parseInt(t,10)/100),0===t)return 0;if(t>=1)return parseInt(t,10);var n=options,s=0;if("horz"==i?s=sC.innerHeight-($Ps.north?n.north.spacing_open:0)-($Ps.south?n.south.spacing_open:0):"vert"==i&&(s=sC.innerWidth-($Ps.west?n.west.spacing_open:0)-($Ps.east?n.east.spacing_open:0)),-1===t)return s;if(t>0)return round(s*t);if("center"==e)return 0;var o="horz"===i?"height":"width",a=$Ps[e],r="height"===o?$Cs[e]:!1,l=$.layout.showInvisibly(a),c=a.css(o),d=r?r.css(o):0;return a.css(o,"auto"),r&&r.css(o,"auto"),t="height"===o?a.outerHeight():a.outerWidth(),a.css(o,c).css(l),r&&r.css(o,d),t},getPaneSize=function(e,t){var i=$Ps[e],n=options[e],s=state[e],o=t?n.spacing_open:0,a=t?n.spacing_closed:0;return!i||s.isHidden?0:s.isClosed||s.isSliding&&t?a:"horz"===_c[e].dir?i.outerHeight()+o:i.outerWidth()+o},setSizeLimits=function(e,t){if(isInitialized()){var i=options[e],n=state[e],s=_c[e],o=s.dir,a=(s.sizeType.toLowerCase(),void 0!=t?t:n.isSliding),r=($Ps[e],i.spacing_open),l=_c.oppositeEdge[e],c=state[l],d=$Ps[l],u=!d||c.isVisible===!1||c.isSliding?0:"horz"==o?d.outerHeight():d.outerWidth(),h=(!d||c.isHidden?0:options[l][c.isClosed!==!1?"spacing_closed":"spacing_open"])||0,p="horz"==o?sC.innerHeight:sC.innerWidth,f=cssMinDims("center"),g="horz"==o?max(options.center.minHeight,f.minHeight):max(options.center.minWidth,f.minWidth),m=p-r-(a?0:_parseSize("center",g,o)+u+h),v=n.minSize=max(_parseSize(e,i.minSize),cssMinDims(e).minSize),b=n.maxSize=min(i.maxSize?_parseSize(e,i.maxSize):1e5,m),y=n.resizerPosition={},w=sC.inset.top,_=sC.inset.left,C=sC.innerWidth,x=sC.innerHeight,k=i.spacing_open;switch(e){case"north":y.min=w+v,y.max=w+b;break;case"west":y.min=_+v,y.max=_+b;break;case"south":y.min=w+x-b-k,y.max=w+x-v-k;break;case"east":y.min=_+C-b-k,y.max=_+C-v-k}}},calcNewCenterPaneDims=function(){var e={top:getPaneSize("north",!0),bottom:getPaneSize("south",!0),left:getPaneSize("west",!0),right:getPaneSize("east",!0),width:0,height:0};return e.width=sC.innerWidth-e.left-e.right,e.height=sC.innerHeight-e.bottom-e.top,e.top+=sC.inset.top,e.bottom+=sC.inset.bottom,e.left+=sC.inset.left,e.right+=sC.inset.right,e},getHoverClasses=function(e,t){var i=$(e),n=i.data("layoutRole"),s=i.data("layoutEdge"),o=options[s],a=o[n+"Class"],r="-"+s,l="-open",c="-closed",d="-sliding",u="-hover ",h=i.hasClass(a+c)?c:l,p=h===c?l:c,f=a+u+(a+r+u)+(a+h+u)+(a+r+h+u);return t&&(f+=a+p+u+(a+r+p+u)),"resizer"==n&&i.hasClass(a+d)&&(f+=a+d+u+(a+r+d+u)),$.trim(f)},addHover=function(e,t){var i=$(t||this);e&&"toggler"===i.data("layoutRole")&&e.stopPropagation(),i.addClass(getHoverClasses(i))},removeHover=function(e,t){var i=$(t||this);i.removeClass(getHoverClasses(i,!0))},onResizerEnter=function(){var e=$(this).data("layoutEdge"),t=state[e];t.isClosed||t.isResizing||state.paneResizing||($.fn.disableSelection&&$("body").disableSelection(),options.maskPanesEarly&&showMasks(e,{resizing:!0}))},onResizerLeave=function(e,t){var i=t||this,n=$(i).data("layoutEdge"),s=n+"ResizerLeave";timer.clear(n+"_openSlider"),timer.clear(s),t?state.paneResizing||($.fn.enableSelection&&$("body").enableSelection(),options.maskPanesEarly&&hideMasks()):timer.set(s,function(){onResizerLeave(e,i)},200)},_create=function(){initOptions();var e=options,t=state;return t.creatingLayout=!0,runPluginCallbacks(Instance,$.layout.onCreate),!1===_runCallbacks("onload_start")?"cancel":(_initContainer(),initHotkeys(),$(window).bind("unload."+sID,unload),runPluginCallbacks(Instance,$.layout.onLoad),e.initPanes&&_initLayoutElements(),delete t.creatingLayout,state.initialized)},isInitialized=function(){return state.initialized||state.creatingLayout?!0:_initLayoutElements()},_initLayoutElements=function(e){var t=options;if(!$N.is(":visible"))return!e&&browser.webkit&&"BODY"===$N[0].tagName&&setTimeout(function(){_initLayoutElements(!0)},50),!1;if(!getPane("center").length)return _log(t.errors.centerPaneMissing);if(state.creatingLayout=!0,$.extend(sC,elDims($N,t.inset)),initPanes(),t.scrollToBookmarkOnLoad){var i=self.location;i.hash&&i.replace(i.hash)}return Instance.hasParentLayout?t.resizeWithWindow=!1:t.resizeWithWindow&&$(window).bind("resize."+sID,windowResize),delete state.creatingLayout,state.initialized=!0,runPluginCallbacks(Instance,$.layout.onReady),_runCallbacks("onload_end"),!0},createChildren=function(e,t){var i=evtPane.call(this,e),n=$Ps[i];if(n){var s=$Cs[i],o=state[i],a=options[i],r=options.stateManagement||{},l=t?a.children=t:a.children;if($.isPlainObject(l))l=[l];else if(!l||!$.isArray(l))return;$.each(l,function(e,t){if($.isPlainObject(t)){var a=t.containerSelector?n.find(t.containerSelector):s||n;a.each(function(){var e=$(this),n=e.data("layout");if(!n){if(setInstanceKey({container:e,options:t},o),r.includeChildren&&state.stateData[i]){var s=state.stateData[i].children||{},a=s[t.instanceKey],l=t.stateManagement||(t.stateManagement={autoLoad:!0});l.autoLoad===!0&&a&&(l.autoSave=!1,l.includeChildren=!0,l.autoLoad=$.extend(!0,{},a))}n=e.layout(t),n&&refreshChildren(i,n)}})}})}},setInstanceKey=function(e,t){var i=e.container,n=e.options,s=n.stateManagement,o=n.instanceKey||i.data("layoutInstanceKey");return o||(o=(s&&s.cookie?s.cookie.name:"")||n.name),o=o?o.replace(/[^\w-]/gi,"_").replace(/_{2,}/g,"_"):"layout"+ ++t.childIdx,n.instanceKey=o,i.data("layoutInstanceKey",o),o},refreshChildren=function(e,t){var i,n=$Ps[e],s=children[e],o=state[e];$.isPlainObject(s)&&($.each(s,function(e,t){t.destroyed&&delete s[e]}),$.isEmptyObject(s)&&(s=children[e]=null)),t||s||(t=n.data("layout")),t&&(t.hasParentLayout=!0,i=t.options,setInstanceKey(t,o),s||(s=children[e]={}),s[i.instanceKey]=t.container.data("layout")),Instance[e].children=children[e],t||createChildren(e)},windowResize=function(){var e=options,t=Number(e.resizeWithWindowDelay);10>t&&(t=100),timer.clear("winResize"),timer.set("winResize",function(){timer.clear("winResize"),timer.clear("winResizeRepeater");var t=elDims($N,e.inset);(t.innerWidth!==sC.innerWidth||t.innerHeight!==sC.innerHeight)&&resizeAll()},t),timer.data.winResizeRepeater||setWindowResizeRepeater()},setWindowResizeRepeater=function(){var e=Number(options.resizeWithWindowMaxDelay);e>0&&timer.set("winResizeRepeater",function(){setWindowResizeRepeater(),resizeAll()},e)},unload=function(){_runCallbacks("onunload_start"),runPluginCallbacks(Instance,$.layout.onUnload),_runCallbacks("onunload_end")},_initContainer=function(){var e,t,i=$N[0],n=$("html"),s=sC.tagName=i.tagName,o=sC.id=i.id,a=sC.className=i.className,r=options,l=r.name,c="position,margin,padding,border",d="layoutCSS",u={},h="hidden",p=$N.data("parentLayout"),f=$N.data("layoutEdge"),g=p&&f,m=$.layout.cssNum;sC.selector=$N.selector.split(".slice")[0],sC.ref=(r.name?r.name+" layout / ":"")+s+(o?"#"+o:a?".["+a+"]":""),sC.isBody="BODY"===s,g||sC.isBody||(e=$N.closest("."+$.layout.defaults.panes.paneClass),p=e.data("parentLayout"),f=e.data("layoutEdge"),g=p&&f),$N.data({layout:Instance,layoutContainer:sID}).addClass(r.containerClass);var v={destroy:"",initPanes:"",resizeAll:"resizeAll",resize:"resizeAll"};for(l in v)$N.bind("layout"+l.toLowerCase()+"."+sID,Instance[v[l]||l]);g&&(Instance.hasParentLayout=!0,p.refreshChildren(f,Instance)),$N.data(d)||(sC.isBody?($N.data(d,$.extend(styles($N,c),{height:$N.css("height"),overflow:$N.css("overflow"),overflowX:$N.css("overflowX"),overflowY:$N.css("overflowY")})),n.data(d,$.extend(styles(n,"padding"),{height:"auto",overflow:n.css("overflow"),overflowX:n.css("overflowX"),overflowY:n.css("overflowY")}))):$N.data(d,styles($N,c+",top,bottom,left,right,width,height,overflow,overflowX,overflowY")));try{if(u={overflow:h,overflowX:h,overflowY:h},$N.css(u),r.inset&&!$.isPlainObject(r.inset)&&(t=parseInt(r.inset,10)||0,r.inset={top:t,bottom:t,left:t,right:t}),sC.isBody)r.outset?$.isPlainObject(r.outset)||(t=parseInt(r.outset,10)||0,r.outset={top:t,bottom:t,left:t,right:t}):r.outset={top:m(n,"paddingTop"),bottom:m(n,"paddingBottom"),left:m(n,"paddingLeft"),right:m(n,"paddingRight")},n.css(u).css({height:"100%",border:"none",padding:0,margin:0}),browser.isIE6?($N.css({width:"100%",height:"100%",border:"none",padding:0,margin:0,position:"relative"}),r.inset||(r.inset=elDims($N).inset)):($N.css({width:"auto",height:"auto",margin:0,position:"absolute"}),$N.css(r.outset)),$.extend(sC,elDims($N,r.inset));else{var b=$N.css("position");b&&b.match(/(fixed|absolute|relative)/)||$N.css("position","relative"),$N.is(":visible")&&($.extend(sC,elDims($N,r.inset)),1>sC.innerHeight&&_log(r.errors.noContainerHeight.replace(/CONTAINER/,sC.ref)))}m($N,"minWidth")&&$N.parent().css("overflowX","auto"),m($N,"minHeight")&&$N.parent().css("overflowY","auto")}catch(y){}},initHotkeys=function(e){e=e?e.split(","):_c.borderPanes,$.each(e,function(e,t){var i=options[t];return i.enableCursorHotkey||i.customHotkey?($(document).bind("keydown."+sID,keyDown),!1):void 0})},initOptions=function(){function e(e){var t=options[e],i=options.panes;t.fxSettings||(t.fxSettings={}),i.fxSettings||(i.fxSettings={}),$.each(["_open","_close","_size"],function(n,s){var o="fxName"+s,a="fxSpeed"+s,r="fxSettings"+s,l=t[o]=t[o]||i[o]||t.fxName||i.fxName||"none",c=$.effects&&($.effects[l]||$.effects.effect&&$.effects.effect[l]);"none"!==l&&options.effects[l]&&c||(l=t[o]="none");var d=options.effects[l]||{},u=d.all||null,h=d[e]||null;t[a]=t[a]||i[a]||t.fxSpeed||i.fxSpeed||null,t[r]=$.extend(!0,{},u,h,i.fxSettings,t.fxSettings,i[r],t[r])}),delete t.fxName,delete t.fxSpeed,delete t.fxSettings}var t,i,n,s,o,a,r;if(opts=$.layout.transformData(opts,!0),opts=$.layout.backwardCompatibility.renameAllOptions(opts),!$.isEmptyObject(opts.panes)){for(t=$.layout.optionsMap.noDefault,o=0,a=t.length;a>o;o++)n=t[o],delete opts.panes[n];for(t=$.layout.optionsMap.layout,o=0,a=t.length;a>o;o++)n=t[o],delete opts.panes[n]}t=$.layout.optionsMap.layout;var l=$.layout.config.optionRootKeys;for(n in opts)s=opts[n],0>$.inArray(n,l)&&0>$.inArray(n,t)&&(opts.panes[n]||(opts.panes[n]=$.isPlainObject(s)?$.extend(!0,{},s):s),delete opts[n]);$.extend(!0,options,opts),$.each(_c.allPanes,function(s,o){if(_c[o]=$.extend(!0,{},_c.panes,_c[o]),i=options.panes,r=options[o],"center"===o)for(t=$.layout.optionsMap.center,s=0,a=t.length;a>s;s++)n=t[s],opts.center[n]||!opts.panes[n]&&r[n]||(r[n]=i[n]);else r=options[o]=$.extend(!0,{},i,r),e(o),r.resizerClass||(r.resizerClass="ui-layout-resizer"),r.togglerClass||(r.togglerClass="ui-layout-toggler");r.paneClass||(r.paneClass="ui-layout-pane")});var c=opts.zIndex,d=options.zIndexes;c>0&&(d.pane_normal=c,d.content_mask=max(c+1,d.content_mask),d.resizer_normal=max(c+2,d.resizer_normal)),delete options.panes},getPane=function(e){var t=options[e].paneSelector;if("#"===t.substr(0,1))return $N.find(t).eq(0);var i=$N.children(t).eq(0);return i.length?i:$N.children("form:first").children(t).eq(0)},initPanes=function(e){evtPane(e),$.each(_c.allPanes,function(e,t){addPane(t,!0)}),initHandles(),$.each(_c.borderPanes,function(e,t){$Ps[t]&&state[t].isVisible&&(setSizeLimits(t),makePaneFit(t))}),sizeMidPanes("center"),$.each(_c.allPanes,function(e,t){afterInitPane(t)})},addPane=function(e,t){if(t||isInitialized()){var i,n,s,o=options[e],a=state[e],r=_c[e],l=r.dir,c=(a.fx,o.spacing_open||0,"center"===e),d={},u=$Ps[e];if(u?removePane(e,!1,!0,!1):$Cs[e]=!1,u=$Ps[e]=getPane(e),!u.length)return $Ps[e]=!1,void 0;if(!u.data("layoutCSS")){var h="position,top,left,bottom,right,width,height,overflow,zIndex,display,backgroundColor,padding,margin,border";u.data("layoutCSS",styles(u,h))}Instance[e]={name:e,pane:$Ps[e],content:$Cs[e],options:options[e],state:state[e],children:children[e]},u.data({parentLayout:Instance,layoutPane:Instance[e],layoutEdge:e,layoutRole:"pane"}).css(r.cssReq).css("zIndex",options.zIndexes.pane_normal).css(o.applyDemoStyles?r.cssDemo:{}).addClass(o.paneClass+" "+o.paneClass+"-"+e).bind("mouseenter."+sID,addHover).bind("mouseleave."+sID,removeHover);var p,f={hide:"",show:"",toggle:"",close:"",open:"",slideOpen:"",slideClose:"",slideToggle:"",size:"sizePane",sizePane:"sizePane",sizeContent:"",sizeHandles:"",enableClosable:"",disableClosable:"",enableSlideable:"",disableSlideable:"",enableResizable:"",disableResizable:"",swapPanes:"swapPanes",swap:"swapPanes",move:"swapPanes",removePane:"removePane",remove:"removePane",createChildren:"",resizeChildren:"",resizeAll:"resizeAll",resizeLayout:"resizeAll"};for(p in f)u.bind("layoutpane"+p.toLowerCase()+"."+sID,Instance[f[p]||p]);initContent(e,!1),c||(i=a.size=_parseSize(e,o.size),n=_parseSize(e,o.minSize)||1,s=_parseSize(e,o.maxSize)||1e5,i>0&&(i=max(min(i,s),n)),a.autoResize=o.autoResize,a.isClosed=!1,a.isSliding=!1,a.isResizing=!1,a.isHidden=!1,a.pins||(a.pins=[])),a.tagName=u[0].tagName,a.edge=e,a.noRoom=!1,a.isVisible=!0,setPanePosition(e),"horz"===l?d.height=cssH(u,i):"vert"===l&&(d.width=cssW(u,i)),u.css(d),"horz"!=l&&sizeMidPanes(e,!0),state.initialized&&(initHandles(e),initHotkeys(e)),o.initClosed&&o.closable&&!o.initHidden?close(e,!0,!0):o.initHidden||o.initClosed?hide(e):a.noRoom||u.css("display","block"),u.css("visibility","visible"),o.showOverflowOnHover&&u.hover(allowOverflow,resetOverflow),state.initialized&&afterInitPane(e)}},afterInitPane=function(e){var t=$Ps[e],i=state[e],n=options[e];t&&(t.data("layout")&&refreshChildren(e,t.data("layout")),i.isVisible&&(state.initialized?resizeAll():sizeContent(e),n.triggerEventsOnLoad?_runCallbacks("onresize_end",e):resizeChildren(e,!0)),n.initChildren&&n.children&&createChildren(e))},setPanePosition=function(e){e=e?e.split(","):_c.borderPanes,$.each(e,function(e,t){var i=$Ps[t],n=$Rs[t],s=(options[t],state[t]),o=_c[t].side,a={};if(i){switch(t){case"north":a.top=sC.inset.top,a.left=sC.inset.left,a.right=sC.inset.right;break;case"south":a.bottom=sC.inset.bottom,a.left=sC.inset.left,a.right=sC.inset.right;break;case"west":a.left=sC.inset.left;break;case"east":a.right=sC.inset.right;break;case"center":}i.css(a),n&&s.isClosed?n.css(o,sC.inset[o]):n&&!s.isHidden&&n.css(o,sC.inset[o]+getPaneSize(t))}})},initHandles=function(e){e=e?e.split(","):_c.borderPanes,$.each(e,function(e,t){var i=$Ps[t];if($Rs[t]=!1,$Ts[t]=!1,i){var n=options[t],s=state[t],o=(_c[t],"#"===n.paneSelector.substr(0,1)?n.paneSelector.substr(1):""),a=n.resizerClass,r=n.togglerClass,l=(s.isVisible?n.spacing_open:n.spacing_closed,"-"+t),c=(s.isVisible?"-open":"-closed",Instance[t]),d=c.resizer=$Rs[t]=$("<div></div>"),u=c.toggler=n.closable?$Ts[t]=$("<div></div>"):!1;!s.isVisible&&n.slidable&&d.attr("title",n.tips.Slide).css("cursor",n.sliderCursor),d.attr("id",o?o+"-resizer":"").data({parentLayout:Instance,layoutPane:Instance[t],layoutEdge:t,layoutRole:"resizer"}).css(_c.resizers.cssReq).css("zIndex",options.zIndexes.resizer_normal).css(n.applyDemoStyles?_c.resizers.cssDemo:{}).addClass(a+" "+a+l).hover(addHover,removeHover).hover(onResizerEnter,onResizerLeave).appendTo($N),n.resizerDblClickToggle&&d.bind("dblclick."+sID,toggle),u&&(u.attr("id",o?o+"-toggler":"").data({parentLayout:Instance,layoutPane:Instance[t],layoutEdge:t,layoutRole:"toggler"}).css(_c.togglers.cssReq).css(n.applyDemoStyles?_c.togglers.cssDemo:{}).addClass(r+" "+r+l).hover(addHover,removeHover).bind("mouseenter",onResizerEnter).appendTo(d),n.togglerContent_open&&$("<span>"+n.togglerContent_open+"</span>").data({layoutEdge:t,layoutRole:"togglerContent"}).data("layoutRole","togglerContent").data("layoutEdge",t).addClass("content content-open").css("display","none").appendTo(u),n.togglerContent_closed&&$("<span>"+n.togglerContent_closed+"</span>").data({layoutEdge:t,layoutRole:"togglerContent"}).addClass("content content-closed").css("display","none").appendTo(u),enableClosable(t)),initResizable(t),s.isVisible?setAsOpen(t):(setAsClosed(t),bindStartSlidingEvents(t,!0))}}),sizeHandles()},initContent=function(e,t){if(isInitialized()){var i,n=options[e],s=n.contentSelector,o=Instance[e],a=$Ps[e];s&&(i=o.content=$Cs[e]=n.findNestedContent?a.find(s).eq(0):a.children(s).eq(0)),i&&i.length?(i.data("layoutRole","content"),i.data("layoutCSS")||i.data("layoutCSS",styles(i,"height")),i.css(_c.content.cssReq),n.applyDemoStyles&&(i.css(_c.content.cssDemo),a.css(_c.content.cssDemoPane)),a.css("overflowX").match(/(scroll|auto)/)&&a.css("overflow","hidden"),state[e].content={},t!==!1&&sizeContent(e)):o.content=$Cs[e]=!1}},initResizable=function(e){var t=$.layout.plugins.draggable;e=e?e.split(","):_c.borderPanes,$.each(e,function(e,n){var s=options[n];if(!t||!$Ps[n]||!s.resizable)return s.resizable=!1,!0;var o,a,r=state[n],l=options.zIndexes,c=_c[n],d="horz"==c.dir?"top":"left",u=($Ps[n],$Rs[n]),h=s.resizerClass,p=0,f=h+"-drag",g=h+"-"+n+"-drag",m=h+"-dragging",v=h+"-"+n+"-dragging",b=h+"-dragging-limit",y=h+"-"+n+"-dragging-limit",w=!1;r.isClosed||u.attr("title",s.tips.Resize).css("cursor",s.resizerCursor),u.draggable({containment:$N[0],axis:"horz"==c.dir?"y":"x",delay:0,distance:1,grid:s.resizingGrid,helper:"clone",opacity:s.resizerDragOpacity,addClasses:!1,zIndex:l.resizer_drag,start:function(e,t){return s=options[n],r=state[n],a=s.livePaneResizing,!1===_runCallbacks("ondrag_start",n)?!1:(r.isResizing=!0,state.paneResizing=n,timer.clear(n+"_closeSlider"),setSizeLimits(n),o=r.resizerPosition,p=t.position[d],u.addClass(f+" "+g),w=!1,$("body").disableSelection(),showMasks(n,{resizing:!0}),void 0)},drag:function(e,t){w||(t.helper.addClass(m+" "+v).css({right:"auto",bottom:"auto"}).children().css("visibility","hidden"),w=!0,r.isSliding&&$Ps[n].css("zIndex",l.pane_sliding));var c=0;t.position[d]<o.min?(t.position[d]=o.min,c=-1):t.position[d]>o.max&&(t.position[d]=o.max,c=1),c?(t.helper.addClass(b+" "+y),window.defaultStatus=c>0&&n.match(/(north|west)/)||0>c&&n.match(/(south|east)/)?s.tips.maxSizeWarning:s.tips.minSizeWarning):(t.helper.removeClass(b+" "+y),window.defaultStatus=""),a&&Math.abs(t.position[d]-p)>=s.liveResizingTolerance&&(p=t.position[d],i(e,t,n))},stop:function(e,t){$("body").enableSelection(),window.defaultStatus="",u.removeClass(f+" "+g),r.isResizing=!1,state.paneResizing=!1,i(e,t,n,!0)}})});var i=function(e,t,i,n){var s,o=t.position,a=_c[i],r=options[i],l=state[i];switch(i){case"north":s=o.top;break;case"west":s=o.left;break;case"south":s=sC.layoutHeight-o.top-r.spacing_open;break;case"east":s=sC.layoutWidth-o.left-r.spacing_open}var c=s-sC.inset[a.side];if(n)!1!==_runCallbacks("ondrag_end",i)&&manualSizePane(i,c,!1,!0),hideMasks(!0),l.isSliding&&showMasks(i,{resizing:!0});else{if(Math.abs(c-l.size)<r.liveResizingTolerance)return;manualSizePane(i,c,!1,!0),sizeMasks()}}},sizeMask=function(){var e=$(this),t=e.data("layoutMask"),i=state[t];"IFRAME"==i.tagName&&i.isVisible&&e.css({top:i.offsetTop,left:i.offsetLeft,width:i.outerWidth,height:i.outerHeight})},sizeMasks=function(){$Ms.each(sizeMask)},showMasks=function(e,t){var i,n,s=_c[e],o=["center"],a=options.zIndexes,r=$.extend({objectsOnly:!1,animation:!1,resizing:!0,sliding:state[e].isSliding},t);r.resizing&&o.push(e),r.sliding&&o.push(_c.oppositeEdge[e]),"horz"===s.dir&&(o.push("west"),o.push("east")),$.each(o,function(e,t){n=state[t],i=options[t],n.isVisible&&(i.maskObjects||!r.objectsOnly&&i.maskContents)&&getMasks(t).each(function(){sizeMask.call(this),this.style.zIndex=n.isSliding?a.pane_sliding+1:a.pane_normal+1,this.style.display="block"})})},hideMasks=function(e){if(e||!state.paneResizing)$Ms.hide();else if(!e&&!$.isEmptyObject(state.panesSliding))for(var t,i,n=$Ms.length-1;n>=0;n--)i=$Ms.eq(n),t=i.data("layoutMask"),options[t].maskObjects||i.hide()},getMasks=function(e){for(var t,i=$([]),n=0,s=$Ms.length;s>n;n++)t=$Ms.eq(n),t.data("layoutMask")===e&&(i=i.add(t));return i.length?i:createMasks(e)},createMasks=function(e){var t,i,n,s,o,a=$Ps[e],r=state[e],l=options[e],c=options.zIndexes,d=$([]);if(!l.maskContents&&!l.maskObjects)return d;for(o=0;(l.maskObjects?2:1)>o;o++)t=l.maskObjects&&0==o,i=document.createElement(t?"iframe":"div"),n=$(i).data("layoutMask",e),i.className="ui-layout-mask ui-layout-mask-"+e,s=i.style,s.display="block",s.position="absolute",s.background="#FFF",t&&(i.frameborder=0,i.src="about:blank",s.opacity=0,s.filter="Alpha(Opacity='0')",s.border=0),"IFRAME"==r.tagName?(s.zIndex=c.pane_normal+1,$N.append(i)):(n.addClass("ui-layout-mask-inside-pane"),s.zIndex=l.maskZindex||c.content_mask,s.top=0,s.left=0,s.width="100%",s.height="100%",a.append(i)),d=d.add(i),$Ms=$Ms.add(i);return d},destroy=function(e,t){$(window).unbind("."+sID),$(document).unbind("."+sID),"object"==typeof e?evtPane(e):t=e,$N.clearQueue().removeData("layout").removeData("layoutContainer").removeClass(options.containerClass).unbind("."+sID),$Ms.remove(),$.each(_c.allPanes,function(e,i){removePane(i,!1,!0,t)});var i="layoutCSS";$N.data(i)&&!$N.data("layoutRole")&&$N.css($N.data(i)).removeData(i),"BODY"===sC.tagName&&($N=$("html")).data(i)&&$N.css($N.data(i)).removeData(i),runPluginCallbacks(Instance,$.layout.onDestroy),unload();for(var n in Instance)n.match(/^(container|options)$/)||delete Instance[n];return Instance.destroyed=!0,Instance},removePane=function(e,t,i,n){if(isInitialized()){var s=evtPane.call(this,e),o=$Ps[s],a=$Cs[s],r=$Rs[s],l=$Ts[s];o&&$.isEmptyObject(o.data())&&(o=!1),a&&$.isEmptyObject(a.data())&&(a=!1),r&&$.isEmptyObject(r.data())&&(r=!1),l&&$.isEmptyObject(l.data())&&(l=!1),o&&o.stop(!0,!0);var c=options[s],d=state[s],u="layout",h="layoutCSS",p=children[s],f=$.isPlainObject(p)&&!$.isEmptyObject(p),g=void 0!==n?n:c.destroyChildren;if(f&&g&&($.each(p,function(e,t){t.destroyed||t.destroy(!0),t.destroyed&&delete p[e]}),$.isEmptyObject(p)&&(p=children[s]=null,f=!1)),o&&t&&!f)o.remove();else if(o&&o[0]){var m=c.paneClass,v=m+"-"+s,b="-open",y="-sliding",w="-closed",_=[m,m+b,m+w,m+y,v,v+b,v+w,v+y];$.merge(_,getHoverClasses(o,!0)),o.removeClass(_.join(" ")).removeData("parentLayout").removeData("layoutPane").removeData("layoutRole").removeData("layoutEdge").removeData("autoHidden").unbind("."+sID),f&&a?(a.width(a.width()),$.each(p,function(e,t){t.resizeAll()})):a&&a.css(a.data(h)).removeData(h).removeData("layoutRole"),o.data(u)||o.css(o.data(h)).removeData(h)}l&&l.remove(),r&&r.remove(),Instance[s]=$Ps[s]=$Cs[s]=$Rs[s]=$Ts[s]=!1,d={removed:!0},i||resizeAll()}},_hidePane=function(e){var t=$Ps[e],i=options[e],n=t[0].style;i.useOffscreenClose?(t.data(_c.offscreenReset)||t.data(_c.offscreenReset,{left:n.left,right:n.right}),t.css(_c.offscreenCSS)):t.hide().removeData(_c.offscreenReset)},_showPane=function(e){var t=$Ps[e],i=options[e],n=_c.offscreenCSS,s=t.data(_c.offscreenReset),o=t[0].style;t.show().removeData(_c.offscreenReset),i.useOffscreenClose&&s&&(o.left==n.left&&(o.left=s.left),o.right==n.right&&(o.right=s.right))},hide=function(e,t){if(isInitialized()){var i=evtPane.call(this,e),n=options[i],s=state[i],o=$Ps[i],a=$Rs[i];o&&!s.isHidden&&(state.initialized&&!1===_runCallbacks("onhide_start",i)||(s.isSliding=!1,delete state.panesSliding[i],a&&a.hide(),!state.initialized||s.isClosed?(s.isClosed=!0,s.isHidden=!0,s.isVisible=!1,state.initialized||_hidePane(i),sizeMidPanes("horz"===_c[i].dir?"":"center"),(state.initialized||n.triggerEventsOnLoad)&&_runCallbacks("onhide_end",i)):(s.isHiding=!0,close(i,!1,t))))}},show=function(e,t,i,n){if(isInitialized()){var s=evtPane.call(this,e),o=(options[s],state[s]),a=$Ps[s];$Rs[s],a&&o.isHidden&&!1!==_runCallbacks("onshow_start",s)&&(o.isShowing=!0,o.isSliding=!1,delete state.panesSliding[s],t===!1?close(s,!0):open(s,!1,i,n))}},toggle=function(e,t){if(isInitialized()){var i=evtObj(e),n=evtPane.call(this,e),s=state[n];i&&i.stopImmediatePropagation(),s.isHidden?show(n):s.isClosed?open(n,!!t):close(n)}},_closePane=function(e,t){var i=($Ps[e],state[e]);_hidePane(e),i.isClosed=!0,i.isVisible=!1,t&&setAsClosed(e)},close=function(e,t,i,n){function s(){h.isMoving=!1,bindStartSlidingEvents(o,!0);var e=_c.oppositeEdge[o];state[e].noRoom&&(setSizeLimits(e),makePaneFit(e)),n||!state.initialized&&!u.triggerEventsOnLoad||(r||_runCallbacks("onclose_end",o),r&&_runCallbacks("onshow_end",o),l&&_runCallbacks("onhide_end",o))}var o=evtPane.call(this,e);if(!state.initialized&&$Ps[o])return _closePane(o,!0),void 0;if(isInitialized()){var a,r,l,c,d=$Ps[o],u=($Rs[o],$Ts[o],options[o]),h=state[o];_c[o],$N.queue(function(e){if(!d||!u.closable&&!h.isShowing&&!h.isHiding||!t&&h.isClosed&&!h.isShowing)return e();var n=!h.isShowing&&!1===_runCallbacks("onclose_start",o);return r=h.isShowing,l=h.isHiding,c=h.isSliding,delete h.isShowing,delete h.isHiding,n?e():(a=!i&&!h.isClosed&&"none"!=u.fxName_close,h.isMoving=!0,h.isClosed=!0,h.isVisible=!1,l?h.isHidden=!0:r&&(h.isHidden=!1),h.isSliding?bindStopSlidingEvents(o,!1):sizeMidPanes("horz"===_c[o].dir?"":"center",!1),setAsClosed(o),a?(lockPaneForFX(o,!0),d.hide(u.fxName_close,u.fxSettings_close,u.fxSpeed_close,function(){lockPaneForFX(o,!1),h.isClosed&&s(),e()})):(_hidePane(o),s(),e()),void 0)})}},setAsClosed=function(e){if($Rs[e]){var t=($Ps[e],$Rs[e]),i=$Ts[e],n=options[e],s=(state[e],_c[e].side),o=n.resizerClass,a=n.togglerClass,r="-"+e,l="-open",c="-sliding",d="-closed";t.css(s,sC.inset[s]).removeClass(o+l+" "+o+r+l).removeClass(o+c+" "+o+r+c).addClass(o+d+" "+o+r+d),n.resizable&&$.layout.plugins.draggable&&t.draggable("disable").removeClass("ui-state-disabled").css("cursor","default").attr("title",""),i&&(i.removeClass(a+l+" "+a+r+l).addClass(a+d+" "+a+r+d).attr("title",n.tips.Open),i.children(".content-open").hide(),i.children(".content-closed").css("display","block")),syncPinBtns(e,!1),state.initialized&&sizeHandles()}},open=function(e,t,i,n){function s(){d.isMoving=!1,_fixIframe(r),d.isSliding||sizeMidPanes("vert"==_c[r].dir?"center":"",!1),setAsOpen(r)}if(isInitialized()){var o,a,r=evtPane.call(this,e),l=$Ps[r],c=($Rs[r],$Ts[r],options[r]),d=state[r];_c[r],$N.queue(function(e){if(!l||!c.resizable&&!c.closable&&!d.isShowing||d.isVisible&&!d.isSliding)return e();if(d.isHidden&&!d.isShowing)return e(),show(r,!0),void 0;d.autoResize&&d.size!=c.size?sizePane(r,c.size,!0,!0,!0):setSizeLimits(r,t);var u=_runCallbacks("onopen_start",r);return"abort"===u?e():("NC"!==u&&setSizeLimits(r,t),d.minSize>d.maxSize?(syncPinBtns(r,!1),!n&&c.tips.noRoomToOpen&&alert(c.tips.noRoomToOpen),e()):(t?bindStopSlidingEvents(r,!0):d.isSliding?bindStopSlidingEvents(r,!1):c.slidable&&bindStartSlidingEvents(r,!1),d.noRoom=!1,makePaneFit(r),a=d.isShowing,delete d.isShowing,o=!i&&d.isClosed&&"none"!=c.fxName_open,d.isMoving=!0,d.isVisible=!0,d.isClosed=!1,a&&(d.isHidden=!1),o?(lockPaneForFX(r,!0),l.show(c.fxName_open,c.fxSettings_open,c.fxSpeed_open,function(){lockPaneForFX(r,!1),d.isVisible&&s(),e()})):(_showPane(r),s(),e()),void 0))})}},setAsOpen=function(e,t){var i=$Ps[e],n=$Rs[e],s=$Ts[e],o=options[e],a=state[e],r=_c[e].side,l=o.resizerClass,c=o.togglerClass,d="-"+e,u="-open",h="-closed",p="-sliding";n.css(r,sC.inset[r]+getPaneSize(e)).removeClass(l+h+" "+l+d+h).addClass(l+u+" "+l+d+u),a.isSliding?n.addClass(l+p+" "+l+d+p):n.removeClass(l+p+" "+l+d+p),removeHover(0,n),o.resizable&&$.layout.plugins.draggable?n.draggable("enable").css("cursor",o.resizerCursor).attr("title",o.tips.Resize):a.isSliding||n.css("cursor","default"),s&&(s.removeClass(c+h+" "+c+d+h).addClass(c+u+" "+c+d+u).attr("title",o.tips.Close),removeHover(0,s),s.children(".content-closed").hide(),s.children(".content-open").css("display","block")),syncPinBtns(e,!a.isSliding),$.extend(a,elDims(i)),state.initialized&&(sizeHandles(),sizeContent(e,!0)),!t&&(state.initialized||o.triggerEventsOnLoad)&&i.is(":visible")&&(_runCallbacks("onopen_end",e),a.isShowing&&_runCallbacks("onshow_end",e),state.initialized&&_runCallbacks("onresize_end",e))},slideOpen=function(e){function t(){s.isClosed?s.isMoving||open(n,!0):bindStopSlidingEvents(n,!0)}if(isInitialized()){var i=evtObj(e),n=evtPane.call(this,e),s=state[n],o=options[n].slideDelay_open;i&&i.stopImmediatePropagation(),s.isClosed&&i&&"mouseenter"===i.type&&o>0?timer.set(n+"_openSlider",t,o):t()}},slideClose=function(e){function t(){o.isClosed?bindStopSlidingEvents(n,!1):o.isMoving||close(n)}if(isInitialized()){var i=evtObj(e),n=evtPane.call(this,e),s=options[n],o=state[n],a=o.isMoving?1e3:300;if(!o.isClosed&&!o.isResizing)if("click"===s.slideTrigger_close)t();else{if(s.preventQuickSlideClose&&o.isMoving)return;if(s.preventPrematureSlideClose&&i&&$.layout.isMouseOverElem(i,$Ps[n]))return;i?timer.set(n+"_closeSlider",t,max(s.slideDelay_close,a)):t()}}},slideToggle=function(e){var t=evtPane.call(this,e);toggle(t,!0)},lockPaneForFX=function(e,t){var i=$Ps[e],n=state[e],s=options[e],o=options.zIndexes;t?(showMasks(e,{animation:!0,objectsOnly:!0}),i.css({zIndex:o.pane_animate}),"south"==e?i.css({top:sC.inset.top+sC.innerHeight-i.outerHeight()}):"east"==e&&i.css({left:sC.inset.left+sC.innerWidth-i.outerWidth()})):(hideMasks(),i.css({zIndex:n.isSliding?o.pane_sliding:o.pane_normal}),"south"==e?i.css({top:"auto"}):"east"!=e||i.css("left").match(/\-99999/)||i.css({left:"auto"}),browser.msie&&s.fxOpacityFix&&"slide"!=s.fxName_open&&i.css("filter")&&1==i.css("opacity")&&i[0].style.removeAttribute("filter"))
},bindStartSlidingEvents=function(e,t){var i=options[e],n=($Ps[e],$Rs[e]),s=i.slideTrigger_open.toLowerCase();!n||t&&!i.slidable||(s.match(/mouseover/)?s=i.slideTrigger_open="mouseenter":s.match(/(click|dblclick|mouseenter)/)||(s=i.slideTrigger_open="click"),i.resizerDblClickToggle&&s.match(/click/)&&n[t?"unbind":"bind"]("dblclick."+sID,toggle),n[t?"bind":"unbind"](s+"."+sID,slideOpen).css("cursor",t?i.sliderCursor:"default").attr("title",t?i.tips.Slide:""))},bindStopSlidingEvents=function(e,t){function i(t){timer.clear(e+"_closeSlider"),t.stopPropagation()}var n=options[e],s=state[e],o=(_c[e],options.zIndexes),a=n.slideTrigger_close.toLowerCase(),r=t?"bind":"unbind",l=$Ps[e],c=$Rs[e];timer.clear(e+"_closeSlider"),t?(s.isSliding=!0,state.panesSliding[e]=!0,bindStartSlidingEvents(e,!1)):(s.isSliding=!1,delete state.panesSliding[e]),l.css("zIndex",t?o.pane_sliding:o.pane_normal),c.css("zIndex",t?o.pane_sliding+2:o.resizer_normal),a.match(/(click|mouseleave)/)||(a=n.slideTrigger_close="mouseleave"),c[r](a,slideClose),"mouseleave"===a&&(l[r]("mouseleave."+sID,slideClose),c[r]("mouseenter."+sID,i),l[r]("mouseenter."+sID,i)),t?"click"!==a||n.resizable||(c.css("cursor",t?n.sliderCursor:"default"),c.attr("title",t?n.tips.Close:"")):timer.clear(e+"_closeSlider")},makePaneFit=function(e,t,i,n){var s=options[e],o=state[e],a=_c[e],r=$Ps[e],l=$Rs[e],c="vert"===a.dir,d=!1;if(("center"===e||c&&o.noVerticalRoom)&&(d=o.maxHeight>=0,d&&o.noRoom?(_showPane(e),l&&l.show(),o.isVisible=!0,o.noRoom=!1,c&&(o.noVerticalRoom=!1),_fixIframe(e)):d||o.noRoom||(_hidePane(e),l&&l.hide(),o.isVisible=!1,o.noRoom=!0)),"center"===e);else if(o.minSize<=o.maxSize){if(d=!0,o.size>o.maxSize)sizePane(e,o.maxSize,i,!0,n);else if(o.size<o.minSize)sizePane(e,o.minSize,i,!0,n);else if(l&&o.isVisible&&r.is(":visible")){var u=o.size+sC.inset[a.side];$.layout.cssNum(l,a.side)!=u&&l.css(a.side,u)}o.noRoom&&(o.wasOpen&&s.closable?s.autoReopen?open(e,!1,!0,!0):o.noRoom=!1:show(e,o.wasOpen,!0,!0))}else o.noRoom||(o.noRoom=!0,o.wasOpen=!o.isClosed&&!o.isSliding,o.isClosed||(s.closable?close(e,!0,!0):hide(e,!0)))},manualSizePane=function(e,t,i,n,s){if(isInitialized()){var o=evtPane.call(this,e),a=options[o],r=state[o],l=s||a.livePaneResizing&&!r.isResizing;r.autoResize=!1,sizePane(o,t,i,n,l)}},sizePane=function(e,t,i,n,s){function o(){for(var e="width"===f?u.outerWidth():u.outerHeight(),n=[{pane:l,count:1,target:t,actual:e,correct:t===e,attempt:t,cssSize:r}],o=n[0],c={},m="Inaccurate size after resizing the "+l+"-pane.";!(o.correct||(c={pane:l,count:o.count+1,target:t},c.attempt=o.actual>t?max(0,o.attempt-(o.actual-t)):max(0,o.attempt+(t-o.actual)),c.cssSize=cssSize(l,c.attempt),u.css(f,c.cssSize),c.actual="width"==f?u.outerWidth():u.outerHeight(),c.correct=t===c.actual,1===n.length&&(_log(m,!1,!0),_log(o,!1,!0)),_log(c,!1,!0),n.length>3));)n.push(c),o=n[n.length-1];d.size=t,$.extend(d,elDims(u)),d.isVisible&&u.is(":visible")&&(h&&h.css(p,t+sC.inset[p]),sizeContent(l)),!i&&!g&&state.initialized&&d.isVisible&&_runCallbacks("onresize_end",l),i||(d.isSliding||sizeMidPanes("horz"==_c[l].dir?"":"center",g,s),sizeHandles());var v=_c.oppositeEdge[l];a>t&&state[v].noRoom&&(setSizeLimits(v),makePaneFit(v,!1,i)),n.length>1&&_log(m+"\nSee the Error Console for details.",!0,!0)}if(isInitialized()){var a,r,l=evtPane.call(this,e),c=options[l],d=state[l],u=$Ps[l],h=$Rs[l],p=_c[l].side,f=_c[l].sizeType.toLowerCase(),g=d.isResizing&&!c.triggerEventsDuringLiveResize,m=n!==!0&&c.animatePaneSizing;$N.queue(function(e){if(setSizeLimits(l),a=d.size,t=_parseSize(l,t),t=max(t,_parseSize(l,c.minSize)),t=min(t,d.maxSize),d.minSize>t)return e(),makePaneFit(l,!1,i),void 0;if(!s&&t===a)return e();if(d.newSize=t,!i&&state.initialized&&d.isVisible&&_runCallbacks("onresize_start",l),r=cssSize(l,t),m&&u.is(":visible")){var n=$.layout.effects.size[l]||$.layout.effects.size.all,h=c.fxSettings_size.easing||n.easing,p=options.zIndexes,g={};g[f]=r+"px",d.isMoving=!0,u.css({zIndex:p.pane_animate}).show().animate(g,c.fxSpeed_size,h,function(){u.css({zIndex:d.isSliding?p.pane_sliding:p.pane_normal}),d.isMoving=!1,delete d.newSize,o(),e()})}else u.css(f,r),delete d.newSize,u.is(":visible")?o():(d.size=t,$.extend(d,elDims(u))),e()})}},sizeMidPanes=function(e,t,i){e=(e?e:"east,west,center").split(","),$.each(e,function(e,n){if($Ps[n]){var s=options[n],o=state[n],a=$Ps[n],r=($Rs[n],!0),l={},c=$.layout.showInvisibly(a),d=calcNewCenterPaneDims();if($.extend(o,elDims(a)),"center"===n){if(!i&&o.isVisible&&d.width===o.outerWidth&&d.height===o.outerHeight)return a.css(c),!0;if($.extend(o,cssMinDims(n),{maxWidth:d.width,maxHeight:d.height}),l=d,o.newWidth=l.width,o.newHeight=l.height,l.width=cssW(a,l.width),l.height=cssH(a,l.height),r=l.width>=0&&l.height>=0,!state.initialized&&s.minWidth>d.width){var u=s.minWidth-o.outerWidth,h=options.east.minSize||0,p=options.west.minSize||0,f=state.east.size,g=state.west.size,m=f,v=g;if(u>0&&state.east.isVisible&&f>h&&(m=max(f-h,f-u),u-=f-m),u>0&&state.west.isVisible&&g>p&&(v=max(g-p,g-u),u-=g-v),0===u)return f&&f!=h&&sizePane("east",m,!0,!0,i),g&&g!=p&&sizePane("west",v,!0,!0,i),sizeMidPanes("center",t,i),a.css(c),void 0}}else{if(o.isVisible&&!o.noVerticalRoom&&$.extend(o,elDims(a),cssMinDims(n)),!i&&!o.noVerticalRoom&&d.height===o.outerHeight)return a.css(c),!0;l.top=d.top,l.bottom=d.bottom,o.newSize=d.height,l.height=cssH(a,d.height),o.maxHeight=l.height,r=o.maxHeight>=0,r||(o.noVerticalRoom=!0)}if(r?(!t&&state.initialized&&_runCallbacks("onresize_start",n),a.css(l),"center"!==n&&sizeHandles(n),!o.noRoom||o.isClosed||o.isHidden||makePaneFit(n),o.isVisible&&($.extend(o,elDims(a)),state.initialized&&sizeContent(n))):!o.noRoom&&o.isVisible&&makePaneFit(n),a.css(c),delete o.newSize,delete o.newWidth,delete o.newHeight,!o.isVisible)return!0;if("center"===n){var b=browser.isIE6||!browser.boxModel;$Ps.north&&(b||"IFRAME"==state.north.tagName)&&$Ps.north.css("width",cssW($Ps.north,sC.innerWidth)),$Ps.south&&(b||"IFRAME"==state.south.tagName)&&$Ps.south.css("width",cssW($Ps.south,sC.innerWidth))}!t&&state.initialized&&_runCallbacks("onresize_end",n)}})},resizeAll=function(e){var t=sC.innerWidth,i=sC.innerHeight;if(evtPane(e),$N.is(":visible")){if(!state.initialized)return _initLayoutElements(),void 0;if(e===!0&&$.isPlainObject(options.outset)&&$N.css(options.outset),$.extend(sC,elDims($N,options.inset)),sC.outerHeight){if(e===!0&&setPanePosition(),!1===_runCallbacks("onresizeall_start"))return!1;var n,s,o;i>sC.innerHeight,t>sC.innerWidth,$.each(["south","north","east","west"],function(e,t){$Ps[t]&&(s=options[t],o=state[t],o.autoResize&&o.size!=s.size?sizePane(t,s.size,!0,!0,!0):(setSizeLimits(t),makePaneFit(t,!1,!0,!0)))}),sizeMidPanes("",!0,!0),sizeHandles(),$.each(_c.allPanes,function(e,t){n=$Ps[t],n&&state[t].isVisible&&_runCallbacks("onresize_end",t)}),_runCallbacks("onresizeall_end")}}},resizeChildren=function(e,t){var i=evtPane.call(this,e);if(options[i].resizeChildren){t||refreshChildren(i);var n=children[i];$.isPlainObject(n)&&$.each(n,function(e,t){t.destroyed||t.resizeAll()})}},sizeContent=function(e,t){if(isInitialized()){var i=evtPane.call(this,e);i=i?i.split(","):_c.allPanes,$.each(i,function(e,i){function n(e){return max(l.css.paddingBottom,parseInt(e.css("marginBottom"),10)||0)}function s(){var e=options[i].contentIgnoreSelector,t=a.nextAll().not(".ui-layout-mask").not(e||":lt(0)"),s=t.filter(":visible"),o=s.filter(":last");c={top:a[0].offsetTop,height:a.outerHeight(),numFooters:t.length,hiddenFooters:t.length-s.length,spaceBelow:0},c.spaceAbove=c.top,c.bottom=c.top+c.height,c.spaceBelow=o.length?o[0].offsetTop+o.outerHeight()-c.bottom+n(o):n(a)}var o=$Ps[i],a=$Cs[i],r=options[i],l=state[i],c=l.content;if(!o||!a||!o.is(":visible"))return!0;if((a.length||(initContent(i,!1),a))&&!1!==_runCallbacks("onsizecontent_start",i)){(!l.isMoving&&!l.isResizing||r.liveContentResizing||t||void 0==c.top)&&(s(),c.hiddenFooters>0&&"hidden"===o.css("overflow")&&(o.css("overflow","visible"),s(),o.css("overflow","hidden")));var d=l.innerHeight-(c.spaceAbove-l.css.paddingTop)-(c.spaceBelow-l.css.paddingBottom);a.is(":visible")&&c.height==d||(setOuterHeight(a,d,!0),c.height=d),state.initialized&&_runCallbacks("onsizecontent_end",i)}})}},sizeHandles=function(e){var t=evtPane.call(this,e);t=t?t.split(","):_c.borderPanes,$.each(t,function(e,t){var i,n=options[t],s=state[t],o=$Ps[t],a=$Rs[t],r=$Ts[t];if(o&&a){var l,c,d,u=_c[t].dir,h=s.isClosed?"_closed":"_open",p=n["spacing"+h],f=n["togglerAlign"+h],g=n["togglerLength"+h];if(0===p)return a.hide(),void 0;if(s.noRoom||s.isHidden||a.show(),"horz"===u?(l=sC.innerWidth,s.resizerLength=l,c=$.layout.cssNum(o,"left"),a.css({width:cssW(a,l),height:cssH(a,p),left:c>-9999?c:sC.inset.left})):(l=o.outerHeight(),s.resizerLength=l,a.css({height:cssH(a,l),width:cssW(a,p),top:sC.inset.top+getPaneSize("north",!0)})),removeHover(n,a),r){if(0===g||s.isSliding&&n.hideTogglerOnSlide)return r.hide(),void 0;if(r.show(),!(g>0)||"100%"===g||g>l)g=l,d=0;else if(isStr(f))switch(f){case"top":case"left":d=0;break;case"bottom":case"right":d=l-g;break;case"middle":case"center":default:d=round((l-g)/2)}else{var m=parseInt(f,10);d=f>=0?m:l-g+m}if("horz"===u){var v=cssW(r,g);r.css({width:v,height:cssH(r,p),left:d,top:0}),r.children(".content").each(function(){i=$(this),i.css("marginLeft",round((v-i.outerWidth())/2))})}else{var b=cssH(r,g);r.css({height:b,width:cssW(r,p),top:d,left:0}),r.children(".content").each(function(){i=$(this),i.css("marginTop",round((b-i.outerHeight())/2))})}removeHover(0,r)}state.initialized||!n.initHidden&&!s.isHidden||(a.hide(),r&&r.hide())}})},enableClosable=function(e){if(isInitialized()){var t=evtPane.call(this,e),i=$Ts[t],n=options[t];i&&(n.closable=!0,i.bind("click."+sID,function(e){e.stopPropagation(),toggle(t)}).css("visibility","visible").css("cursor","pointer").attr("title",state[t].isClosed?n.tips.Open:n.tips.Close).show())}},disableClosable=function(e,t){if(isInitialized()){var i=evtPane.call(this,e),n=$Ts[i];n&&(options[i].closable=!1,state[i].isClosed&&open(i,!1,!0),n.unbind("."+sID).css("visibility",t?"hidden":"visible").css("cursor","default").attr("title",""))}},enableSlidable=function(e){if(isInitialized()){var t=evtPane.call(this,e),i=$Rs[t];i&&i.data("draggable")&&(options[t].slidable=!0,state[t].isClosed&&bindStartSlidingEvents(t,!0))}},disableSlidable=function(e){if(isInitialized()){var t=evtPane.call(this,e),i=$Rs[t];i&&(options[t].slidable=!1,state[t].isSliding?close(t,!1,!0):(bindStartSlidingEvents(t,!1),i.css("cursor","default").attr("title",""),removeHover(null,i[0])))}},enableResizable=function(e){if(isInitialized()){var t=evtPane.call(this,e),i=$Rs[t],n=options[t];i&&i.data("draggable")&&(n.resizable=!0,i.draggable("enable"),state[t].isClosed||i.css("cursor",n.resizerCursor).attr("title",n.tips.Resize))}},disableResizable=function(e){if(isInitialized()){var t=evtPane.call(this,e),i=$Rs[t];i&&i.data("draggable")&&(options[t].resizable=!1,i.draggable("disable").css("cursor","default").attr("title",""),removeHover(null,i[0]))}},swapPanes=function(e,t){function i(e){var t=$Ps[e],i=$Cs[e];return t?{pane:e,P:t?t[0]:!1,C:i?i[0]:!1,state:$.extend(!0,{},state[e]),options:$.extend(!0,{},options[e])}:!1}function n(e,t){if(e){var i,n,s=e.P,o=e.C,a=e.pane,l=_c[t],c=$.extend(!0,{},state[t]),d=options[t],u={resizerCursor:d.resizerCursor};$.each("fxName,fxSpeed,fxSettings".split(","),function(e,t){u[t+"_open"]=d[t+"_open"],u[t+"_close"]=d[t+"_close"],u[t+"_size"]=d[t+"_size"]}),$Ps[t]=$(s).data({layoutPane:Instance[t],layoutEdge:t}).css(_c.hidden).css(l.cssReq),$Cs[t]=o?$(o):!1,options[t]=$.extend(!0,{},e.options,u),state[t]=$.extend(!0,{},e.state),i=RegExp(d.paneClass+"-"+a,"g"),s.className=s.className.replace(i,d.paneClass+"-"+t),initHandles(t),l.dir!=_c[a].dir?(n=r[t]||0,setSizeLimits(t),n=max(n,state[t].minSize),manualSizePane(t,n,!0,!0)):$Rs[t].css(l.side,sC.inset[l.side]+(state[t].isVisible?getPaneSize(t):0)),e.state.isVisible&&!c.isVisible?setAsOpen(t,!0):(setAsClosed(t),bindStartSlidingEvents(t,!0)),e=null}}if(isInitialized()){var s=evtPane.call(this,e);if(state[s].edge=t,state[t].edge=s,!1===_runCallbacks("onswap_start",s)||!1===_runCallbacks("onswap_start",t))return state[s].edge=s,state[t].edge=t,void 0;var o=i(s),a=i(t),r={};r[s]=o?o.state.size:0,r[t]=a?a.state.size:0,$Ps[s]=!1,$Ps[t]=!1,state[s]={},state[t]={},$Ts[s]&&$Ts[s].remove(),$Ts[t]&&$Ts[t].remove(),$Rs[s]&&$Rs[s].remove(),$Rs[t]&&$Rs[t].remove(),$Rs[s]=$Rs[t]=$Ts[s]=$Ts[t]=!1,n(o,t),n(a,s),o=a=r=null,$Ps[s]&&$Ps[s].css(_c.visible),$Ps[t]&&$Ps[t].css(_c.visible),resizeAll(),_runCallbacks("onswap_end",s),_runCallbacks("onswap_end",t)}},syncPinBtns=function(e,t){$.layout.plugins.buttons&&$.each(state[e].pins,function(i,n){$.layout.buttons.setPinState(Instance,$(n),e,t)})},$N=$(this).eq(0);if(!$N.length)return _log(options.errors.containerMissing);if($N.data("layoutContainer")&&$N.data("layout"))return $N.data("layout");var $Ps={},$Cs={},$Rs={},$Ts={},$Ms=$([]),sC=state.container,sID=state.id,Instance={options:options,state:state,container:$N,panes:$Ps,contents:$Cs,resizers:$Rs,togglers:$Ts,hide:hide,show:show,toggle:toggle,open:open,close:close,slideOpen:slideOpen,slideClose:slideClose,slideToggle:slideToggle,setSizeLimits:setSizeLimits,_sizePane:sizePane,sizePane:manualSizePane,sizeContent:sizeContent,swapPanes:swapPanes,showMasks:showMasks,hideMasks:hideMasks,initContent:initContent,addPane:addPane,removePane:removePane,createChildren:createChildren,refreshChildren:refreshChildren,enableClosable:enableClosable,disableClosable:disableClosable,enableSlidable:enableSlidable,disableSlidable:disableSlidable,enableResizable:enableResizable,disableResizable:disableResizable,allowOverflow:allowOverflow,resetOverflow:resetOverflow,destroy:destroy,initPanes:isInitialized,resizeAll:resizeAll,runCallbacks:_runCallbacks,hasParentLayout:!1,children:children,north:!1,south:!1,west:!1,east:!1,center:!1};return"cancel"===_create()?null:Instance}}(jQuery),function(e){e.ui||(e.ui={}),e.ui.cookie={acceptsCookies:!!navigator.cookieEnabled,read:function(t){for(var i,n=document.cookie,s=n?n.split(";"):[],o=0,a=s.length;a>o;o++)if(i=e.trim(s[o]).split("="),i[0]==t)return decodeURIComponent(i[1]);return null},write:function(t,i,n){var s="",o="",a=!1,r=n||{},l=r.expires||null,c=e.type(l);"date"===c?o=l:"string"===c&&l>0&&(l=parseInt(l,10),c="number"),"number"===c&&(o=new Date,l>0?o.setDate(o.getDate()+l):(o.setFullYear(1970),a=!0)),o&&(s+=";expires="+o.toUTCString()),r.path&&(s+=";path="+r.path),r.domain&&(s+=";domain="+r.domain),r.secure&&(s+=";secure"),document.cookie=t+"="+(a?"":encodeURIComponent(i))+s},clear:function(t){e.ui.cookie.write(t,"",{expires:-1})}},e.cookie||(e.cookie=function(t,i,n){var s=e.ui.cookie;if(null===i)s.clear(t);else{if(void 0===i)return s.read(t);s.write(t,i,n)}}),e.layout.plugins.stateManagement=!0,e.layout.config.optionRootKeys.push("stateManagement"),e.layout.defaults.stateManagement={enabled:!1,autoSave:!0,autoLoad:!0,animateLoad:!0,includeChildren:!0,stateKeys:"north.size,south.size,east.size,west.size,north.isClosed,south.isClosed,east.isClosed,west.isClosed,north.isHidden,south.isHidden,east.isHidden,west.isHidden",cookie:{name:"",domain:"",path:"",expires:"",secure:!1}},e.layout.optionsMap.layout.push("stateManagement"),e.layout.state={saveCookie:function(t,i,n){var s=t.options,o=s.stateManagement,a=e.extend(!0,{},o.cookie,n||null),r=t.state.stateData=t.readState(i||o.stateKeys);return e.ui.cookie.write(a.name||s.name||"Layout",e.layout.state.encodeJSON(r),a),e.extend(!0,{},r)},deleteCookie:function(t){var i=t.options;e.ui.cookie.clear(i.stateManagement.cookie.name||i.name||"Layout")},readCookie:function(t){var i=t.options,n=e.ui.cookie.read(i.stateManagement.cookie.name||i.name||"Layout");return n?e.layout.state.decodeJSON(n):{}},loadCookie:function(t){var i=e.layout.state.readCookie(t);return i&&(t.state.stateData=e.extend(!0,{},i),t.loadState(i)),i},loadState:function(t,i,n){if(e.isPlainObject(i)&&!e.isEmptyObject(i)){i=t.state.stateData=e.layout.transformData(i);var o=t.options.stateManagement;if(n=e.extend({animateLoad:!1,includeChildren:o.includeChildren},n),t.state.initialized){var a,r,l,c,d,u=!n.animateLoad;if(e.each(e.layout.config.borderPanes,function(n,o){a=i[o],e.isPlainObject(a)&&(s=a.size,r=a.initClosed,l=a.initHidden,ar=a.autoResize,c=t.state[o],d=c.isVisible,ar&&(c.autoResize=ar),d||t._sizePane(o,s,!1,!1,!1),l===!0?t.hide(o,u):r===!0?t.close(o,!1,u):r===!1?t.open(o,!1,u):l===!1&&t.show(o,!1,u),d&&t._sizePane(o,s,!1,!1,u))}),n.includeChildren){var h,p;e.each(t.children,function(t,n){h=i[t]?i[t].children:0,h&&n&&e.each(n,function(e,t){p=h[e],t&&p&&t.loadState(p)})})}}else{var a=e.extend(!0,{},i);e.each(e.layout.config.allPanes,function(e,t){a[t]&&delete a[t].children}),e.extend(!0,t.options,a)}}},readState:function(t,i){"string"===e.type(i)&&(i={keys:i}),i||(i={});var n,s,o,a,r,l,c,d=t.options.stateManagement,u=i.includeChildren,h=void 0!==u?u:d.includeChildren,p=i.stateKeys||d.stateKeys,f={isClosed:"initClosed",isHidden:"initHidden"},g=t.state,m=e.layout.config.allPanes,v={};e.isArray(p)&&(p=p.join(",")),p=p.replace(/__/g,".").split(",");for(var b=0,y=p.length;y>b;b++)n=p[b].split("."),s=n[0],o=n[1],0>e.inArray(s,m)||(a=g[s][o],void 0!=a&&("isClosed"==o&&g[s].isSliding&&(a=!0),(v[s]||(v[s]={}))[f[o]?f[o]:o]=a));return h&&e.each(m,function(i,n){l=t.children[n],r=g.stateData[n],e.isPlainObject(l)&&!e.isEmptyObject(l)&&(c=v[n]||(v[n]={}),c.children||(c.children={}),e.each(l,function(t,i){i.state.initialized?c.children[t]=e.layout.state.readState(i):r&&r.children&&r.children[t]&&(c.children[t]=e.extend(!0,{},r.children[t]))}))}),v},encodeJSON:function(t){function i(t){var n,s,o,a=[],r=0,l=e.isArray(t);for(n in t)s=t[n],o=typeof s,"string"==o?s='"'+s+'"':"object"==o&&(s=i(s)),a[r++]=(l?"":'"'+n+'":')+s;return(l?"[":"{")+a.join(",")+(l?"]":"}")}return i(t)},decodeJSON:function(t){try{return e.parseJSON?e.parseJSON(t):window.eval("("+t+")")||{}}catch(i){return{}}},_create:function(t){var i=e.layout.state,n=t.options,s=n.stateManagement;if(e.extend(t,{readCookie:function(){return i.readCookie(t)},deleteCookie:function(){i.deleteCookie(t)},saveCookie:function(e,n){return i.saveCookie(t,e,n)},loadCookie:function(){return i.loadCookie(t)},loadState:function(e,n){i.loadState(t,e,n)},readState:function(e){return i.readState(t,e)},encodeJSON:i.encodeJSON,decodeJSON:i.decodeJSON}),t.state.stateData={},s.autoLoad)if(e.isPlainObject(s.autoLoad))e.isEmptyObject(s.autoLoad)||t.loadState(s.autoLoad);else if(s.enabled)if(e.isFunction(s.autoLoad)){var o={};try{o=s.autoLoad(t,t.state,t.options,t.options.name||"")}catch(a){}o&&e.isPlainObject(o)&&!e.isEmptyObject(o)&&t.loadState(o)}else t.loadCookie()},_unload:function(t){var i=t.options.stateManagement;if(i.enabled&&i.autoSave)if(e.isFunction(i.autoSave))try{i.autoSave(t,t.state,t.options,t.options.name||"")}catch(n){}else t.saveCookie()}},e.layout.onCreate.push(e.layout.state._create),e.layout.onUnload.push(e.layout.state._unload),e.layout.plugins.buttons=!0,e.layout.defaults.autoBindCustomButtons=!1,e.layout.optionsMap.layout.push("autoBindCustomButtons"),e.layout.buttons={init:function(t){var i,n="ui-layout-button-",s=t.options.name||"";e.each("toggle,open,close,pin,toggle-slide,open-slide".split(","),function(o,a){e.each(e.layout.config.borderPanes,function(o,r){e("."+n+a+"-"+r).each(function(){i=e(this).data("layoutName")||e(this).attr("layoutName"),(void 0==i||i===s)&&t.bindButton(this,a,r)})})})},get:function(t,i,n,s){var o=e(i),a=t.options,r=a.errors.addButtonError;if(o.length)if(0>e.inArray(n,e.layout.config.borderPanes))e.layout.msg(r+" "+a.errors.pane+": "+n,!0),o=e("");else{var l=a[n].buttonClass+"-"+s;o.addClass(l+" "+l+"-"+n).data("layoutName",a.name)}else e.layout.msg(r+" "+a.errors.selector+": "+i,!0);return o},bind:function(t,i,n,s){var o=e.layout.buttons;switch(n.toLowerCase()){case"toggle":o.addToggle(t,i,s);break;case"open":o.addOpen(t,i,s);break;case"close":o.addClose(t,i,s);break;case"pin":o.addPin(t,i,s);break;case"toggle-slide":o.addToggle(t,i,s,!0);break;case"open-slide":o.addOpen(t,i,s,!0)}return t},addToggle:function(t,i,n,s){return e.layout.buttons.get(t,i,n,"toggle").click(function(e){t.toggle(n,!!s),e.stopPropagation()}),t},addOpen:function(t,i,n,s){return e.layout.buttons.get(t,i,n,"open").attr("title",t.options[n].tips.Open).click(function(e){t.open(n,!!s),e.stopPropagation()}),t},addClose:function(t,i,n){return e.layout.buttons.get(t,i,n,"close").attr("title",t.options[n].tips.Close).click(function(e){t.close(n),e.stopPropagation()}),t},addPin:function(t,i,n){var s=e.layout.buttons,o=s.get(t,i,n,"pin");if(o.length){var a=t.state[n];o.click(function(i){s.setPinState(t,e(this),n,a.isSliding||a.isClosed),a.isSliding||a.isClosed?t.open(n):t.close(n),i.stopPropagation()}),s.setPinState(t,o,n,!a.isClosed&&!a.isSliding),a.pins.push(i)}return t},setPinState:function(e,t,i,n){var s=t.attr("pin");if(!s||n!==("down"==s)){var o=e.options[i],a=o.buttonClass+"-pin",r=a+"-"+i,l=a+"-up "+r+"-up",c=a+"-down "+r+"-down";t.attr("pin",n?"down":"up").attr("title",n?o.tips.Unpin:o.tips.Pin).removeClass(n?l:c).addClass(n?c:l)}},syncPinBtns:function(t,i,n){e.each(t.state[i].pins,function(s,o){e.layout.buttons.setPinState(t,e(o),i,n)})},_load:function(t){var i=e.layout.buttons;e.extend(t,{bindButton:function(e,n,s){return i.bind(t,e,n,s)},addToggleBtn:function(e,n,s){return i.addToggle(t,e,n,s)},addOpenBtn:function(e,n,s){return i.addOpen(t,e,n,s)},addCloseBtn:function(e,n){return i.addClose(t,e,n)},addPinBtn:function(e,n){return i.addPin(t,e,n)}});for(var n=0;4>n;n++){var s=e.layout.config.borderPanes[n];t.state[s].pins=[]}t.options.autoBindCustomButtons&&i.init(t)},_unload:function(){}},e.layout.onLoad.push(e.layout.buttons._load),e.layout.plugins.browserZoom=!0,e.layout.defaults.browserZoomCheckInterval=1e3,e.layout.optionsMap.layout.push("browserZoomCheckInterval"),e.layout.browserZoom={_init:function(t){e.layout.browserZoom.ratio()!==!1&&e.layout.browserZoom._setTimer(t)},_setTimer:function(t){if(!t.destroyed){var i=t.options,n=t.state,s=t.hasParentLayout?5e3:Math.max(i.browserZoomCheckInterval,100);setTimeout(function(){if(!t.destroyed&&i.resizeWithWindow){var s=e.layout.browserZoom.ratio();s!==n.browserZoom&&(n.browserZoom=s,t.resizeAll()),e.layout.browserZoom._setTimer(t)}},s)}},ratio:function(){function t(e,t){return(100*(parseInt(e,10)/parseInt(t,10))).toFixed()}var i,n,s,o=window,a=screen,r=document,l=r.documentElement||r.body,c=e.layout.browser,d=c.version;return c.msie&&d>8||!c.msie?!1:a.deviceXDPI&&a.systemXDPI?t(a.deviceXDPI,a.systemXDPI):c.webkit&&(i=r.body.getBoundingClientRect)?t(i.left-i.right,r.body.offsetWidth):c.webkit&&(n=o.outerWidth)?t(n,o.innerWidth):(n=a.width)&&(s=l.clientWidth)?t(n,s):!1}},e.layout.onReady.push(e.layout.browserZoom._init)}($||jQuery),function(e){var t=new function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=e.split(""),n=[],s=0;e.length>s;s++)n[e.charAt(s)]=s;this.encode=function(e,t){return o(t?l(e):d(e))};var o=function(e){var i,n=e.length%3,s="",o=0;if(n)for(i=3-n;i>0;i--)e[e.length]=0;for(i=0;e.length>i;i+=3)o=e[i]<<16|e[i+1]<<8|e[i+2],s+=t[63&o>>>18]+t[63&o>>>12]+t[63&o>>>6]+t[63&o];if(n)for(n=3-n,s=s.substr(0,s.length-n);n--;)s+="=";return s};this.decode=function(e,t){var i=a(e);return t?r(i):c(i)};var a=function(e){e=e.replace(/[^A-Za-z0-9\+\/]/g,"");var t,i,s,o=e.length%4,a=[];if(o)for(i=0;4-o>i;i++)e+="A";for(t=i=0;e.length>i;i+=4,t+=3)s=n[e.charAt(i)]<<18|n[e.charAt(i+1)]<<12|n[e.charAt(i+2)]<<6|n[e.charAt(i+3)],a[t]=s>>>16,a[t+1]=255&s>>>8,a[t+2]=255&s;return o&&(a.length-=[0,0,2,1][o]),a},r=function(e){return i.packUTF8(e)},l=function(e){return i.unpackUTF8(e)},c=function(e){return i.packChar(e)},d=function(e){return i.unpackChar(e)}},i=new function(){this.unpackUTF16=function(e){var t,i=[];for(t=0;e.length>t;t++)i[t]=e.charCodeAt(t);return i},this.unpackChar=function(e){var t,i,n=this.unpackUTF16(e),s=[];for(i=t=0;n.length>t;t++)255>=n[t]?s[i++]=n[t]:(s[i++]=n[t]>>8,s[i++]=255&n[t]);return s},this.packChar=this.packUTF16=function(e){var t,i="";for(t in e)i+=String.fromCharCode(e[t]);return i},this.unpackUTF8=function(e){return this.toUTF8(this.unpackUTF16(e))},this.packUTF8=function(e){return this.packUTF16(this.toUTF16(e))},this.toUTF8=function(e){var t,i,n,s=[],o=0;for(t=0;e.length>t;t++)if(n=e[t],127>=n)s[o++]=n;else if(2047>=n)s[o++]=192|n>>>6,s[o++]=128|63&n;else if(65535>=n)s[o++]=224|n>>>12,s[o++]=128|63&n>>>6,s[o++]=128|63&n;else{for(i=4;n>>6*i;)i++;for(s[o++]=255&65280>>>i|n>>>6*--i;i--;)s[o++]=128|63&n>>>6*i}return s},this.toUTF16=function(e){var t,i,n=[],s=0;for(t=0;e.length>t;t++,s++)if(127>=e[t])n[s]=e[t];else if(6==e[t]>>5)n[s]=(31&e[t])<<6|63&e[++t];else if(14==e[t]>>4)n[s]=(15&e[t])<<12|(63&e[++t])<<6|63&e[++t];else{for(i=1;e[t]&32>>>i;)i++;for(n[s]=e[t]&31>>>i;i-->=0;)n[s]=n[s]<<6^63&e[++t]}return n},this.URLencode=function(e){return e.replace(/([^a-zA-Z0-9_\-\.])/g,function(e,t){if(" "==t)return"+";var n=i.toUTF8([t.charCodeAt(0)]),s="";for(var o in n)o=n[o].toString(16),1==o.length&&(o="0"+o),s+="%"+o;return s})},this.URLdecode=function(e){return e=e.replace(/\+/g," "),e=e.replace(/%([a-fA-F0-9][a-fA-F0-9])/g,function(e,t){return String.fromCharCode(parseInt(t,16))}),this.packChar(this.toUTF16(this.unpackUTF16(e)))}};e.extend({base64:{encode:t.encode,decode:t.decode,codec:"function"==typeof atob?"builtin":"alternate"}}),e.ajax=function(t){return function(i){var n=0;return i.dataType&&i.dataType.match(/:b64/)&&(i.dataType=i.dataType.replace(":b64",""),n=1),n&&(i.success=function(t){return function(i,n,s){i=e.base64.decode(i),t(i,n,s)}}(i.success||function(){})),t.apply(this,arguments)}}(e.ajax)}(jQuery),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var i,n,s,o,a,r=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?l+"":"null";case"boolean":case"null":return l+"";case"object":if(!l)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(l)){for(o=l.length,i=0;o>i;i+=1)a[i]=str(i,l)||"null";return s=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+r+"]":"["+a.join(",")+"]",gap=r,s}if(rep&&"object"==typeof rep)for(o=rep.length,i=0;o>i;i+=1)"string"==typeof rep[i]&&(n=rep[i],s=str(n,l),s&&a.push(quote(n)+(gap?": ":":")+s));else for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(s=str(n,l),s&&a.push(quote(n)+(gap?": ":":")+s));return s=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+r+"}":"{"+a.join(",")+"}",gap=r,s}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,i){var n;if(gap="",indent="","number"==typeof i)for(n=0;i>n;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var i,n,s=e[t];if(s&&"object"==typeof s)for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n=walk(s,i),void 0!==n?s[i]=n:delete s[i]);return reviver.call(e,t,s)}var j;if(text+="",cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(e,t,i){function n(e){var t={},n=/^jQuery\d+$/;return i.each(e.attributes,function(e,i){i.specified&&!n.test(i.name)&&(t[i.name]=i.value)}),t}function s(e,t){var n=this,s=i(n);if(n.value==s.attr("placeholder")&&s.hasClass("placeholder"))if(s.data("placeholder-password")){if(s=s.hide().next().show().attr("id",s.removeAttr("id").data("placeholder-id")),e===!0)return s[0].value=t;s.focus()}else n.value="",s.removeClass("placeholder"),n==a()&&n.select()}function o(){var e,t=this,o=i(t),a=this.id;if(""==t.value){if("password"==t.type){if(!o.data("placeholder-textinput")){try{e=o.clone().attr({type:"text"})}catch(r){e=i("<input>").attr(i.extend(n(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":o,"placeholder-id":a}).bind("focus.placeholder",s),o.data({"placeholder-textinput":e,"placeholder-id":a}).before(e)}o=o.removeAttr("id").hide().prev().attr("id",a).show()}o.addClass("placeholder"),o[0].value=o.attr("placeholder")}else o.removeClass("placeholder")}function a(){try{return t.activeElement}catch(e){}}var r,l,c="placeholder"in t.createElement("input"),d="placeholder"in t.createElement("textarea"),u=i.fn,h=i.valHooks,p=i.propHooks;c&&d?(l=u.placeholder=function(){return this},l.input=l.textarea=!0):(l=u.placeholder=function(){var e=this;return e.filter((c?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":s,"blur.placeholder":o}).data("placeholder-enabled",!0).trigger("blur.placeholder"),e},l.input=c,l.textarea=d,r={get:function(e){var t=i(e),n=t.data("placeholder-password");return n?n[0].value:t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,t){var n=i(e),r=n.data("placeholder-password");return r?r[0].value=t:n.data("placeholder-enabled")?(""==t?(e.value=t,e!=a()&&o.call(e)):n.hasClass("placeholder")?s.call(e,!0,t)||(e.value=t):e.value=t,n):e.value=t}},c||(h.input=r,p.value=r),d||(h.textarea=r,p.value=r),i(function(){i(t).delegate("form","submit.placeholder",function(){var e=i(".placeholder",this).each(s);setTimeout(function(){e.each(o)},10)})}),i(e).bind("beforeunload.placeholder",function(){i(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(e){return r.raw?e:encodeURIComponent(e)}function i(e){return r.raw?e:decodeURIComponent(e)}function n(e){return t(r.json?JSON.stringify(e):e+"")}function s(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{e=decodeURIComponent(e.replace(a," "))}catch(t){return}try{return r.json?JSON.parse(e):e}catch(t){}}function o(t,i){var n=r.raw?t:s(t);return e.isFunction(i)?i(n):n}var a=/\+/g,r=e.cookie=function(s,a,l){if(void 0!==a&&!e.isFunction(a)){if(l=e.extend({},r.defaults,l),"number"==typeof l.expires){var c=l.expires,d=l.expires=new Date;d.setDate(d.getDate()+c)}return document.cookie=[t(s),"=",n(a),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var u=s?void 0:{},h=document.cookie?document.cookie.split("; "):[],p=0,f=h.length;f>p;p++){var g=h[p].split("="),m=i(g.shift()),v=g.join("=");if(s&&s===m){u=o(v,a);break}s||void 0===(v=o(v))||(u[m]=v)}return u};r.defaults={},e.removeCookie=function(t,i){return void 0!==e.cookie(t)?(e.cookie(t,"",e.extend({},i,{expires:-1})),!0):!1
}}),function($){var settings={},roots={},caches={},_consts={className:{BUTTON:"button",LEVEL:"level",ICO_LOADING:"ico_loading",SWITCH:"switch"},event:{NODECREATED:"ztree_nodeCreated",CLICK:"ztree_click",EXPAND:"ztree_expand",COLLAPSE:"ztree_collapse",ASYNC_SUCCESS:"ztree_async_success",ASYNC_ERROR:"ztree_async_error"},id:{A:"_a",ICON:"_ico",SPAN:"_span",SWITCH:"_switch",UL:"_ul"},line:{ROOT:"root",ROOTS:"roots",CENTER:"center",BOTTOM:"bottom",NOLINE:"noline",LINE:"line"},folder:{OPEN:"open",CLOSE:"close",DOCU:"docu"},node:{CURSELECTED:"curSelectedNode"}},_setting={treeId:"",treeObj:null,view:{addDiyDom:null,autoCancelSelected:!0,dblClickExpand:!0,expandSpeed:"fast",fontCss:{},nameIsHTML:!1,selectedMulti:!0,showIcon:!0,showLine:!0,showTitle:!0},data:{key:{children:"children",name:"name",title:"",url:"url"},simpleData:{enable:!1,idKey:"id",pIdKey:"pId",rootPId:null},keep:{parent:!1,leaf:!1}},async:{enable:!1,contentType:"application/x-www-form-urlencoded",type:"post",dataType:"text",url:"",autoParam:[],otherParam:[],dataFilter:null},callback:{beforeAsync:null,beforeClick:null,beforeDblClick:null,beforeRightClick:null,beforeMouseDown:null,beforeMouseUp:null,beforeExpand:null,beforeCollapse:null,beforeRemove:null,onAsyncError:null,onAsyncSuccess:null,onNodeCreated:null,onClick:null,onDblClick:null,onRightClick:null,onMouseDown:null,onMouseUp:null,onExpand:null,onCollapse:null,onRemove:null}},_initRoot=function(e){var t=data.getRoot(e);t||(t={},data.setRoot(e,t)),t[e.data.key.children]=[],t.expandTriggerFlag=!1,t.curSelectedList=[],t.noSelection=!0,t.createdNodes=[],t.zId=0,t._ver=(new Date).getTime()},_initCache=function(e){var t=data.getCache(e);t||(t={},data.setCache(e,t)),t.nodes=[],t.doms=[]},_bindEvent=function(e){var t=e.treeObj,i=consts.event;t.bind(i.NODECREATED,function(t,i,n){tools.apply(e.callback.onNodeCreated,[t,i,n])}),t.bind(i.CLICK,function(t,i,n,s,o){tools.apply(e.callback.onClick,[i,n,s,o])}),t.bind(i.EXPAND,function(t,i,n){tools.apply(e.callback.onExpand,[t,i,n])}),t.bind(i.COLLAPSE,function(t,i,n){tools.apply(e.callback.onCollapse,[t,i,n])}),t.bind(i.ASYNC_SUCCESS,function(t,i,n,s){tools.apply(e.callback.onAsyncSuccess,[t,i,n,s])}),t.bind(i.ASYNC_ERROR,function(t,i,n,s,o,a){tools.apply(e.callback.onAsyncError,[t,i,n,s,o,a])})},_unbindEvent=function(e){var t=e.treeObj,i=consts.event;t.unbind(i.NODECREATED).unbind(i.CLICK).unbind(i.EXPAND).unbind(i.COLLAPSE).unbind(i.ASYNC_SUCCESS).unbind(i.ASYNC_ERROR)},_eventProxy=function(e){var t=e.target,i=data.getSetting(e.data.treeId),n="",s=null,o="",a="",r=null,l=null,c=null;if(tools.eqs(e.type,"mousedown")?a="mousedown":tools.eqs(e.type,"mouseup")?a="mouseup":tools.eqs(e.type,"contextmenu")?a="contextmenu":tools.eqs(e.type,"click")?tools.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+consts.id.SWITCH)?(n=tools.getNodeMainDom(t).id,o="switchNode"):(c=tools.getMDom(i,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]),c&&(n=tools.getNodeMainDom(c).id,o="clickNode")):tools.eqs(e.type,"dblclick")&&(a="dblclick",c=tools.getMDom(i,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]),c&&(n=tools.getNodeMainDom(c).id,o="switchNode")),a.length>0&&0==n.length&&(c=tools.getMDom(i,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]),c&&(n=tools.getNodeMainDom(c).id)),n.length>0)switch(s=data.getNodeCache(i,n),o){case"switchNode":s.isParent?tools.eqs(e.type,"click")||tools.eqs(e.type,"dblclick")&&tools.apply(i.view.dblClickExpand,[i.treeId,s],i.view.dblClickExpand)?r=handler.onSwitchNode:o="":o="";break;case"clickNode":r=handler.onClickNode}switch(a){case"mousedown":l=handler.onZTreeMousedown;break;case"mouseup":l=handler.onZTreeMouseup;break;case"dblclick":l=handler.onZTreeDblclick;break;case"contextmenu":l=handler.onZTreeContextmenu}var d={stop:!1,node:s,nodeEventType:o,nodeEventCallback:r,treeEventType:a,treeEventCallback:l};return d},_initNode=function(e,t,i,n,s,o){if(i){var a=data.getRoot(e),r=e.data.key.children;i.level=t,i.tId=e.treeId+"_"+ ++a.zId,i.parentTId=n?n.tId:null,i[r]&&i[r].length>0?("string"==typeof i.open&&(i.open=tools.eqs(i.open,"true")),i.open=!!i.open,i.isParent=!0,i.zAsync=!0):(i.open=!1,"string"==typeof i.isParent&&(i.isParent=tools.eqs(i.isParent,"true")),i.isParent=!!i.isParent,i.zAsync=!i.isParent),i.isFirstNode=s,i.isLastNode=o,i.getParentNode=function(){return data.getNodeCache(e,i.parentTId)},i.getPreNode=function(){return data.getPreNode(e,i)},i.getNextNode=function(){return data.getNextNode(e,i)},i.isAjaxing=!1,data.fixPIdKeyValue(e,i)}},_init={bind:[_bindEvent],unbind:[_unbindEvent],caches:[_initCache],nodes:[_initNode],proxys:[_eventProxy],roots:[_initRoot],beforeA:[],afterA:[],innerBeforeA:[],innerAfterA:[],zTreeTools:[]},data={addNodeCache:function(e,t){data.getCache(e).nodes[data.getNodeCacheId(t.tId)]=t},getNodeCacheId:function(e){return e.substring(e.lastIndexOf("_")+1)},addAfterA:function(e){_init.afterA.push(e)},addBeforeA:function(e){_init.beforeA.push(e)},addInnerAfterA:function(e){_init.innerAfterA.push(e)},addInnerBeforeA:function(e){_init.innerBeforeA.push(e)},addInitBind:function(e){_init.bind.push(e)},addInitUnBind:function(e){_init.unbind.push(e)},addInitCache:function(e){_init.caches.push(e)},addInitNode:function(e){_init.nodes.push(e)},addInitProxy:function(e,t){t?_init.proxys.splice(0,0,e):_init.proxys.push(e)},addInitRoot:function(e){_init.roots.push(e)},addNodesData:function(e,t,i){var n=e.data.key.children;t[n]||(t[n]=[]),t[n].length>0&&(t[n][t[n].length-1].isLastNode=!1,view.setNodeLineIcos(e,t[n][t[n].length-1])),t.isParent=!0,t[n]=t[n].concat(i)},addSelectedNode:function(e,t){var i=data.getRoot(e);data.isSelectedNode(e,t)||i.curSelectedList.push(t)},addCreatedNode:function(e,t){if(e.callback.onNodeCreated||e.view.addDiyDom){var i=data.getRoot(e);i.createdNodes.push(t)}},addZTreeTools:function(e){_init.zTreeTools.push(e)},exSetting:function(e){$.extend(!0,_setting,e)},fixPIdKeyValue:function(e,t){e.data.simpleData.enable&&(t[e.data.simpleData.pIdKey]=t.parentTId?t.getParentNode()[e.data.simpleData.idKey]:e.data.simpleData.rootPId)},getAfterA:function(){for(var e=0,t=_init.afterA.length;t>e;e++)_init.afterA[e].apply(this,arguments)},getBeforeA:function(){for(var e=0,t=_init.beforeA.length;t>e;e++)_init.beforeA[e].apply(this,arguments)},getInnerAfterA:function(){for(var e=0,t=_init.innerAfterA.length;t>e;e++)_init.innerAfterA[e].apply(this,arguments)},getInnerBeforeA:function(){for(var e=0,t=_init.innerBeforeA.length;t>e;e++)_init.innerBeforeA[e].apply(this,arguments)},getCache:function(e){return caches[e.treeId]},getNextNode:function(e,t){if(!t)return null;for(var i=e.data.key.children,n=t.parentTId?t.getParentNode():data.getRoot(e),s=0,o=n[i].length-1;o>=s;s++)if(n[i][s]===t)return s==o?null:n[i][s+1];return null},getNodeByParam:function(e,t,i,n){if(!t||!i)return null;for(var s=e.data.key.children,o=0,a=t.length;a>o;o++){if(t[o][i]==n)return t[o];var r=data.getNodeByParam(e,t[o][s],i,n);if(r)return r}return null},getNodeCache:function(e,t){if(!t)return null;var i=caches[e.treeId].nodes[data.getNodeCacheId(t)];return i?i:null},getNodeName:function(e,t){var i=e.data.key.name;return""+t[i]},getNodeTitle:function(e,t){var i=""===e.data.key.title?e.data.key.name:e.data.key.title;return""+t[i]},getNodes:function(e){return data.getRoot(e)[e.data.key.children]},getNodesByParam:function(e,t,i,n){if(!t||!i)return[];for(var s=e.data.key.children,o=[],a=0,r=t.length;r>a;a++)t[a][i]==n&&o.push(t[a]),o=o.concat(data.getNodesByParam(e,t[a][s],i,n));return o},getNodesByParamFuzzy:function(e,t,i,n){if(!t||!i)return[];var s=e.data.key.children,o=[];n=n.toLowerCase();for(var a=0,r=t.length;r>a;a++)"string"==typeof t[a][i]&&t[a][i].toLowerCase().indexOf(n)>-1&&o.push(t[a]),o=o.concat(data.getNodesByParamFuzzy(e,t[a][s],i,n));return o},getNodesByFilter:function(e,t,i,n,s){if(!t)return n?null:[];for(var o=e.data.key.children,a=n?null:[],r=0,l=t.length;l>r;r++){if(tools.apply(i,[t[r],s],!1)){if(n)return t[r];a.push(t[r])}var c=data.getNodesByFilter(e,t[r][o],i,n,s);if(n&&c)return c;a=n?c:a.concat(c)}return a},getPreNode:function(e,t){if(!t)return null;for(var i=e.data.key.children,n=t.parentTId?t.getParentNode():data.getRoot(e),s=0,o=n[i].length;o>s;s++)if(n[i][s]===t)return 0==s?null:n[i][s-1];return null},getRoot:function(e){return e?roots[e.treeId]:null},getRoots:function(){return roots},getSetting:function(e){return settings[e]},getSettings:function(){return settings},getZTreeTools:function(e){var t=this.getRoot(this.getSetting(e));return t?t.treeTools:null},initCache:function(){for(var e=0,t=_init.caches.length;t>e;e++)_init.caches[e].apply(this,arguments)},initNode:function(){for(var e=0,t=_init.nodes.length;t>e;e++)_init.nodes[e].apply(this,arguments)},initRoot:function(){for(var e=0,t=_init.roots.length;t>e;e++)_init.roots[e].apply(this,arguments)},isSelectedNode:function(e,t){for(var i=data.getRoot(e),n=0,s=i.curSelectedList.length;s>n;n++)if(t===i.curSelectedList[n])return!0;return!1},removeNodeCache:function(e,t){var i=e.data.key.children;if(t[i])for(var n=0,s=t[i].length;s>n;n++)arguments.callee(e,t[i][n]);data.getCache(e).nodes[data.getNodeCacheId(t.tId)]=null},removeSelectedNode:function(e,t){for(var i=data.getRoot(e),n=0,s=i.curSelectedList.length;s>n;n++)t!==i.curSelectedList[n]&&data.getNodeCache(e,i.curSelectedList[n].tId)||(i.curSelectedList.splice(n,1),n--,s--)},setCache:function(e,t){caches[e.treeId]=t},setRoot:function(e,t){roots[e.treeId]=t},setZTreeTools:function(){for(var e=0,t=_init.zTreeTools.length;t>e;e++)_init.zTreeTools[e].apply(this,arguments)},transformToArrayFormat:function(e,t){if(!t)return[];var i=e.data.key.children,n=[];if(tools.isArray(t))for(var s=0,o=t.length;o>s;s++)n.push(t[s]),t[s][i]&&(n=n.concat(data.transformToArrayFormat(e,t[s][i])));else n.push(t),t[i]&&(n=n.concat(data.transformToArrayFormat(e,t[i])));return n},transformTozTreeFormat:function(e,t){var i,n,s=e.data.simpleData.idKey,o=e.data.simpleData.pIdKey,a=e.data.key.children;if(!s||""==s||!t)return[];if(tools.isArray(t)){var r=[],l=[];for(i=0,n=t.length;n>i;i++)l[t[i][s]]=t[i];for(i=0,n=t.length;n>i;i++)l[t[i][o]]&&t[i][s]!=t[i][o]?(l[t[i][o]][a]||(l[t[i][o]][a]=[]),l[t[i][o]][a].push(t[i])):r.push(t[i]);return r}return[t]}},event={bindEvent:function(){for(var e=0,t=_init.bind.length;t>e;e++)_init.bind[e].apply(this,arguments)},unbindEvent:function(){for(var e=0,t=_init.unbind.length;t>e;e++)_init.unbind[e].apply(this,arguments)},bindTree:function(e){var t={treeId:e.treeId},i=e.treeObj;i.bind("selectstart",function(e){var t=e.originalEvent.srcElement.nodeName.toLowerCase();return"input"===t||"textarea"===t}).css({"-moz-user-select":"-moz-none"}),i.bind("click",t,event.proxy),i.bind("dblclick",t,event.proxy),i.bind("mouseover",t,event.proxy),i.bind("mouseout",t,event.proxy),i.bind("mousedown",t,event.proxy),i.bind("mouseup",t,event.proxy),i.bind("contextmenu",t,event.proxy)},unbindTree:function(e){var t=e.treeObj;t.unbind("click",event.proxy).unbind("dblclick",event.proxy).unbind("mouseover",event.proxy).unbind("mouseout",event.proxy).unbind("mousedown",event.proxy).unbind("mouseup",event.proxy).unbind("contextmenu",event.proxy)},doProxy:function(){for(var e=[],t=0,i=_init.proxys.length;i>t;t++){var n=_init.proxys[t].apply(this,arguments);if(e.push(n),n.stop)break}return e},proxy:function(e){var t=data.getSetting(e.data.treeId);if(!tools.uCanDo(t,e))return!0;for(var i=event.doProxy(e),n=!0,s=!1,o=0,a=i.length;a>o;o++){var r=i[o];r.nodeEventCallback&&(s=!0,n=r.nodeEventCallback.apply(r,[e,r.node])&&n),r.treeEventCallback&&(s=!0,n=r.treeEventCallback.apply(r,[e,r.node])&&n)}return n}},handler={onSwitchNode:function(e,t){var i=data.getSetting(e.data.treeId);if(t.open){if(0==tools.apply(i.callback.beforeCollapse,[i.treeId,t],!0))return!0;data.getRoot(i).expandTriggerFlag=!0,view.switchNode(i,t)}else{if(0==tools.apply(i.callback.beforeExpand,[i.treeId,t],!0))return!0;data.getRoot(i).expandTriggerFlag=!0,view.switchNode(i,t)}return!0},onClickNode:function(e,t){var i=data.getSetting(e.data.treeId),n=i.view.autoCancelSelected&&e.ctrlKey&&data.isSelectedNode(i,t)?0:i.view.autoCancelSelected&&e.ctrlKey&&i.view.selectedMulti?2:1;return 0==tools.apply(i.callback.beforeClick,[i.treeId,t,n],!0)?!0:(0===n?view.cancelPreSelectedNode(i,t):view.selectNode(i,t,2===n),i.treeObj.trigger(consts.event.CLICK,[e,i.treeId,t,n]),!0)},onZTreeMousedown:function(e,t){var i=data.getSetting(e.data.treeId);return tools.apply(i.callback.beforeMouseDown,[i.treeId,t],!0)&&tools.apply(i.callback.onMouseDown,[e,i.treeId,t]),!0},onZTreeMouseup:function(e,t){var i=data.getSetting(e.data.treeId);return tools.apply(i.callback.beforeMouseUp,[i.treeId,t],!0)&&tools.apply(i.callback.onMouseUp,[e,i.treeId,t]),!0},onZTreeDblclick:function(e,t){var i=data.getSetting(e.data.treeId);return tools.apply(i.callback.beforeDblClick,[i.treeId,t],!0)&&tools.apply(i.callback.onDblClick,[e,i.treeId,t]),!0},onZTreeContextmenu:function(e,t){var i=data.getSetting(e.data.treeId);return tools.apply(i.callback.beforeRightClick,[i.treeId,t],!0)&&tools.apply(i.callback.onRightClick,[e,i.treeId,t]),"function"!=typeof i.callback.onRightClick}},tools={apply:function(e,t,i){return"function"==typeof e?e.apply(zt,t?t:[]):i},canAsync:function(e,t){var i=e.data.key.children;return e.async.enable&&t&&t.isParent&&!(t.zAsync||t[i]&&t[i].length>0)},clone:function(e){if(null===e)return null;var t=tools.isArray(e)?[]:{};for(var i in e)t[i]=e[i]instanceof Date?new Date(e[i].getTime()):"object"==typeof e[i]?arguments.callee(e[i]):e[i];return t},eqs:function(e,t){return e.toLowerCase()===t.toLowerCase()},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},$:function(e,t,i){return t&&"string"!=typeof t&&(i=t,t=""),"string"==typeof e?$(e,i?i.treeObj.get(0).ownerDocument:null):$("#"+e.tId+t,i?i.treeObj:null)},getMDom:function(e,t,i){if(!t)return null;for(;t&&t.id!==e.treeId;){for(var n=0,s=i.length;t.tagName&&s>n;n++)if(tools.eqs(t.tagName,i[n].tagName)&&null!==t.getAttribute(i[n].attrName))return t;t=t.parentNode}return null},getNodeMainDom:function(e){return $(e).parent("li").get(0)||$(e).parentsUntil("li").parent().get(0)},uCanDo:function(){return!0}},view={addNodes:function(e,t,i,n){if(!e.data.keep.leaf||!t||t.isParent)if(tools.isArray(i)||(i=[i]),e.data.simpleData.enable&&(i=data.transformTozTreeFormat(e,i)),t){var s=$$(t,consts.id.SWITCH,e),o=$$(t,consts.id.ICON,e),a=$$(t,consts.id.UL,e);t.open||(view.replaceSwitchClass(t,s,consts.folder.CLOSE),view.replaceIcoClass(t,o,consts.folder.CLOSE),t.open=!1,a.css({display:"none"})),data.addNodesData(e,t,i),view.createNodes(e,t.level+1,i,t),n||view.expandCollapseParentNode(e,t,!0)}else data.addNodesData(e,data.getRoot(e),i),view.createNodes(e,0,i,null)},appendNodes:function(e,t,i,n,s,o){if(!i)return[];for(var a=[],r=e.data.key.children,l=0,c=i.length;c>l;l++){var d=i[l];if(s){var u=n?n:data.getRoot(e),h=u[r],p=h.length==i.length&&0==l,f=l==i.length-1;data.initNode(e,t,d,n,p,f,o),data.addNodeCache(e,d)}var g=[];d[r]&&d[r].length>0&&(g=view.appendNodes(e,t+1,d[r],d,s,o&&d.open)),o&&(view.makeDOMNodeMainBefore(a,e,d),view.makeDOMNodeLine(a,e,d),data.getBeforeA(e,d,a),view.makeDOMNodeNameBefore(a,e,d),data.getInnerBeforeA(e,d,a),view.makeDOMNodeIcon(a,e,d),data.getInnerAfterA(e,d,a),view.makeDOMNodeNameAfter(a,e,d),data.getAfterA(e,d,a),d.isParent&&d.open&&view.makeUlHtml(e,d,a,g.join("")),view.makeDOMNodeMainAfter(a,e,d),data.addCreatedNode(e,d))}return a},appendParentULDom:function(e,t){var i=[],n=$$(t,e);!n.get(0)&&t.parentTId&&(view.appendParentULDom(e,t.getParentNode()),n=$$(t,e));var s=$$(t,consts.id.UL,e);s.get(0)&&s.remove();var o=e.data.key.children,a=view.appendNodes(e,t.level+1,t[o],t,!1,!0);view.makeUlHtml(e,t,i,a.join("")),n.append(i.join(""))},asyncNode:function(setting,node,isSilent,callback){var i,l;if(node&&!node.isParent)return tools.apply(callback),!1;if(node&&node.isAjaxing)return!1;if(0==tools.apply(setting.callback.beforeAsync,[setting.treeId,node],!0))return tools.apply(callback),!1;if(node){node.isAjaxing=!0;var icoObj=$$(node,consts.id.ICON,setting);icoObj.attr({style:"","class":consts.className.BUTTON+" "+consts.className.ICO_LOADING})}var tmpParam={};for(i=0,l=setting.async.autoParam.length;node&&l>i;i++){var pKey=setting.async.autoParam[i].split("="),spKey=pKey;pKey.length>1&&(spKey=pKey[1],pKey=pKey[0]),tmpParam[spKey]=node[pKey]}if(tools.isArray(setting.async.otherParam))for(i=0,l=setting.async.otherParam.length;l>i;i+=2)tmpParam[setting.async.otherParam[i]]=setting.async.otherParam[i+1];else for(var p in setting.async.otherParam)tmpParam[p]=setting.async.otherParam[p];var _tmpV=data.getRoot(setting)._ver;return $.ajax({contentType:setting.async.contentType,type:setting.async.type,url:tools.apply(setting.async.url,[setting.treeId,node],setting.async.url),data:tmpParam,dataType:setting.async.dataType,success:function(msg){if(_tmpV==data.getRoot(setting)._ver){var newNodes=[];try{newNodes=msg&&0!=msg.length?"string"==typeof msg?eval("("+msg+")"):msg:[]}catch(err){newNodes=msg}node&&(node.isAjaxing=null,node.zAsync=!0),view.setNodeLineIcos(setting,node),newNodes&&""!==newNodes?(newNodes=tools.apply(setting.async.dataFilter,[setting.treeId,node,newNodes],newNodes),view.addNodes(setting,node,newNodes?tools.clone(newNodes):[],!!isSilent)):view.addNodes(setting,node,[],!!isSilent),setting.treeObj.trigger(consts.event.ASYNC_SUCCESS,[setting.treeId,node,msg]),tools.apply(callback)}},error:function(e,t,i){_tmpV==data.getRoot(setting)._ver&&(node&&(node.isAjaxing=null),view.setNodeLineIcos(setting,node),setting.treeObj.trigger(consts.event.ASYNC_ERROR,[setting.treeId,node,e,t,i]))}}),!0},cancelPreSelectedNode:function(e,t){for(var i=data.getRoot(e).curSelectedList,n=0,s=i.length-1;s>=n;s--)if((!t||t===i[s])&&($$(i[s],consts.id.A,e).removeClass(consts.node.CURSELECTED),t)){data.removeSelectedNode(e,t);break}t||(data.getRoot(e).curSelectedList=[])},createNodeCallback:function(e){if(e.callback.onNodeCreated||e.view.addDiyDom)for(var t=data.getRoot(e);t.createdNodes.length>0;){var i=t.createdNodes.shift();tools.apply(e.view.addDiyDom,[e.treeId,i]),e.callback.onNodeCreated&&e.treeObj.trigger(consts.event.NODECREATED,[e.treeId,i])}},createNodes:function(e,t,i,n){if(i&&0!=i.length){var s=data.getRoot(e),o=e.data.key.children,a=!n||n.open||!!$$(n[o][0],e).get(0);s.createdNodes=[];var r=view.appendNodes(e,t,i,n,!0,a);if(n){var l=$$(n,consts.id.UL,e);l.get(0)&&l.append(r.join(""))}else e.treeObj.append(r.join(""));view.createNodeCallback(e)}},destroy:function(e){e&&(data.initCache(e),data.initRoot(e),event.unbindTree(e),event.unbindEvent(e),e.treeObj.empty())},expandCollapseNode:function(e,t,i,n,s){var o=data.getRoot(e),a=e.data.key.children;if(!t)return tools.apply(s,[]),void 0;if(o.expandTriggerFlag){var r=s;s=function(){r&&r(),t.open?e.treeObj.trigger(consts.event.EXPAND,[e.treeId,t]):e.treeObj.trigger(consts.event.COLLAPSE,[e.treeId,t])},o.expandTriggerFlag=!1}if(!t.open&&t.isParent&&(!$$(t,consts.id.UL,e).get(0)||t[a]&&t[a].length>0&&!$$(t[a][0],e).get(0))&&(view.appendParentULDom(e,t),view.createNodeCallback(e)),t.open==i)return tools.apply(s,[]),void 0;var l=$$(t,consts.id.UL,e),c=$$(t,consts.id.SWITCH,e),d=$$(t,consts.id.ICON,e);t.isParent?(t.open=!t.open,t.iconOpen&&t.iconClose&&d.attr("style",view.makeNodeIcoStyle(e,t)),t.open?(view.replaceSwitchClass(t,c,consts.folder.OPEN),view.replaceIcoClass(t,d,consts.folder.OPEN),0==n||""==e.view.expandSpeed?(l.show(),tools.apply(s,[])):t[a]&&t[a].length>0?l.slideDown(e.view.expandSpeed,s):(l.show(),tools.apply(s,[]))):(view.replaceSwitchClass(t,c,consts.folder.CLOSE),view.replaceIcoClass(t,d,consts.folder.CLOSE),0!=n&&""!=e.view.expandSpeed&&t[a]&&t[a].length>0?l.slideUp(e.view.expandSpeed,s):(l.hide(),tools.apply(s,[])))):tools.apply(s,[])},expandCollapseParentNode:function(e,t,i,n,s){if(t){if(!t.parentTId)return view.expandCollapseNode(e,t,i,n,s),void 0;view.expandCollapseNode(e,t,i,n),t.parentTId&&view.expandCollapseParentNode(e,t.getParentNode(),i,n,s)}},expandCollapseSonNode:function(e,t,i,n,s){var o=data.getRoot(e),a=e.data.key.children,r=t?t[a]:o[a],l=t?!1:n,c=data.getRoot(e).expandTriggerFlag;if(data.getRoot(e).expandTriggerFlag=!1,r)for(var d=0,u=r.length;u>d;d++)r[d]&&view.expandCollapseSonNode(e,r[d],i,l);data.getRoot(e).expandTriggerFlag=c,view.expandCollapseNode(e,t,i,n,s)},makeDOMNodeIcon:function(e,t,i){var n=data.getNodeName(t,i),s=t.view.nameIsHTML?n:n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");e.push("<span id='",i.tId,consts.id.ICON,"' title='' treeNode",consts.id.ICON," class='",view.makeNodeIcoClass(t,i),"' style='",view.makeNodeIcoStyle(t,i),"'></span><span id='",i.tId,consts.id.SPAN,"'>",s,"</span>")},makeDOMNodeLine:function(e,t,i){e.push("<span id='",i.tId,consts.id.SWITCH,"' title='' class='",view.makeNodeLineClass(t,i),"' treeNode",consts.id.SWITCH,"></span>")},makeDOMNodeMainAfter:function(e){e.push("</li>")},makeDOMNodeMainBefore:function(e,t,i){e.push("<li id='",i.tId,"' class='",consts.className.LEVEL,i.level,"' tabindex='0' hidefocus='true' treenode>")},makeDOMNodeNameAfter:function(e){e.push("</a>")},makeDOMNodeNameBefore:function(e,t,i){var n=data.getNodeTitle(t,i),s=view.makeNodeUrl(t,i),o=view.makeNodeFontCss(t,i),a=[];for(var r in o)a.push(r,":",o[r],";");e.push("<a id='",i.tId,consts.id.A,"' class='",consts.className.LEVEL,i.level,"' treeNode",consts.id.A,' onclick="',i.click||"",'" ',null!=s&&s.length>0?"href='"+s+"'":""," target='",view.makeNodeTarget(i),"' style='",a.join(""),"'"),tools.apply(t.view.showTitle,[t.treeId,i],t.view.showTitle)&&n&&e.push("title='",n.replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"'"),e.push(">")},makeNodeFontCss:function(e,t){var i=tools.apply(e.view.fontCss,[e.treeId,t],e.view.fontCss);return i&&"function"!=typeof i?i:{}},makeNodeIcoClass:function(e,t){var i=["ico"];return t.isAjaxing||(i[0]=(t.iconSkin?t.iconSkin+"_":"")+i[0],t.isParent?i.push(t.open?consts.folder.OPEN:consts.folder.CLOSE):i.push(consts.folder.DOCU)),consts.className.BUTTON+" "+i.join("_")},makeNodeIcoStyle:function(e,t){var i=[];if(!t.isAjaxing){var n=t.isParent&&t.iconOpen&&t.iconClose?t.open?t.iconOpen:t.iconClose:t.icon;n&&i.push("background:url(",n,") 0 0 no-repeat;"),0!=e.view.showIcon&&tools.apply(e.view.showIcon,[e.treeId,t],!0)||i.push("width:0px;height:0px;")}return i.join("")},makeNodeLineClass:function(e,t){var i=[];return e.view.showLine?0==t.level&&t.isFirstNode&&t.isLastNode?i.push(consts.line.ROOT):0==t.level&&t.isFirstNode?i.push(consts.line.ROOTS):t.isLastNode?i.push(consts.line.BOTTOM):i.push(consts.line.CENTER):i.push(consts.line.NOLINE),t.isParent?i.push(t.open?consts.folder.OPEN:consts.folder.CLOSE):i.push(consts.folder.DOCU),view.makeNodeLineClassEx(t)+i.join("_")},makeNodeLineClassEx:function(e){return consts.className.BUTTON+" "+consts.className.LEVEL+e.level+" "+consts.className.SWITCH+" "},makeNodeTarget:function(e){return e.target||"_blank"},makeNodeUrl:function(e,t){var i=e.data.key.url;return t[i]?t[i]:null},makeUlHtml:function(e,t,i,n){i.push("<ul id='",t.tId,consts.id.UL,"' class='",consts.className.LEVEL,t.level," ",view.makeUlLineClass(e,t),"' style='display:",t.open?"block":"none","'>"),i.push(n),i.push("</ul>")},makeUlLineClass:function(e,t){return e.view.showLine&&!t.isLastNode?consts.line.LINE:""},removeChildNodes:function(e,t){if(t){var i=e.data.key.children,n=t[i];if(n){for(var s=0,o=n.length;o>s;s++)data.removeNodeCache(e,n[s]);if(data.removeSelectedNode(e),delete t[i],e.data.keep.parent)$$(t,consts.id.UL,e).empty();else{t.isParent=!1,t.open=!1;var a=$$(t,consts.id.SWITCH,e),r=$$(t,consts.id.ICON,e);view.replaceSwitchClass(t,a,consts.folder.DOCU),view.replaceIcoClass(t,r,consts.folder.DOCU),$$(t,consts.id.UL,e).remove()}}}},setFirstNode:function(e,t){var i=e.data.key.children,n=t[i].length;n>0&&(t[i][0].isFirstNode=!0)},setLastNode:function(e,t){var i=e.data.key.children,n=t[i].length;n>0&&(t[i][n-1].isLastNode=!0)},removeNode:function(e,t){var i=data.getRoot(e),n=e.data.key.children,s=t.parentTId?t.getParentNode():i;if(t.isFirstNode=!1,t.isLastNode=!1,t.getPreNode=function(){return null},t.getNextNode=function(){return null},data.getNodeCache(e,t.tId)){$$(t,e).remove(),data.removeNodeCache(e,t),data.removeSelectedNode(e,t);for(var o=0,a=s[n].length;a>o;o++)if(s[n][o].tId==t.tId){s[n].splice(o,1);break}view.setFirstNode(e,s),view.setLastNode(e,s);var r,l,c,d=s[n].length;if(e.data.keep.parent||0!=d){if(e.view.showLine&&d>0){var u=s[n][d-1];if(r=$$(u,consts.id.UL,e),l=$$(u,consts.id.SWITCH,e),c=$$(u,consts.id.ICON,e),s==i)if(1==s[n].length)view.replaceSwitchClass(u,l,consts.line.ROOT);else{var h=$$(s[n][0],consts.id.SWITCH,e);view.replaceSwitchClass(s[n][0],h,consts.line.ROOTS),view.replaceSwitchClass(u,l,consts.line.BOTTOM)}else view.replaceSwitchClass(u,l,consts.line.BOTTOM);r.removeClass(consts.line.LINE)}}else s.isParent=!1,s.open=!1,r=$$(s,consts.id.UL,e),l=$$(s,consts.id.SWITCH,e),c=$$(s,consts.id.ICON,e),view.replaceSwitchClass(s,l,consts.folder.DOCU),view.replaceIcoClass(s,c,consts.folder.DOCU),r.css("display","none")}},replaceIcoClass:function(e,t,i){if(t&&!e.isAjaxing){var n=t.attr("class");if(void 0!=n){var s=n.split("_");switch(i){case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:s[s.length-1]=i}t.attr("class",s.join("_"))}}},replaceSwitchClass:function(e,t,i){if(t){var n=t.attr("class");if(void 0!=n){var s=n.split("_");switch(i){case consts.line.ROOT:case consts.line.ROOTS:case consts.line.CENTER:case consts.line.BOTTOM:case consts.line.NOLINE:s[0]=view.makeNodeLineClassEx(e)+i;break;case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:s[1]=i}t.attr("class",s.join("_")),i!==consts.folder.DOCU?t.removeAttr("disabled"):t.attr("disabled","disabled")}}},selectNode:function(e,t,i){i||view.cancelPreSelectedNode(e),$$(t,consts.id.A,e).addClass(consts.node.CURSELECTED),data.addSelectedNode(e,t)},setNodeFontCss:function(e,t){var i=$$(t,consts.id.A,e),n=view.makeNodeFontCss(e,t);n&&i.css(n)},setNodeLineIcos:function(e,t){if(t){var i=$$(t,consts.id.SWITCH,e),n=$$(t,consts.id.UL,e),s=$$(t,consts.id.ICON,e),o=view.makeUlLineClass(e,t);0==o.length?n.removeClass(consts.line.LINE):n.addClass(o),i.attr("class",view.makeNodeLineClass(e,t)),t.isParent?i.removeAttr("disabled"):i.attr("disabled","disabled"),s.removeAttr("style"),s.attr("style",view.makeNodeIcoStyle(e,t)),s.attr("class",view.makeNodeIcoClass(e,t))}},setNodeName:function(e,t){var i=data.getNodeTitle(e,t),n=$$(t,consts.id.SPAN,e);if(n.empty(),e.view.nameIsHTML?n.html(data.getNodeName(e,t)):n.text(data.getNodeName(e,t)),tools.apply(e.view.showTitle,[e.treeId,t],e.view.showTitle)){var s=$$(t,consts.id.A,e);s.attr("title",i?i:"")}},setNodeTarget:function(e,t){var i=$$(t,consts.id.A,e);i.attr("target",view.makeNodeTarget(t))},setNodeUrl:function(e,t){var i=$$(t,consts.id.A,e),n=view.makeNodeUrl(e,t);null==n||0==n.length?i.removeAttr("href"):i.attr("href",n)},switchNode:function(e,t){if(t.open||!tools.canAsync(e,t))view.expandCollapseNode(e,t,!t.open);else if(e.async.enable){if(!view.asyncNode(e,t))return view.expandCollapseNode(e,t,!t.open),void 0}else t&&view.expandCollapseNode(e,t,!t.open)}};$.fn.zTree={consts:_consts,_z:{tools:tools,view:view,event:event,data:data},getZTreeObj:function(e){var t=data.getZTreeTools(e);return t?t:null},destroy:function(e){if(e&&e.length>0)view.destroy(data.getSetting(e));else for(var t in settings)view.destroy(settings[t])},init:function(e,t,i){var n=tools.clone(_setting);$.extend(!0,n,t),n.treeId=e.attr("id"),n.treeObj=e,n.treeObj.empty(),settings[n.treeId]=n,document.body.style.maxHeight===void 0&&(n.view.expandSpeed=""),data.initRoot(n);var s=data.getRoot(n),o=n.data.key.children;i=i?tools.clone(tools.isArray(i)?i:[i]):[],s[o]=n.data.simpleData.enable?data.transformTozTreeFormat(n,i):i,data.initCache(n),event.unbindTree(n),event.bindTree(n),event.unbindEvent(n),event.bindEvent(n);var a={setting:n,addNodes:function(e,t,i){function s(){view.addNodes(n,e,o,1==i)}if(!t)return null;if(e||(e=null),e&&!e.isParent&&n.data.keep.leaf)return null;var o=tools.clone(tools.isArray(t)?t:[t]);return tools.canAsync(n,e)?view.asyncNode(n,e,i,s):s(),o},cancelSelectedNode:function(e){view.cancelPreSelectedNode(n,e)},destroy:function(){view.destroy(n)},expandAll:function(e){return e=!!e,view.expandCollapseSonNode(n,null,e,!0),e},expandNode:function(e,t,i,s,o){if(!e||!e.isParent)return null;if(t!==!0&&t!==!1&&(t=!e.open),o=!!o,o&&t&&0==tools.apply(n.callback.beforeExpand,[n.treeId,e],!0))return null;if(o&&!t&&0==tools.apply(n.callback.beforeCollapse,[n.treeId,e],!0))return null;if(t&&e.parentTId&&view.expandCollapseParentNode(n,e.getParentNode(),t,!1),t===e.open&&!i)return null;if(data.getRoot(n).expandTriggerFlag=o,!tools.canAsync(n,e)&&i)view.expandCollapseSonNode(n,e,t,!0,function(){if(s!==!1)try{$$(e,n).focus().blur()}catch(t){}});else if(e.open=!t,view.switchNode(this.setting,e),s!==!1)try{$$(e,n).focus().blur()}catch(a){}return t},getNodes:function(){return data.getNodes(n)},getNodeByParam:function(e,t,i){return e?data.getNodeByParam(n,i?i[n.data.key.children]:data.getNodes(n),e,t):null},getNodeByTId:function(e){return data.getNodeCache(n,e)},getNodesByParam:function(e,t,i){return e?data.getNodesByParam(n,i?i[n.data.key.children]:data.getNodes(n),e,t):null},getNodesByParamFuzzy:function(e,t,i){return e?data.getNodesByParamFuzzy(n,i?i[n.data.key.children]:data.getNodes(n),e,t):null},getNodesByFilter:function(e,t,i,s){return t=!!t,e&&"function"==typeof e?data.getNodesByFilter(n,i?i[n.data.key.children]:data.getNodes(n),e,t,s):t?null:[]},getNodeIndex:function(e){if(!e)return null;for(var t=n.data.key.children,i=e.parentTId?e.getParentNode():data.getRoot(n),s=0,o=i[t].length;o>s;s++)if(i[t][s]==e)return s;return-1},getSelectedNodes:function(){for(var e=[],t=data.getRoot(n).curSelectedList,i=0,s=t.length;s>i;i++)e.push(t[i]);return e},isSelectedNode:function(e){return data.isSelectedNode(n,e)},reAsyncChildNodes:function(e,t,i){if(this.setting.async.enable){var s=!e;if(s&&(e=data.getRoot(n)),"refresh"==t){for(var o=this.setting.data.key.children,a=0,r=e[o]?e[o].length:0;r>a;a++)data.removeNodeCache(n,e[o][a]);if(data.removeSelectedNode(n),e[o]=[],s)this.setting.treeObj.empty();else{var l=$$(e,consts.id.UL,n);l.empty()}}view.asyncNode(this.setting,s?null:e,!!i)}},refresh:function(){this.setting.treeObj.empty();var e=data.getRoot(n),t=e[n.data.key.children];data.initRoot(n),e[n.data.key.children]=t,data.initCache(n),view.createNodes(n,0,e[n.data.key.children])},removeChildNodes:function(e){if(!e)return null;var t=n.data.key.children,i=e[t];return view.removeChildNodes(n,e),i?i:null},removeNode:function(e,t){e&&(t=!!t,t&&0==tools.apply(n.callback.beforeRemove,[n.treeId,e],!0)||(view.removeNode(n,e),t&&this.setting.treeObj.trigger(consts.event.REMOVE,[n.treeId,e])))},selectNode:function(e,t){if(e&&tools.uCanDo(n)){if(t=n.view.selectedMulti&&t,e.parentTId)view.expandCollapseParentNode(n,e.getParentNode(),!0,!1,function(){try{$$(e,n).focus().blur()}catch(t){}});else try{$$(e,n).focus().blur()}catch(i){}view.selectNode(n,e,t)}},transformTozTreeNodes:function(e){return data.transformTozTreeFormat(n,e)},transformToArray:function(e){return data.transformToArrayFormat(n,e)},updateNode:function(e){if(e){var t=$$(e,n);t.get(0)&&tools.uCanDo(n)&&(view.setNodeName(n,e),view.setNodeTarget(n,e),view.setNodeUrl(n,e),view.setNodeLineIcos(n,e),view.setNodeFontCss(n,e))}}};return s.treeTools=a,data.setZTreeTools(n,a),s[o]&&s[o].length>0?view.createNodes(n,0,s[o]):n.async.enable&&n.async.url&&""!==n.async.url&&view.asyncNode(n),a}};var zt=$.fn.zTree,$$=tools.$,consts=zt.consts}(jQuery),function(e){var t={event:{CHECK:"ztree_check"},id:{CHECK:"_check"},checkbox:{STYLE:"checkbox",DEFAULT:"chk",DISABLED:"disable",FALSE:"false",TRUE:"true",FULL:"full",PART:"part",FOCUS:"focus"},radio:{STYLE:"radio",TYPE_ALL:"all",TYPE_LEVEL:"level"}},i={check:{enable:!1,autoCheckTrigger:!1,chkStyle:t.checkbox.STYLE,nocheckInherit:!1,chkDisabledInherit:!1,radioType:t.radio.TYPE_LEVEL,chkboxType:{Y:"ps",N:"ps"}},data:{key:{checked:"checked"}},callback:{beforeCheck:null,onCheck:null}},n=function(e){var t=_.getRoot(e);
t.radioCheckedList=[]},s=function(){},o=function(e){var t=e.treeObj,i=y.event;t.bind(i.CHECK,function(t,i,n,s){b.apply(e.callback.onCheck,[i?i:t,n,s])})},a=function(e){var t=e.treeObj,i=y.event;t.unbind(i.CHECK)},r=function(e){var t=e.target,i=_.getSetting(e.data.treeId),n="",s=null,o="",a="",r=null,l=null;if(b.eqs(e.type,"mouseover")?i.check.enable&&b.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+y.id.CHECK)&&(n=b.getNodeMainDom(t).id,o="mouseoverCheck"):b.eqs(e.type,"mouseout")?i.check.enable&&b.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+y.id.CHECK)&&(n=b.getNodeMainDom(t).id,o="mouseoutCheck"):b.eqs(e.type,"click")&&i.check.enable&&b.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+y.id.CHECK)&&(n=b.getNodeMainDom(t).id,o="checkNode"),n.length>0)switch(s=_.getNodeCache(i,n),o){case"checkNode":r=p.onCheckNode;break;case"mouseoverCheck":r=p.onMouseoverCheck;break;case"mouseoutCheck":r=p.onMouseoutCheck}var c={stop:"checkNode"===o,node:s,nodeEventType:o,nodeEventCallback:r,treeEventType:a,treeEventCallback:l};return c},l=function(e,t,i,n){if(i){var s=e.data.key.checked;if("string"==typeof i[s]&&(i[s]=b.eqs(i[s],"true")),i[s]=!!i[s],i.checkedOld=i[s],"string"==typeof i.nocheck&&(i.nocheck=b.eqs(i.nocheck,"true")),i.nocheck=!!i.nocheck||e.check.nocheckInherit&&n&&!!n.nocheck,"string"==typeof i.chkDisabled&&(i.chkDisabled=b.eqs(i.chkDisabled,"true")),i.chkDisabled=!!i.chkDisabled||e.check.chkDisabledInherit&&n&&!!n.chkDisabled,"string"==typeof i.halfCheck&&(i.halfCheck=b.eqs(i.halfCheck,"true")),i.halfCheck=!!i.halfCheck,i.check_Child_State=-1,i.check_Focus=!1,i.getCheckStatus=function(){return _.getCheckStatus(e,i)},e.check.chkStyle==y.radio.STYLE&&e.check.radioType==y.radio.TYPE_ALL&&i[s]){var o=_.getRoot(e);o.radioCheckedList.push(i)}}},c=function(e,t,i){e.data.key.checked,e.check.enable&&(_.makeChkFlag(e,t),i.push("<span ID='",t.tId,y.id.CHECK,"' class='",w.makeChkClass(e,t),"' treeNode",y.id.CHECK,t.nocheck===!0?" style='display:none;'":"","></span>"))},d=function(e,t){t.checkNode=function(t,i,n,s){var o=e.data.key.checked;if(t.chkDisabled!==!0&&(i!==!0&&i!==!1&&(i=!t[o]),s=!!s,(t[o]!==i||n)&&(!s||0!=b.apply(this.setting.callback.beforeCheck,[e.treeId,t],!0))&&b.uCanDo(this.setting)&&e.check.enable&&t.nocheck!==!0)){t[o]=i;var a=C(t,y.id.CHECK,e);(n||e.check.chkStyle===y.radio.STYLE)&&w.checkNodeRelation(e,t),w.setChkClass(e,a,t),w.repairParentChkClassWithSelf(e,t),s&&e.treeObj.trigger(y.event.CHECK,[null,e.treeId,t])}},t.checkAllNodes=function(t){w.repairAllChk(e,!!t)},t.getCheckedNodes=function(t){var i=e.data.key.children;return t=t!==!1,_.getTreeCheckedNodes(e,_.getRoot(e)[i],t)},t.getChangeCheckedNodes=function(){var t=e.data.key.children;return _.getTreeChangeCheckedNodes(e,_.getRoot(e)[t])},t.setChkDisabled=function(t,i,n,s){i=!!i,n=!!n,s=!!s,w.repairSonChkDisabled(e,t,i,s),w.repairParentChkDisabled(e,t.getParentNode(),i,n)};var i=t.updateNode;t.updateNode=function(n,s){if(i&&i.apply(t,arguments),n&&e.check.enable){var o=C(n,e);if(o.get(0)&&b.uCanDo(e)){var a=C(n,y.id.CHECK,e);(1==s||e.check.chkStyle===y.radio.STYLE)&&w.checkNodeRelation(e,n),w.setChkClass(e,a,n),w.repairParentChkClassWithSelf(e,n)}}}},u={getRadioCheckedList:function(e){for(var t=_.getRoot(e).radioCheckedList,i=0,n=t.length;n>i;i++)_.getNodeCache(e,t[i].tId)||(t.splice(i,1),i--,n--);return t},getCheckStatus:function(e,t){if(!e.check.enable||t.nocheck||t.chkDisabled)return null;var i=e.data.key.checked,n={checked:t[i],half:t.halfCheck?t.halfCheck:e.check.chkStyle==y.radio.STYLE?2===t.check_Child_State:t[i]?t.check_Child_State>-1&&2>t.check_Child_State:t.check_Child_State>0};return n},getTreeCheckedNodes:function(e,t,i,n){if(!t)return[];var s=e.data.key.children,o=e.data.key.checked,a=i&&e.check.chkStyle==y.radio.STYLE&&e.check.radioType==y.radio.TYPE_ALL;n=n?n:[];for(var r=0,l=t.length;l>r&&(t[r].nocheck===!0||t[r].chkDisabled===!0||t[r][o]!=i||(n.push(t[r]),!a))&&(_.getTreeCheckedNodes(e,t[r][s],i,n),!(a&&n.length>0));r++);return n},getTreeChangeCheckedNodes:function(e,t,i){if(!t)return[];var n=e.data.key.children,s=e.data.key.checked;i=i?i:[];for(var o=0,a=t.length;a>o;o++)t[o].nocheck!==!0&&t[o].chkDisabled!==!0&&t[o][s]!=t[o].checkedOld&&i.push(t[o]),_.getTreeChangeCheckedNodes(e,t[o][n],i);return i},makeChkFlag:function(e,t){if(t){var i=e.data.key.children,n=e.data.key.checked,s=-1;if(t[i])for(var o=0,a=t[i].length;a>o;o++){var r=t[i][o],l=-1;if(e.check.chkStyle==y.radio.STYLE){if(l=r.nocheck===!0||r.chkDisabled===!0?r.check_Child_State:r.halfCheck===!0?2:r[n]?2:r.check_Child_State>0?2:0,2==l){s=2;break}0==l&&(s=0)}else if(e.check.chkStyle==y.checkbox.STYLE){if(l=r.nocheck===!0||r.chkDisabled===!0?r.check_Child_State:r.halfCheck===!0?1:r[n]?-1===r.check_Child_State||2===r.check_Child_State?2:1:r.check_Child_State>0?1:0,1===l){s=1;break}if(2===l&&s>-1&&o>0&&l!==s){s=1;break}if(2===s&&l>-1&&2>l){s=1;break}l>-1&&(s=l)}}t.check_Child_State=s}}},h={},p={onCheckNode:function(e,t){if(t.chkDisabled===!0)return!1;var i=_.getSetting(e.data.treeId),n=i.data.key.checked;if(0==b.apply(i.callback.beforeCheck,[i.treeId,t],!0))return!0;t[n]=!t[n],w.checkNodeRelation(i,t);var s=C(t,y.id.CHECK,i);return w.setChkClass(i,s,t),w.repairParentChkClassWithSelf(i,t),i.treeObj.trigger(y.event.CHECK,[e,i.treeId,t]),!0},onMouseoverCheck:function(e,t){if(t.chkDisabled===!0)return!1;var i=_.getSetting(e.data.treeId),n=C(t,y.id.CHECK,i);return t.check_Focus=!0,w.setChkClass(i,n,t),!0},onMouseoutCheck:function(e,t){if(t.chkDisabled===!0)return!1;var i=_.getSetting(e.data.treeId),n=C(t,y.id.CHECK,i);return t.check_Focus=!1,w.setChkClass(i,n,t),!0}},f={},g={checkNodeRelation:function(e,t){var i,n,s,o=e.data.key.children,a=e.data.key.checked,r=y.radio;if(e.check.chkStyle==r.STYLE){var l=_.getRadioCheckedList(e);if(t[a])if(e.check.radioType==r.TYPE_ALL){for(n=l.length-1;n>=0;n--)i=l[n],i[a]=!1,l.splice(n,1),w.setChkClass(e,C(i,y.id.CHECK,e),i),i.parentTId!=t.parentTId&&w.repairParentChkClassWithSelf(e,i);l.push(t)}else{var c=t.parentTId?t.getParentNode():_.getRoot(e);for(n=0,s=c[o].length;s>n;n++)i=c[o][n],i[a]&&i!=t&&(i[a]=!1,w.setChkClass(e,C(i,y.id.CHECK,e),i))}else if(e.check.radioType==r.TYPE_ALL)for(n=0,s=l.length;s>n;n++)if(t==l[n]){l.splice(n,1);break}}else t[a]&&(!t[o]||0==t[o].length||e.check.chkboxType.Y.indexOf("s")>-1)&&w.setSonNodeCheckBox(e,t,!0),t[a]||t[o]&&0!=t[o].length&&!(e.check.chkboxType.N.indexOf("s")>-1)||w.setSonNodeCheckBox(e,t,!1),t[a]&&e.check.chkboxType.Y.indexOf("p")>-1&&w.setParentNodeCheckBox(e,t,!0),!t[a]&&e.check.chkboxType.N.indexOf("p")>-1&&w.setParentNodeCheckBox(e,t,!1)},makeChkClass:function(e,t){var i=e.data.key.checked,n=y.checkbox,s=y.radio,o="";o=t.chkDisabled===!0?n.DISABLED:t.halfCheck?n.PART:e.check.chkStyle==s.STYLE?1>t.check_Child_State?n.FULL:n.PART:t[i]?2===t.check_Child_State||-1===t.check_Child_State?n.FULL:n.PART:1>t.check_Child_State?n.FULL:n.PART;var a=e.check.chkStyle+"_"+(t[i]?n.TRUE:n.FALSE)+"_"+o;return a=t.check_Focus&&t.chkDisabled!==!0?a+"_"+n.FOCUS:a,y.className.BUTTON+" "+n.DEFAULT+" "+a},repairAllChk:function(e,t){if(e.check.enable&&e.check.chkStyle===y.checkbox.STYLE)for(var i=e.data.key.checked,n=e.data.key.children,s=_.getRoot(e),o=0,a=s[n].length;a>o;o++){var r=s[n][o];r.nocheck!==!0&&r.chkDisabled!==!0&&(r[i]=t),w.setSonNodeCheckBox(e,r,t)}},repairChkClass:function(e,t){if(t&&(_.makeChkFlag(e,t),t.nocheck!==!0)){var i=C(t,y.id.CHECK,e);w.setChkClass(e,i,t)}},repairParentChkClass:function(e,t){if(t&&t.parentTId){var i=t.getParentNode();w.repairChkClass(e,i),w.repairParentChkClass(e,i)}},repairParentChkClassWithSelf:function(e,t){if(t){var i=e.data.key.children;t[i]&&t[i].length>0?w.repairParentChkClass(e,t[i][0]):w.repairParentChkClass(e,t)}},repairSonChkDisabled:function(e,t,i,n){if(t){var s=e.data.key.children;if(t.chkDisabled!=i&&(t.chkDisabled=i),w.repairChkClass(e,t),t[s]&&n)for(var o=0,a=t[s].length;a>o;o++){var r=t[s][o];w.repairSonChkDisabled(e,r,i,n)}}},repairParentChkDisabled:function(e,t,i,n){t&&(t.chkDisabled!=i&&n&&(t.chkDisabled=i),w.repairChkClass(e,t),w.repairParentChkDisabled(e,t.getParentNode(),i,n))},setChkClass:function(e,t,i){t&&(i.nocheck===!0?t.hide():t.show(),t.removeClass(),t.addClass(w.makeChkClass(e,i)))},setParentNodeCheckBox:function(e,t,i,n){var s=e.data.key.children,o=e.data.key.checked,a=C(t,y.id.CHECK,e);if(n||(n=t),_.makeChkFlag(e,t),t.nocheck!==!0&&t.chkDisabled!==!0&&(t[o]=i,w.setChkClass(e,a,t),e.check.autoCheckTrigger&&t!=n&&e.treeObj.trigger(y.event.CHECK,[null,e.treeId,t])),t.parentTId){var r=!0;if(!i)for(var l=t.getParentNode()[s],c=0,d=l.length;d>c;c++)if(l[c].nocheck!==!0&&l[c].chkDisabled!==!0&&l[c][o]||(l[c].nocheck===!0||l[c].chkDisabled===!0)&&l[c].check_Child_State>0){r=!1;break}r&&w.setParentNodeCheckBox(e,t.getParentNode(),i,n)}},setSonNodeCheckBox:function(e,t,i,n){if(t){var s=e.data.key.children,o=e.data.key.checked,a=C(t,y.id.CHECK,e);n||(n=t);var r=!1;if(t[s])for(var l=0,c=t[s].length;c>l&&t.chkDisabled!==!0;l++){var d=t[s][l];w.setSonNodeCheckBox(e,d,i,n),d.chkDisabled===!0&&(r=!0)}t!=_.getRoot(e)&&t.chkDisabled!==!0&&(r&&t.nocheck!==!0&&_.makeChkFlag(e,t),t.nocheck!==!0&&t.chkDisabled!==!0?(t[o]=i,r||(t.check_Child_State=t[s]&&t[s].length>0?i?2:0:-1)):t.check_Child_State=-1,w.setChkClass(e,a,t),e.check.autoCheckTrigger&&t!=n&&t.nocheck!==!0&&t.chkDisabled!==!0&&e.treeObj.trigger(y.event.CHECK,[null,e.treeId,t]))}}},m={tools:f,view:g,event:h,data:u};e.extend(!0,e.fn.zTree.consts,t),e.extend(!0,e.fn.zTree._z,m);var v=e.fn.zTree,b=v._z.tools,y=v.consts,w=v._z.view,_=v._z.data,C=(v._z.event,b.$);_.exSetting(i),_.addInitBind(o),_.addInitUnBind(a),_.addInitCache(s),_.addInitNode(l),_.addInitProxy(r,!0),_.addInitRoot(n),_.addBeforeA(c),_.addZTreeTools(d);var x=w.createNodes;w.createNodes=function(e,t,i,n){x&&x.apply(w,arguments),i&&w.repairParentChkClassWithSelf(e,n)};var k=w.removeNode;w.removeNode=function(e,t){var i=t.getParentNode();k&&k.apply(w,arguments),t&&i&&(w.repairChkClass(e,i),w.repairParentChkClass(e,i))};var N=w.appendNodes;w.appendNodes=function(e,t,i,n){var s="";return N&&(s=N.apply(w,arguments)),n&&_.makeChkFlag(e,n),s}}(jQuery),function(e){var t={event:{DRAG:"ztree_drag",DROP:"ztree_drop",REMOVE:"ztree_remove",RENAME:"ztree_rename"},id:{EDIT:"_edit",INPUT:"_input",REMOVE:"_remove"},move:{TYPE_INNER:"inner",TYPE_PREV:"prev",TYPE_NEXT:"next"},node:{CURSELECTED_EDIT:"curSelectedNode_Edit",TMPTARGET_TREE:"tmpTargetzTree",TMPTARGET_NODE:"tmpTargetNode"}},i={edit:{enable:!1,editNameSelectAll:!1,showRemoveBtn:!0,showRenameBtn:!0,removeTitle:"remove",renameTitle:"rename",drag:{autoExpandTrigger:!1,isCopy:!0,isMove:!0,prev:!0,next:!0,inner:!0,minMoveSize:5,borderMax:10,borderMin:-5,maxShowNodeNum:5,autoOpenTime:500}},view:{addHoverDom:null,removeHoverDom:null},callback:{beforeDrag:null,beforeDragOpen:null,beforeDrop:null,beforeEditName:null,beforeRename:null,onDrag:null,onDrop:null,onRename:null}},n=function(e){var t=w.getRoot(e),i=w.getRoots();t.curEditNode=null,t.curEditInput=null,t.curHoverNode=null,t.dragFlag=0,t.dragNodeShowBefore=[],t.dragMaskList=[],i.showHoverDom=!0},s=function(){},o=function(e){var t=e.treeObj,i=b.event;t.bind(i.RENAME,function(t,i,n,s){v.apply(e.callback.onRename,[t,i,n,s])}),t.bind(i.REMOVE,function(t,i,n){v.apply(e.callback.onRemove,[t,i,n])}),t.bind(i.DRAG,function(t,i,n,s){v.apply(e.callback.onDrag,[i,n,s])}),t.bind(i.DROP,function(t,i,n,s,o,a,r){v.apply(e.callback.onDrop,[i,n,s,o,a,r])})},a=function(e){var t=e.treeObj,i=b.event;t.unbind(i.RENAME),t.unbind(i.REMOVE),t.unbind(i.DRAG),t.unbind(i.DROP)},r=function(e){var t=e.target,i=w.getSetting(e.data.treeId),n=e.relatedTarget,s="",o=null,a="",r="",l=null,c=null,d=null;if(v.eqs(e.type,"mouseover")?(d=v.getMDom(i,t,[{tagName:"a",attrName:"treeNode"+b.id.A}]),d&&(s=v.getNodeMainDom(d).id,a="hoverOverNode")):v.eqs(e.type,"mouseout")?(d=v.getMDom(i,n,[{tagName:"a",attrName:"treeNode"+b.id.A}]),d||(s="remove",a="hoverOutNode")):v.eqs(e.type,"mousedown")&&(d=v.getMDom(i,t,[{tagName:"a",attrName:"treeNode"+b.id.A}]),d&&(s=v.getNodeMainDom(d).id,a="mousedownNode")),s.length>0)switch(o=w.getNodeCache(i,s),a){case"mousedownNode":l=h.onMousedownNode;break;case"hoverOverNode":l=h.onHoverOverNode;break;case"hoverOutNode":l=h.onHoverOutNode}var u={stop:!1,node:o,nodeEventType:a,nodeEventCallback:l,treeEventType:r,treeEventCallback:c};return u},l=function(e,t,i){i&&(i.isHover=!1,i.editNameFlag=!1)},c=function(e,t){t.cancelEditName=function(t){var i=w.getRoot(e);i.curEditNode&&y.cancelCurEditNode(e,t?t:null,!0)},t.copyNode=function(t,i,n,s){function o(){y.addNodes(e,t,[a],s)}if(!i)return null;if(t&&!t.isParent&&e.data.keep.leaf&&n===b.move.TYPE_INNER)return null;var a=v.clone(i);return t||(t=null,n=b.move.TYPE_INNER),n==b.move.TYPE_INNER?v.canAsync(e,t)?y.asyncNode(e,t,s,o):o():(y.addNodes(e,t.parentNode,[a],s),y.moveNode(e,t,a,n,!1,s)),a},t.editName=function(t){t&&t.tId&&t===w.getNodeCache(e,t.tId)&&(t.parentTId&&y.expandCollapseParentNode(e,t.getParentNode(),!0),y.editNode(e,t))},t.moveNode=function(t,i,n,s){function o(){y.moveNode(e,t,i,n,!1,s)}return i?t&&!t.isParent&&e.data.keep.leaf&&n===b.move.TYPE_INNER?null:t&&(i.parentTId==t.tId&&n==b.move.TYPE_INNER||_(i,e).find("#"+t.tId).length>0)?null:(t||(t=null),v.canAsync(e,t)&&n===b.move.TYPE_INNER?y.asyncNode(e,t,s,o):o(),i):i},t.setEditable=function(t){return e.edit.enable=t,this.refresh()}},d={setSonNodeLevel:function(e,t,i){if(i){var n=e.data.key.children;if(i.level=t?t.level+1:0,i[n])for(var s=0,o=i[n].length;o>s;s++)i[n][s]&&w.setSonNodeLevel(e,i,i[n][s])}}},u={},h={onHoverOverNode:function(e,t){var i=w.getSetting(e.data.treeId),n=w.getRoot(i);n.curHoverNode!=t&&h.onHoverOutNode(e),n.curHoverNode=t,y.addHoverDom(i,t)},onHoverOutNode:function(e){var t=w.getSetting(e.data.treeId),i=w.getRoot(t);i.curHoverNode&&!w.isSelectedNode(t,i.curHoverNode)&&(y.removeTreeDom(t,i.curHoverNode),i.curHoverNode=null)},onMousedownNode:function(i,n){function s(i){if(0==d.dragFlag&&Math.abs(R-i.clientX)<c.edit.drag.minMoveSize&&Math.abs(O-i.clientY)<c.edit.drag.minMoveSize)return!0;var n,s,a,r,l,h=c.data.key.children;if(T.css("cursor","pointer"),0==d.dragFlag){if(0==v.apply(c.callback.beforeDrag,[c.treeId,f],!0))return o(i),!0;for(n=0,s=f.length;s>n;n++)0==n&&(d.dragNodeShowBefore=[]),a=f[n],a.isParent&&a.open?(y.expandCollapseNode(c,a,!a.open),d.dragNodeShowBefore[a.tId]=!0):d.dragNodeShowBefore[a.tId]=!1;d.dragFlag=1,u.showHoverDom=!1,v.showIfameMask(c,!0);var p=!0,D=-1;if(f.length>1){var L=f[0].parentTId?f[0].getParentNode()[h]:w.getNodes(c);for(l=[],n=0,s=L.length;s>n;n++)if(void 0!==d.dragNodeShowBefore[L[n].tId]&&(p&&D>-1&&D+1!==n&&(p=!1),l.push(L[n]),D=n),f.length===l.length){f=l;break}}for(p&&(x=f[0].getPreNode(),k=f[f.length-1].getNextNode()),g=_("<ul class='zTreeDragUL'></ul>",c),n=0,s=f.length;s>n;n++)if(a=f[n],a.editNameFlag=!1,y.selectNode(c,a,n>0),y.removeTreeDom(c,a),r=_("<li id='"+a.tId+"_tmp'></li>",c),r.append(_(a,b.id.A,c).clone()),r.css("padding","0"),r.children("#"+a.tId+b.id.A).removeClass(b.node.CURSELECTED),g.append(r),n==c.edit.drag.maxShowNodeNum-1){r=_("<li id='"+a.tId+"_moretmp'><a>  ...  </a></li>",c),g.append(r);break}g.attr("id",f[0].tId+b.id.UL+"_tmp"),g.addClass(c.treeObj.attr("class")),g.appendTo(T),m=_("<span class='tmpzTreeMove_arrow'></span>",c),m.attr("id","zTreeMove_arrow_tmp"),m.appendTo(T),c.treeObj.trigger(b.event.DRAG,[i,c.treeId,f])}if(1==d.dragFlag){if(C&&m.attr("id")==i.target.id&&I&&i.clientX+N.scrollLeft()+2>e("#"+I+b.id.A,C).offset().left){var M=e("#"+I+b.id.A,C);i.target=M.length>0?M.get(0):i.target}else C&&(C.removeClass(b.node.TMPTARGET_TREE),I&&e("#"+I+b.id.A,C).removeClass(b.node.TMPTARGET_NODE+"_"+b.move.TYPE_PREV).removeClass(b.node.TMPTARGET_NODE+"_"+t.move.TYPE_NEXT).removeClass(b.node.TMPTARGET_NODE+"_"+t.move.TYPE_INNER));C=null,I=null,$=!1,S=c;var H=w.getSettings();for(var j in H)H[j].treeId&&H[j].edit.enable&&H[j].treeId!=c.treeId&&(i.target.id==H[j].treeId||e(i.target).parents("#"+H[j].treeId).length>0)&&($=!0,S=H[j]);var F=N.scrollTop(),W=N.scrollLeft(),B=S.treeObj.offset(),q=S.treeObj.get(0).scrollHeight,U=S.treeObj.get(0).scrollWidth,V=i.clientY+F-B.top,Y=S.treeObj.height()+B.top-i.clientY-F,X=i.clientX+W-B.left,K=S.treeObj.width()+B.left-i.clientX-W,Q=c.edit.drag.borderMax>V&&V>c.edit.drag.borderMin,G=c.edit.drag.borderMax>Y&&Y>c.edit.drag.borderMin,Z=c.edit.drag.borderMax>X&&X>c.edit.drag.borderMin,J=c.edit.drag.borderMax>K&&K>c.edit.drag.borderMin,et=V>c.edit.drag.borderMin&&Y>c.edit.drag.borderMin&&X>c.edit.drag.borderMin&&K>c.edit.drag.borderMin,tt=Q&&0>=S.treeObj.scrollTop(),it=G&&S.treeObj.scrollTop()+S.treeObj.height()+10>=q,nt=Z&&0>=S.treeObj.scrollLeft(),st=J&&S.treeObj.scrollLeft()+S.treeObj.width()+10>=U;if(i.target.id&&S.treeObj.find("#"+i.target.id).length>0){for(var ot=i.target;ot&&ot.tagName&&!v.eqs(ot.tagName,"li")&&ot.id!=S.treeId;)ot=ot.parentNode;var at=!0;for(n=0,s=f.length;s>n;n++){if(a=f[n],ot.id===a.tId){at=!1;break}if(_(a,c).find("#"+ot.id).length>0){at=!1;break}}at&&i.target.id&&(i.target.id==ot.id+b.id.A||e(i.target).parents("#"+ot.id+b.id.A).length>0)&&(C=e(ot),I=ot.id)}a=f[0],et&&(i.target.id==S.treeId||e(i.target).parents("#"+S.treeId).length>0)&&(!C&&(i.target.id==S.treeId||tt||it||nt||st)&&($||!$&&a.parentTId)&&(C=S.treeObj),Q?S.treeObj.scrollTop(S.treeObj.scrollTop()-10):G&&S.treeObj.scrollTop(S.treeObj.scrollTop()+10),Z?S.treeObj.scrollLeft(S.treeObj.scrollLeft()-10):J&&S.treeObj.scrollLeft(S.treeObj.scrollLeft()+10),C&&C!=S.treeObj&&C.offset().left<S.treeObj.offset().left&&S.treeObj.scrollLeft(S.treeObj.scrollLeft()+C.offset().left-S.treeObj.offset().left)),g.css({top:i.clientY+F+3+"px",left:i.clientX+W+3+"px"});var rt=0,lt=0;if(C&&C.attr("id")!=S.treeId){var ct=null==I?null:w.getNodeCache(S,I),dt=i.ctrlKey&&c.edit.drag.isMove&&c.edit.drag.isCopy||!c.edit.drag.isMove&&c.edit.drag.isCopy,ut=!(!x||I!==x.tId),ht=!(!k||I!==k.tId),pt=a.parentTId&&a.parentTId==I,ft=(dt||!ht)&&v.apply(S.edit.drag.prev,[S.treeId,f,ct],!!S.edit.drag.prev),gt=(dt||!ut)&&v.apply(S.edit.drag.next,[S.treeId,f,ct],!!S.edit.drag.next),mt=!(!dt&&pt||S.data.keep.leaf&&!ct.isParent||!v.apply(S.edit.drag.inner,[S.treeId,f,ct],!!S.edit.drag.inner));if(ft||gt||mt){var vt=e("#"+I+b.id.A,C),bt=ct.isLastNode?null:e("#"+ct.getNextNode().tId+b.id.A,C.next()),yt=vt.offset().top,wt=vt.offset().left,_t=ft?mt?.25:gt?.5:1:-1,Ct=gt?mt?.75:ft?.5:0:-1,xt=(i.clientY+F-yt)/vt.height();if((1==_t||_t>=xt&&xt>=-.2)&&ft?(rt=1-m.width(),lt=yt-m.height()/2,E=b.move.TYPE_PREV):(0==Ct||xt>=Ct&&1.2>=xt)&&gt?(rt=1-m.width(),lt=null==bt||ct.isParent&&ct.open?yt+vt.height()-m.height()/2:bt.offset().top-m.height()/2,E=b.move.TYPE_NEXT):(rt=5-m.width(),lt=yt,E=b.move.TYPE_INNER),m.css({display:"block",top:lt+"px",left:wt+rt+"px"}),vt.addClass(b.node.TMPTARGET_NODE+"_"+E),(P!=I||z!=E)&&(A=(new Date).getTime()),ct&&ct.isParent&&E==b.move.TYPE_INNER){var kt=!0;window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId!==ct.tId?(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null):window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId===ct.tId&&(kt=!1),kt&&(window.zTreeMoveTimer=setTimeout(function(){E==b.move.TYPE_INNER&&ct&&ct.isParent&&!ct.open&&(new Date).getTime()-A>S.edit.drag.autoOpenTime&&v.apply(S.callback.beforeDragOpen,[S.treeId,ct],!0)&&(y.switchNode(S,ct),S.edit.drag.autoExpandTrigger&&S.treeObj.trigger(b.event.EXPAND,[S.treeId,ct]))},S.edit.drag.autoOpenTime+50),window.zTreeMoveTargetNodeTId=ct.tId)}}else C=null,I="",E=b.move.TYPE_INNER,m.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null)}else E=b.move.TYPE_INNER,C&&v.apply(S.edit.drag.inner,[S.treeId,f,null],!!S.edit.drag.inner)?C.addClass(b.node.TMPTARGET_TREE):C=null,m.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null);P=I,z=E}return!1}function o(i){function n(){if($){if(!p)for(var e=0,t=f.length;t>e;e++)y.removeNode(c,f[e]);if(E==b.move.TYPE_INNER)y.addNodes(S,x,k);else if(y.addNodes(S,x.getParentNode(),k),E==b.move.TYPE_PREV)for(e=0,t=k.length;t>e;e++)y.moveNode(S,x,k[e],E,!1);else for(e=-1,t=k.length-1;t>e;t--)y.moveNode(S,x,k[t],E,!1)}else if(p&&E==b.move.TYPE_INNER)y.addNodes(S,x,k);else if(p&&y.addNodes(S,x.getParentNode(),k),E!=b.move.TYPE_NEXT)for(e=0,t=k.length;t>e;e++)y.moveNode(S,x,k[e],E,!1);else for(e=-1,t=k.length-1;t>e;t--)y.moveNode(S,x,k[t],E,!1);y.selectNodes(S,k),_(k[0],c).focus().blur(),c.treeObj.trigger(b.event.DROP,[i,S.treeId,k,x,E,p])}if(window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null),P=null,z=null,N.unbind("mousemove",s),N.unbind("mouseup",o),N.unbind("selectstart",a),T.css("cursor","auto"),C&&(C.removeClass(b.node.TMPTARGET_TREE),I&&e("#"+I+b.id.A,C).removeClass(b.node.TMPTARGET_NODE+"_"+b.move.TYPE_PREV).removeClass(b.node.TMPTARGET_NODE+"_"+t.move.TYPE_NEXT).removeClass(b.node.TMPTARGET_NODE+"_"+t.move.TYPE_INNER)),v.showIfameMask(c,!1),u.showHoverDom=!0,0!=d.dragFlag){d.dragFlag=0;var r,l,h;for(r=0,l=f.length;l>r;r++)h=f[r],h.isParent&&d.dragNodeShowBefore[h.tId]&&!h.open&&(y.expandCollapseNode(c,h,!h.open),delete d.dragNodeShowBefore[h.tId]);g&&g.remove(),m&&m.remove();var p=i.ctrlKey&&c.edit.drag.isMove&&c.edit.drag.isCopy||!c.edit.drag.isMove&&c.edit.drag.isCopy;if(!p&&C&&I&&f[0].parentTId&&I==f[0].parentTId&&E==b.move.TYPE_INNER&&(C=null),C){var x=null==I?null:w.getNodeCache(S,I);if(0==v.apply(c.callback.beforeDrop,[S.treeId,f,x,E,p],!0))return y.selectNodes(D,f),void 0;var k=p?v.clone(f):f;E==b.move.TYPE_INNER&&v.canAsync(S,x)?y.asyncNode(S,x,!1,n):n()}else y.selectNodes(D,f),c.treeObj.trigger(b.event.DROP,[i,c.treeId,f,null,null,null])}}function a(){return!1}var r,l,c=w.getSetting(i.data.treeId),d=w.getRoot(c),u=w.getRoots();if(2==i.button||!c.edit.enable||!c.edit.drag.isCopy&&!c.edit.drag.isMove)return!0;var h=i.target,p=w.getRoot(c).curSelectedList,f=[];if(w.isSelectedNode(c,n))for(r=0,l=p.length;l>r;r++){if(p[r].editNameFlag&&v.eqs(h.tagName,"input")&&null!==h.getAttribute("treeNode"+b.id.INPUT))return!0;if(f.push(p[r]),f[0].parentTId!==p[r].parentTId){f=[n];break}}else f=[n];y.editNodeBlur=!0,y.cancelCurEditNode(c);var g,m,C,x,k,N=e(c.treeObj.get(0).ownerDocument),T=e(c.treeObj.get(0).ownerDocument.body),$=!1,S=c,D=c,P=null,z=null,I=null,E=b.move.TYPE_INNER,R=i.clientX,O=i.clientY,A=(new Date).getTime();return v.uCanDo(c)&&N.bind("mousemove",s),N.bind("mouseup",o),N.bind("selectstart",a),i.preventDefault&&i.preventDefault(),!0}},p={getAbs:function(e){var t=e.getBoundingClientRect(),i=document.body.scrollTop+document.documentElement.scrollTop,n=document.body.scrollLeft+document.documentElement.scrollLeft;return[t.left+n,t.top+i]},inputFocus:function(e){e.get(0)&&(e.focus(),v.setCursorPosition(e.get(0),e.val().length))},inputSelect:function(e){e.get(0)&&(e.focus(),e.select())},setCursorPosition:function(e,t){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var i=e.createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",t),i.select()}},showIfameMask:function(e,t){for(var i=w.getRoot(e);i.dragMaskList.length>0;)i.dragMaskList[0].remove(),i.dragMaskList.shift();if(t)for(var n=_("iframe",e),s=0,o=n.length;o>s;s++){var a=n.get(s),r=v.getAbs(a),l=_("<div id='zTreeMask_"+s+"' class='zTreeMask' style='top:"+r[1]+"px; left:"+r[0]+"px; width:"+a.offsetWidth+"px; height:"+a.offsetHeight+"px;'></div>",e);l.appendTo(_("body",e)),i.dragMaskList.push(l)}}},f={addEditBtn:function(e,t){if(!(t.editNameFlag||_(t,b.id.EDIT,e).length>0)&&v.apply(e.edit.showRenameBtn,[e.treeId,t],e.edit.showRenameBtn)){var i=_(t,b.id.A,e),n="<span class='"+b.className.BUTTON+" edit' id='"+t.tId+b.id.EDIT+"' title='"+v.apply(e.edit.renameTitle,[e.treeId,t],e.edit.renameTitle)+"' treeNode"+b.id.EDIT+" style='display:none;'></span>";i.append(n),_(t,b.id.EDIT,e).bind("click",function(){return v.uCanDo(e)&&0!=v.apply(e.callback.beforeEditName,[e.treeId,t],!0)?(y.editNode(e,t),!1):!1}).show()}},addRemoveBtn:function(e,t){if(!(t.editNameFlag||_(t,b.id.REMOVE,e).length>0)&&v.apply(e.edit.showRemoveBtn,[e.treeId,t],e.edit.showRemoveBtn)){var i=_(t,b.id.A,e),n="<span class='"+b.className.BUTTON+" remove' id='"+t.tId+b.id.REMOVE+"' title='"+v.apply(e.edit.removeTitle,[e.treeId,t],e.edit.removeTitle)+"' treeNode"+b.id.REMOVE+" style='display:none;'></span>";i.append(n),_(t,b.id.REMOVE,e).bind("click",function(){return v.uCanDo(e)&&0!=v.apply(e.callback.beforeRemove,[e.treeId,t],!0)?(y.removeNode(e,t),e.treeObj.trigger(b.event.REMOVE,[e.treeId,t]),!1):!1}).bind("mousedown",function(){return!0}).show()}},addHoverDom:function(e,t){w.getRoots().showHoverDom&&(t.isHover=!0,e.edit.enable&&(y.addEditBtn(e,t),y.addRemoveBtn(e,t)),v.apply(e.view.addHoverDom,[e.treeId,t]))},cancelCurEditNode:function(e,t,i){var n=w.getRoot(e),s=e.data.key.name,o=n.curEditNode;if(o){var a=n.curEditInput,r=t?t:i?o[s]:a.val();if(v.apply(e.callback.beforeRename,[e.treeId,o,r,i],!0)===!1)return!1;o[s]=r,e.treeObj.trigger(b.event.RENAME,[e.treeId,o,i]);var l=_(o,b.id.A,e);l.removeClass(b.node.CURSELECTED_EDIT),a.unbind(),y.setNodeName(e,o),o.editNameFlag=!1,n.curEditNode=null,n.curEditInput=null,y.selectNode(e,o,!1)}return n.noSelection=!0,!0},editNode:function(e,t){var i=w.getRoot(e);if(y.editNodeBlur=!1,w.isSelectedNode(e,t)&&i.curEditNode==t&&t.editNameFlag)return setTimeout(function(){v.inputFocus(i.curEditInput)},0),void 0;var n=e.data.key.name;t.editNameFlag=!0,y.removeTreeDom(e,t),y.cancelCurEditNode(e),y.selectNode(e,t,!1),_(t,b.id.SPAN,e).html("<input type=text class='rename' id='"+t.tId+b.id.INPUT+"' treeNode"+b.id.INPUT+" >");var s=_(t,b.id.INPUT,e);s.attr("value",t[n]),e.edit.editNameSelectAll?v.inputSelect(s):v.inputFocus(s),s.bind("blur",function(){y.editNodeBlur||y.cancelCurEditNode(e)}).bind("keydown",function(t){"13"==t.keyCode?(y.editNodeBlur=!0,y.cancelCurEditNode(e)):"27"==t.keyCode&&y.cancelCurEditNode(e,null,!0)}).bind("click",function(){return!1}).bind("dblclick",function(){return!1}),_(t,b.id.A,e).addClass(b.node.CURSELECTED_EDIT),i.curEditInput=s,i.noSelection=!1,i.curEditNode=t},moveNode:function(e,t,i,n,s,o){var a=w.getRoot(e),r=e.data.key.children;if(t!=i&&(!e.data.keep.leaf||!t||t.isParent||n!=b.move.TYPE_INNER)){var l=i.parentTId?i.getParentNode():a,c=null===t||t==a;c&&null===t&&(t=a),c&&(n=b.move.TYPE_INNER);var d=t.parentTId?t.getParentNode():a;n!=b.move.TYPE_PREV&&n!=b.move.TYPE_NEXT&&(n=b.move.TYPE_INNER),n==b.move.TYPE_INNER&&(c?i.parentTId=null:(t.isParent||(t.isParent=!0,t.open=!!t.open,y.setNodeLineIcos(e,t)),i.parentTId=t.tId));var u,h;if(c)u=e.treeObj,h=u;else{if(o||n!=b.move.TYPE_INNER?o||y.expandCollapseNode(e,t.getParentNode(),!0,!1):y.expandCollapseNode(e,t,!0,!1),u=_(t,e),h=_(t,b.id.UL,e),u.get(0)&&!h.get(0)){var p=[];y.makeUlHtml(e,t,p,""),u.append(p.join(""))}h=_(t,b.id.UL,e)}var f=_(i,e);f.get(0)?u.get(0)||f.remove():f=y.appendNodes(e,i.level,[i],null,!1,!0).join(""),h.get(0)&&n==b.move.TYPE_INNER?h.append(f):u.get(0)&&n==b.move.TYPE_PREV?u.before(f):u.get(0)&&n==b.move.TYPE_NEXT&&u.after(f);var g,m,v=-1,C=0,x=null,k=null,N=i.level;if(i.isFirstNode)v=0,l[r].length>1&&(x=l[r][1],x.isFirstNode=!0);else if(i.isLastNode)v=l[r].length-1,x=l[r][v-1],x.isLastNode=!0;else for(g=0,m=l[r].length;m>g;g++)if(l[r][g].tId==i.tId){v=g;break}if(v>=0&&l[r].splice(v,1),n!=b.move.TYPE_INNER)for(g=0,m=d[r].length;m>g;g++)d[r][g].tId==t.tId&&(C=g);if(n==b.move.TYPE_INNER?(t[r]||(t[r]=[]),t[r].length>0&&(k=t[r][t[r].length-1],k.isLastNode=!1),t[r].splice(t[r].length,0,i),i.isLastNode=!0,i.isFirstNode=1==t[r].length):t.isFirstNode&&n==b.move.TYPE_PREV?(d[r].splice(C,0,i),k=t,k.isFirstNode=!1,i.parentTId=t.parentTId,i.isFirstNode=!0,i.isLastNode=!1):t.isLastNode&&n==b.move.TYPE_NEXT?(d[r].splice(C+1,0,i),k=t,k.isLastNode=!1,i.parentTId=t.parentTId,i.isFirstNode=!1,i.isLastNode=!0):(n==b.move.TYPE_PREV?d[r].splice(C,0,i):d[r].splice(C+1,0,i),i.parentTId=t.parentTId,i.isFirstNode=!1,i.isLastNode=!1),w.fixPIdKeyValue(e,i),w.setSonNodeLevel(e,i.getParentNode(),i),y.setNodeLineIcos(e,i),y.repairNodeLevelClass(e,i,N),!e.data.keep.parent&&1>l[r].length){l.isParent=!1,l.open=!1;var T=_(l,b.id.UL,e),$=_(l,b.id.SWITCH,e),S=_(l,b.id.ICON,e);y.replaceSwitchClass(l,$,b.folder.DOCU),y.replaceIcoClass(l,S,b.folder.DOCU),T.css("display","none")}else x&&y.setNodeLineIcos(e,x);k&&y.setNodeLineIcos(e,k),e.check&&e.check.enable&&y.repairChkClass&&(y.repairChkClass(e,l),y.repairParentChkClassWithSelf(e,l),l!=i.parent&&y.repairParentChkClassWithSelf(e,i)),o||y.expandCollapseParentNode(e,i.getParentNode(),!0,s)}},removeEditBtn:function(e,t){_(t,b.id.EDIT,e).unbind().remove()},removeRemoveBtn:function(e,t){_(t,b.id.REMOVE,e).unbind().remove()},removeTreeDom:function(e,t){t.isHover=!1,y.removeEditBtn(e,t),y.removeRemoveBtn(e,t),v.apply(e.view.removeHoverDom,[e.treeId,t])},repairNodeLevelClass:function(e,t,i){if(i!==t.level){var n=_(t,e),s=_(t,b.id.A,e),o=_(t,b.id.UL,e),a=b.className.LEVEL+i,r=b.className.LEVEL+t.level;n.removeClass(a),n.addClass(r),s.removeClass(a),s.addClass(r),o.removeClass(a),o.addClass(r)}},selectNodes:function(e,t){for(var i=0,n=t.length;n>i;i++)y.selectNode(e,t[i],i>0)}},g={tools:p,view:f,event:u,data:d};e.extend(!0,e.fn.zTree.consts,t),e.extend(!0,e.fn.zTree._z,g);var m=e.fn.zTree,v=m._z.tools,b=m.consts,y=m._z.view,w=m._z.data,_=(m._z.event,v.$);w.exSetting(i),w.addInitBind(o),w.addInitUnBind(a),w.addInitCache(s),w.addInitNode(l),w.addInitProxy(r),w.addInitRoot(n),w.addZTreeTools(c);var C=y.cancelPreSelectedNode;y.cancelPreSelectedNode=function(e,t){for(var i=w.getRoot(e).curSelectedList,n=0,s=i.length;s>n&&(t&&t!==i[n]||(y.removeTreeDom(e,i[n]),!t));n++);C&&C.apply(y,arguments)};var x=y.createNodes;y.createNodes=function(e,t,i,n){x&&x.apply(y,arguments),i&&y.repairParentChkClassWithSelf&&y.repairParentChkClassWithSelf(e,n)};var k=y.makeNodeUrl;y.makeNodeUrl=function(e){return e.edit.enable?null:k.apply(y,arguments)};var N=y.removeNode;y.removeNode=function(e,t){var i=w.getRoot(e);i.curEditNode===t&&(i.curEditNode=null),N&&N.apply(y,arguments)};var T=y.selectNode;y.selectNode=function(e,t){var i=w.getRoot(e);return w.isSelectedNode(e,t)&&i.curEditNode==t&&t.editNameFlag?!1:(T&&T.apply(y,arguments),y.addHoverDom(e,t),!0)};var $=v.uCanDo;v.uCanDo=function(e,t){var i=w.getRoot(e);return t&&(v.eqs(t.type,"mouseover")||v.eqs(t.type,"mouseout")||v.eqs(t.type,"mousedown")||v.eqs(t.type,"mouseup"))?!0:(i.curEditNode&&(y.editNodeBlur=!1,i.curEditInput.focus()),!i.curEditNode&&($?$.apply(y,arguments):!0))}}(jQuery);