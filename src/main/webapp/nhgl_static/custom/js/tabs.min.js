!function(a){a.easytabs=a.tabs=function(b,c){var d,e,f,g,h=this,i=a(b),j={animate:!1,panelActiveClass:"current",tabActiveClass:"current",height:"auto",defaultTab:"li:first-child",tabs:"> ul > li",cycle:!1,transitionIn:"fadeIn",transitionOut:"fadeOut",transitionInEasing:"swing",transitionOutEasing:"swing",transitionCollapse:"slideUp",transitionUncollapse:"slideDown",transitionCollapseEasing:"swing",transitionUncollapseEasing:"swing",containerClass:"",tabsClass:"",tabClass:"",panelClass:"",cache:!0,event:"click",panelContext:i},k={fast:200,normal:400,slow:600};h.tabsResize=function(a){var b,c=i.children("div").first();b=c.prev(),c.height(a.height-b.height())},h.init=function(){h.settings=g=a.extend({},j,c),g.bind_str=g.event+".easytabs","string"==typeof g.animationSpeed&&(g.animationSpeed=k[g.animationSpeed]),a("a.anchor").remove().prependTo("body"),i.data("easytabs",{}),h.setTransitions(),h.getTabs(),m(),n(),p(),r(),i.attr("data-easytabs",!0),i.children("div").first().height(g.height)},h.setTransitions=function(){f=g.animate?{show:g.transitionIn,hide:g.transitionOut,speed:g.animationSpeed,collapse:g.transitionCollapse,uncollapse:g.transitionUncollapse,halfSpeed:g.animationSpeed/2}:{show:"show",hide:"hide",speed:0,collapse:"hide",uncollapse:"show",halfSpeed:0}},h.getTabs=function(){var b;h.tabs=i.find(g.tabs),h.panels=a(),h.tabs.each(function(){var c=a(this),d=c.children("a"),e=c.children("a").data("target");if(c.data("easytabs",{}),void 0!==e&&null!==e?(c.data("easytabs").ajax=d.attr("href"),e=e.match(/#([^\?]+)/)[1]):d.attr("trigger")?e=d.attr("trigger"):(e=d.attr("href"),e=e.match(/#([^\?]+)/)[1]),b=g.panelContext.find("#"+e),b.length){var f=c.children("a").data("cached");0==f&&(b.addClass("no-cached"),b.data("cached",f)),b.data("easytabs",{position:b.css("position"),visibility:b.css("visibility")}),b.not(g.panelActiveClass).hide(),h.panels=h.panels.add(b),c.data("easytabs").panel=b}else h.tabs=h.tabs.not(c),"console"in window&&console.warn("Warning: tab without matching panel for selector '#"+e+"' removed from set")})},h.selectTab=function(a,b){var c=a.parent().data("easytabs").panel,d=a.parent().data("easytabs").ajax;a.hasClass(g.tabActiveClass)&&c.hasClass(g.panelActiveClass)?g.cache||q(a,c,d,b):q(a,c,d,b)},h.matchTab=function(a){return h.tabs.find("[href='"+a+"'],[data-target='"+a+"']").first()},h.matchInPanel=function(a){return a&&h.validId(a)?h.panels.filter(":has("+a+")").first():[]},h.validId=function(a){return a.substr(1).match(/^[A-Za-z]+[A-Za-z0-9\-_:\.].$/)},h.cycleTabs=function(b){g.cycle&&(b%=h.tabs.length,$tab=a(h.tabs[b]).children("a").first(),skipUpdateToHash=!0,h.selectTab($tab,function(){setTimeout(function(){h.cycleTabs(b+1)},1e3*g.cycle)}))},h.publicMethods={select:function(b){var c;0===(c=h.tabs.filter(b)).length?0===(c=h.tabs.find("a[href='"+b+"']")).length&&0===(c=h.tabs.find("a"+b)).length&&0===(c=h.tabs.find("[data-target='"+b+"']")).length&&0===(c=h.tabs.find("a[href$='"+b+"']")).length&&a.error("Tab '"+b+"' does not exist in tab set"):c=c.children("a").first(),h.selectTab(c)}};var l=function(b,c,d){var e=a.Event(c);return b.trigger(e,d),e.result!==!1},m=function(){i.addClass(g.containerClass),h.tabs.parent().addClass(g.tabsClass),h.tabs.addClass(g.tabClass),h.panels.addClass(g.panelClass)},n=function(){var b,c=window.location.hash.match(/^[^\?]*/)[0],f=h.matchTab(c).parent();1===f.length?(d=f,g.cycle=!1):(b=h.matchInPanel(c),b.length?(c="#"+b.attr("id"),d=h.matchTab(c).parent()):(d=h.tabs.parent().find(g.defaultTab),0===d.length&&a.error("The specified default tab ('"+g.defaultTab+"') could not be found in the tab set ('"+g.tabs+"') out of "+h.tabs.length+" tabs."))),e=d.children("a").first(),o(f)},o=function(){var b,c;b=a(d.data("easytabs").panel),c=d.data("easytabs").ajax,!c||g.cache&&d.data("easytabs").cached||(i.trigger("easytabs:ajax:beforeSend",[e,b]),b.load(c,function(a,c,f){d.data("easytabs").cached=!0,i.trigger("easytabs:ajax:complete",[e,b,a,c,f])})),d.data("easytabs").panel.show().addClass(g.panelActiveClass),d.addClass(g.tabActiveClass).children().addClass(g.tabActiveClass),i.trigger("easytabs:initialised",[e,b])},p=function(){h.tabs.children("a").bind(g.bind_str,function(b){g.cycle=!1,h.selectTab(a(this)),b.preventDefault?b.preventDefault():b.returnValue=!1})},q=function(b,c,d,e){if(h.panels.stop(!0,!0),l(i,"easytabs:before",[b,c,g])){var j,k=h.panels.filter(":visible"),m=c.parent();window.location.hash.match(/^[^\?]*/)[0],c.siblings().filter(".no-cached").empty(),j=function(){i.trigger("easytabs:midTransition",[b,c,g]),"fadeIn"==g.transitionIn&&m.animate(f.halfSpeed),c[f.show](f.speed,g.transitionInEasing,function(){i.trigger("easytabs:after",[b,c,g]),"function"==typeof e&&e()})};var n,o,p,q,r=c.find("iframe")[0],s="border:none;background:transparent;width:100%;height:100%;";d&&(i.trigger("easytabs:ajax:beforeSend",[b,c]),b.data("iframe")?r||(r=document.createElement("iframe"),r.setAttribute("frameborder",0,0),r.style.cssText=s,c[0].appendChild(r),n=a(r),o=c.parent(),p=o.innerHeight()-20,q=o.innerWidth()-20,n.attr("src",d),n.height(p),n.width(q)):c.load(d,function(d,e,f){b.parent().data("easytabs").cached=0==a(this).data("cached")?!1:!0,i.trigger("easytabs:ajax:complete",[b,c,d,e,f])})),"fadeOut"==g.transitionOut&&m.animate(f.halfSpeed),h.tabs.filter("."+g.tabActiveClass).removeClass(g.tabActiveClass).children().removeClass(g.tabActiveClass),b.parent().addClass(g.tabActiveClass).children().addClass(g.tabActiveClass),h.panels.filter("."+g.panelActiveClass).removeClass(g.panelActiveClass),c.addClass(g.panelActiveClass),k.length?k[f.hide](f.speed,g.transitionOutEasing,j):c[f.uncollapse](f.speed,g.transitionUncollapseEasing,j)}},r=function(){var a;g.cycle&&(a=h.tabs.index(d),setTimeout(function(){h.cycleTabs(a+1)},g.cycle))};h.init()},a.fn.easytabs=a.fn.tabs=function(b){var c=arguments;return this.each(function(){var d=a(this),e=d.data("easytabs");return void 0===e&&(e=new a.easytabs(this,b),d.data("easytabs",e)),e.publicMethods[b]?e.publicMethods[b](Array.prototype.slice.call(c,1)):void 0})},a.fn.tabsResize=function(b){return this.each(function(){var c=a(this),d=c.data("easytabs");void 0===d&&(d=new a.easytabs(this,options),c.data("easytabs",d)),b.height&&d.tabsResize(b)})}}($||jQuery);