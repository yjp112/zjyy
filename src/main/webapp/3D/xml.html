<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>中控信息大厦三维全景</title>
		<script type='text/javascript' src='Connector.js'></script>
		<script type='text/javascript' src='jquery.min.js'></script>
		<script type="text/javascript">
		<!--
		var unityObjectUrl = "UnityObject2.js";
		if (document.location.protocol == 'https:')
			unityObjectUrl = unityObjectUrl.replace("http://", "https://ssl-");
		document.write('<script type="text\/javascript" src="' + unityObjectUrl + '"><\/script>');
		-->
		</script>
		<script type="text/javascript">
		<!--
			var config = {
				width: 1400, 
				height: 840,
				params: { enableDebugging:"0",disableContextMenu: true}
			};
			var u = new UnityObject2(config);

			jQuery(function() {

				var $missingScreen = jQuery("#unityPlayer").find(".missing");
				var $brokenScreen = jQuery("#unityPlayer").find(".broken");
				$missingScreen.hide();
				$brokenScreen.hide();
				
				u.observeProgress(function (progress) {
					switch(progress.pluginStatus) {
						case "broken":
							$brokenScreen.find("a").click(function (e) {
								e.stopPropagation();
								e.preventDefault();
								u.installPlugin();
								return false;
							});
							$brokenScreen.show();
						break;
						case "missing":
							$missingScreen.find("a").click(function (e) {
								e.stopPropagation();
								e.preventDefault();
								u.installPlugin();
								return false;
							});
							$missingScreen.show();
						break;
						case "installed":
							$missingScreen.remove();
						break;
						case "first":
						break;
					}
				});
				u.initPlugin(jQuery("#unityPlayer")[0], "xml.unity3d");
			});
			/*--通知设备显示什么信息--*/
			/*--参数格式 string arg = "信息内容"--*/
			function NotifyInfoToUnity(arg)
			{
				if(isNaN(arg))
				{
					arg = "C_20F_REM_CHT_002|1111";
				}
				//alert( arg );
				u.getUnity().SendMessage("Main Camera","NotifyDeviceString",arg);
			}
			/*--通知设备当前状态（颜色，alpha）--*/
			/*--参数格式 string arg = "color,alpha"--值的组成顺序不能乱*/
			function NotifyAttributeToUnity(arg)
			{
				if(isNaN(arg))
				{
					arg = "C_20F_REM_CHT_002|FF0000FF";
				}
				//alert( arg );
				u.getUnity().SendMessage("Main Camera","NotifyDeviceState",arg);
			}
		-->
		</script>
		<script type="text/javascript">  
			function onLoaded(arg){ 
				readETHStatus();
				setInterval(readETHStatus,10000);
			} 
			function readETHStatus(){
			    var param={'t':new Date().getTime()};
			    $.post("/jcds/threeD/readETHStatus",param,function (data) {	
			    	u.getUnity().SendMessage("Main Camera","NotifyDeviceString","E_20F_REM_ETH_001|"+data.E_20F_REM_ETH_001);
			    	u.getUnity().SendMessage("Main Camera","NotifyDeviceString","E_20F_REM_ETH_002|"+data.E_20F_REM_ETH_002);
			    	u.getUnity().SendMessage("Main Camera","NotifyDeviceString","E_20F_REM_ETH_003|"+data.E_20F_REM_ETH_003);
			    	u.getUnity().SendMessage("Main Camera","NotifyDeviceString","E_20F_REM_ETH_004|"+data.E_20F_REM_ETH_004);
			    	u.getUnity().SendMessage("Main Camera","NotifyDeviceString","E_20F_REM_ETH_005|"+data.E_20F_REM_ETH_005);
			    	u.getUnity().SendMessage("Main Camera","NotifyDeviceString","E_20F_REM_ETH_006|"+data.E_20F_REM_ETH_006);
			    	u.getUnity().SendMessage("Main Camera","NotifyDeviceString","E_20F_REM_ETH_007|"+data.E_20F_REM_ETH_007);
			    	u.getUnity().SendMessage("Main Camera","NotifyDeviceString","E_20F_REM_ETH_008|"+data.E_20F_REM_ETH_008);
			    	u.getUnity().SendMessage("Main Camera","NotifyDeviceString","E_20F_REM_ETH_009|"+data.E_20F_REM_ETH_009);
			    	u.getUnity().SendMessage("Main Camera","NotifyDeviceString","E_20F_REM_ETH_010|"+data.E_20F_REM_ETH_010);
			    	u.getUnity().SendMessage("Main Camera","NotifyDeviceString","E_20F_REM_ETH_011|"+data.E_20F_REM_ETH_011);
			    	u.getUnity().SendMessage("Main Camera","NotifyDeviceString","E_20F_REM_ETH_012|"+data.E_20F_REM_ETH_012);
			    	u.getUnity().SendMessage("Main Camera","NotifyDeviceString","E_20F_REM_ETH_013|"+data.E_20F_REM_ETH_013);
			    	u.getUnity().SendMessage("Main Camera","NotifyDeviceString","E_20F_REM_ETH_014|"+data.E_20F_REM_ETH_014);
			    	u.getUnity().SendMessage("Main Camera","NotifyDeviceString","E_20F_REM_ETH_015|"+data.E_20F_REM_ETH_015);
			    	u.getUnity().SendMessage("Main Camera","NotifyDeviceString","E_20F_REM_ETH_016|"+data.E_20F_REM_ETH_016);
			    	u.getUnity().SendMessage("Main Camera","NotifyDeviceString","E_20F_REM_ETH_017|"+data.E_20F_REM_ETH_017);
			    	u.getUnity().SendMessage("Main Camera","NotifyDeviceString","E_20F_REM_ETH_018|"+data.E_20F_REM_ETH_018);
			    	u.getUnity().SendMessage("Main Camera","NotifyDeviceString","E_20F_REM_ETH_019|"+data.E_20F_REM_ETH_019);
			    	u.getUnity().SendMessage("Main Camera","NotifyDeviceString","E_20F_REM_ETH_020|"+data.E_20F_REM_ETH_020);
			    	u.getUnity().SendMessage("Main Camera","NotifyDeviceString","E_20F_REM_ETH_021|"+data.E_20F_REM_ETH_021);	 
			     });				    
			 }  
			function getMachineInfo(arg) { 
				if(arg=='C_20F_REM_CHT_001'){
					 window.open('/jcds/3D/flashCHT1.html','机房列头柜一', 'height=400, width=800, top=180, left=280, toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no');
				}
				if(arg=='C_20F_REM_CHT_002'){
					 window.open('/jcds/3D/flashCHT2.html','机房列头柜二', 'height=400, width=800, top=180, left=280, toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no');
				}
				if(arg=='C_20F_REM_PAC_001'){
					 window.open('/jcds/3D/flashPAC1.html','精密空调一', 'height=400, width=800, top=180, left=280, toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no');
				}
				if(arg=='C_20F_REM_PAC_002'){
					 window.open('/jcds/3D/flashPAC2.html','精密空调二', 'height=400, width=800, top=180, left=280, toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no');
				}
				if(arg=='C_20F_REM_PAU_001'){
					 window.open('/jcds/3D/flashPAU.html','新风空调', 'height=400, width=800, top=180, left=280, toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no');
				}
				if(arg=='C_20F_REM_UPS_001'){
					 window.open('/jcds/3D/flashUPS.html','机房UPS', 'height=400, width=800, top=180, left=280, toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no');
				}
				if(arg=='C_20F_REM_AM_001'){
					 window.open('/jcds/3D/flashAM1.html','机房交流输出柜电表一', 'height=400, width=800, top=180, left=280, toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no');
				}
				if(arg=='C_20F_REM_AM_002'){
					 window.open('/jcds/3D/flashAM2.html','机房交流输出柜电表二', 'height=400, width=800, top=180, left=280, toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no');
				}
				if(arg=='A_01F_VS_HB_003'){
					var url  = '/jcds/hl/video/video?hpid='+arg;
					window.open(url,'video', 'left='+(window.screen.width-902)/2+' top='+(window.screen.height-
351)/2+', height=351, width=902, toolbar=no, menubar=no, scrollbars=yes, resizable=no, location=no, status=no');
				}
			} 
		/*--具体怎么实现我对Html,熟悉一般，纯粹演示代码--*/
			function NotifyCameraToUnity(arg)
			{
				u.getUnity().SendMessage("Main Camera","NotifyCameraPosition","0");
			}
			function NotifyCameraToUnity1(arg)
			{
				u.getUnity().SendMessage("Main Camera","NotifyCameraPosition","1");
			}
			function NotifyCameraToUnity2(arg)
			{
				u.getUnity().SendMessage("Main Camera","NotifyCameraPosition","2");
			}
			function NotifyCameraToUnity3(arg)
			{
				u.getUnity().SendMessage("Main Camera","NotifyCameraPosition","3");
			}
			function NotifyCameraToUnity4(arg)
			{
				u.getUnity().SendMessage("Main Camera","NotifyCameraPosition","4");
			}
			function NotifyCameraToUnity5(arg)
			{
				u.getUnity().SendMessage("Main Camera","NotifyCameraPosition","5");
			}
			function NotifyCameraToUnity6(arg)
			{
				u.getUnity().SendMessage("Main Camera","NotifyCameraPosition","6");
			}
			function NotifyCameraToUnity7(arg)
			{
			    u.getUnity().SendMessage("Main Camera","NotifyCameraPosition","7");
			}
		$(function(){
			$(".buttons ul li").on('click',function(){
				$(this).addClass('current').siblings('li').removeClass('current');
			})
		});
        </script>
		<style type="text/css">
		<!--
		body {
			font-family: Helvetica, Verdana, Arial, sans-serif;
			background-color: white;
			color: black;
			text-align: center;
		}
		a:link, a:visited {
			color: #000;
		}
		a:active, a:hover {
			color: #666;
		}
		p.header {
			font-size: small;
		}
		p.header span {
			font-weight: bold;
		}
		p.footer {
			font-size: x-small;
		}
		div.content {
			margin: auto;
			width: 1400px;
		}
		div.broken,
		div.missing {
			margin: auto;
			position: relative;
			top: 50%;
			width: 193px;
		}
		div.broken a,
		div.missing a {
			height: 63px;
			position: relative;
			top: -31px;
		}
		div.broken img,
		div.missing img {
			border-width: 0px;
		}
		div.broken {
			display: none;
		}
		div#unityPlayer {
			cursor: default;
			height: 840px;
			width: 1400px;
		}
		-->
		.content ul {
			list-style: none;
			padding: 0;
		}
		.content {
			position: relative;
		}
		.buttons {
			position: absolute;
			top: 0;
			left: -80px;
			width: 80px;
			height: 300px;
		}
		.buttons ul li {
			float：left;
			width: 100%;
			height: 60px;
			line-height: 60px;
			box-sizing: border-box;
			margin-bottom: 10px;
			border-radius: 10px;
			border: 1px solid #c5c5c5;
		}
		.buttons ul li a {
			display: inline-block;
			width: 100%;
			height: 100%;
			text-decoration: none;
			font-size: 14px;
			font-weight: bold;
		}
		.buttons ul li a:hover {
			color: #ff5100;
		}
		.buttons ul li.current {
			background: #005100;
		}
		.buttons ul li.current a {
			color: #fff;
		}
		</style>
	</head>
	<body>
		
		<div class="content">
			<div class="buttons">
				<ul>
					<li class="current"><a href="#" onclick="NotifyCameraToUnity6();">园区全景</a></li>
					<li><a href="#" onclick="NotifyCameraToUnity5();">机房俯视</a></li>
					<li><a href="#" onclick="NotifyCameraToUnity4();" >机房漫游</a></li>
					<li><a href="#" onclick="NotifyCameraToUnity3();">楼层漫游</a></li>
					<li><a href="#" onclick="NotifyCameraToUnity2();">监控漫游</a></li>
					<li><a href="#" onclick="NotifyCameraToUnity1();">大厅漫游</a></li>
					<li><a href="#" onclick="NotifyCameraToUnity();">门口漫游</a></li>
					<li><a href="#" onclick="NotifyCameraToUnity7();">水泵房</a></li>
				</ul>		
			</div>
			<div id="unityPlayer">
				<div class="missing">
					<a href="http://unity3d.com/webplayer/" title="Unity Web Player. Install now!">
						<img alt="Unity Web Player. Install now!" src="http://webplayer.unity3d.com/installation/getunity.png" width="193" height="63" />
					</a>
				</div>
				<div class="broken">
					<a href="http://unity3d.com/webplayer/" title="Unity Web Player. Install now! Restart your browser after install.">
						<img alt="Unity Web Player. Install now! Restart your browser after install." src="http://webplayer.unity3d.com/installation/getunityrestart.png" width="193" height="63" />
					</a>
				</div>
			</div>
		</div>
	<!--  	<p><input id="sendButton" type="button" value="Send" 
			onclick="readETHStatus();"/></p>
		<p><input id="sendButton" type="button" value="Send" 
			onclick="NotifyAttributeToUnity();"/></p>-->
	</body>
</html>
