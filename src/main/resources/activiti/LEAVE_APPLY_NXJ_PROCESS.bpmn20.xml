<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://www.activiti.org/test">
<process id="LEAVE_APPLY_NXJ_PROCESS" name="请假流程(年休假)" isExecutable="true">
<startEvent id="sid-186CA2D0-54AB-4214-9BED-7D61965E987E" activiti:initiator="_initiator" activiti:formUrl="/employee/leave/edit"/>
<endEvent id="sid-F3182D0B-09ED-4AE2-A6CE-5CF440B49435"/>
<userTask id="sid-3BAFEAA1-46B3-4F2C-A9FC-1BDD6D8F0471" name="请假申请" activiti:assignUsers="${_initiator}" activiti:formUrl="/employee/leave/edit?id=${task.id}">
<documentation>${task.processInstanceName}</documentation>
</userTask>
<sequenceFlow id="sid-336FBFB0-6B2B-4982-8211-F22F6040BA83" sourceRef="sid-186CA2D0-54AB-4214-9BED-7D61965E987E" targetRef="sid-3BAFEAA1-46B3-4F2C-A9FC-1BDD6D8F0471"/>
<exclusiveGateway id="sid-5A05424A-D491-4FA3-A442-F27EB537C332"/>
<userTask id="sid-A54CB643-5A22-4B46-8E24-51F87C077A4E" name="室主任审批" activiti:assignPersons="${task.handlePersonCode}" activiti:formUrl="/employee/leave/audit?id=${task.id}">
<documentation>${task.processInstanceName}</documentation>
</userTask>
<userTask id="sid-2322DEDF-5338-4F12-B331-C1B6941109D4" name="部长审批" activiti:assignPersons="${task.handlePersonCode}" activiti:formUrl="/employee/leave/audit?id=${task.id}">
<documentation>${task.processInstanceName}</documentation>
</userTask>
<userTask id="sid-5C19907E-00CA-420B-965B-3D6B291A2187" name="人力资源审批" activiti:assignPersons="${task.handlePersonCode}" activiti:formUrl="/employee/leave/audit?id=${task.id}">
<documentation>${task.processInstanceName}</documentation>
</userTask>
<exclusiveGateway id="sid-5B99DDE2-DA2A-4923-AA1A-EA777861BF2D"/>
<exclusiveGateway id="sid-866E0F45-9E6F-4555-80D0-F6C13DEDA504"/>
<sequenceFlow id="sid-F276E4E5-45C8-4CC5-BB1D-483D83A1D31D" name="员工" sourceRef="sid-5A05424A-D491-4FA3-A442-F27EB537C332" targetRef="sid-A54CB643-5A22-4B46-8E24-51F87C077A4E">
<conditionExpression xsi:type="tFormalExpression">
<![CDATA[ ${task.postId==4} ]]>
</conditionExpression>
</sequenceFlow>
<sequenceFlow id="LEAVE_APPLY_FINISH" name="提交" sourceRef="sid-5C19907E-00CA-420B-965B-3D6B291A2187" targetRef="sid-F3182D0B-09ED-4AE2-A6CE-5CF440B49435"/>
<sequenceFlow id="sid-692B5146-215B-480B-B656-DD561CD1380B" name="不同意" sourceRef="sid-866E0F45-9E6F-4555-80D0-F6C13DEDA504" targetRef="sid-F3182D0B-09ED-4AE2-A6CE-5CF440B49435">
<conditionExpression xsi:type="tFormalExpression">
<![CDATA[ ${task.status==0} ]]>
</conditionExpression>
</sequenceFlow>
<sequenceFlow id="sid-214EA3D5-44F4-4218-AD5E-FB5D7355F522" name="不同意" sourceRef="sid-5B99DDE2-DA2A-4923-AA1A-EA777861BF2D" targetRef="sid-F3182D0B-09ED-4AE2-A6CE-5CF440B49435">
<conditionExpression xsi:type="tFormalExpression">
<![CDATA[ ${task.status==0} ]]>
</conditionExpression>
</sequenceFlow>
<sequenceFlow id="LEAVE_APPLY_KZ" name="提交" sourceRef="sid-A54CB643-5A22-4B46-8E24-51F87C077A4E" targetRef="sid-5B99DDE2-DA2A-4923-AA1A-EA777861BF2D"/>
<sequenceFlow id="LEAVE_APPLY" name="提交" sourceRef="sid-3BAFEAA1-46B3-4F2C-A9FC-1BDD6D8F0471" targetRef="sid-5A05424A-D491-4FA3-A442-F27EB537C332"/>
<sequenceFlow id="sid-4FED53DA-07EA-43F2-BCBB-DA5BC0A7E135" name="同意" sourceRef="sid-5B99DDE2-DA2A-4923-AA1A-EA777861BF2D" targetRef="sid-2322DEDF-5338-4F12-B331-C1B6941109D4">
<conditionExpression xsi:type="tFormalExpression">
<![CDATA[ ${task.status==1} ]]>
</conditionExpression>
</sequenceFlow>
<sequenceFlow id="sid-E74E3A4C-E7F9-46CE-B8CC-1DE58173E452" name="科长" sourceRef="sid-5A05424A-D491-4FA3-A442-F27EB537C332" targetRef="sid-2322DEDF-5338-4F12-B331-C1B6941109D4">
<conditionExpression xsi:type="tFormalExpression">
<![CDATA[ ${task.postId==3} ]]>
</conditionExpression>
</sequenceFlow>
<sequenceFlow id="LEAVE_APPLY_LEADER" name="提交" sourceRef="sid-2322DEDF-5338-4F12-B331-C1B6941109D4" targetRef="sid-866E0F45-9E6F-4555-80D0-F6C13DEDA504"/>
<sequenceFlow id="sid-BA133064-A5F0-433D-9B24-ABD20C7CE57D" name="同意" sourceRef="sid-866E0F45-9E6F-4555-80D0-F6C13DEDA504" targetRef="sid-5C19907E-00CA-420B-965B-3D6B291A2187">
<conditionExpression xsi:type="tFormalExpression">
<![CDATA[ ${task.status==1} ]]>
</conditionExpression>
</sequenceFlow>
</process>
<bpmndi:BPMNDiagram id="BPMNDiagram_LEAVE_APPLY_NXJ_PROCESS">
<bpmndi:BPMNPlane bpmnElement="LEAVE_APPLY_NXJ_PROCESS" id="BPMNPlane_LEAVE_APPLY_NXJ_PROCESS">
<bpmndi:BPMNShape bpmnElement="sid-186CA2D0-54AB-4214-9BED-7D61965E987E" id="BPMNShape_sid-186CA2D0-54AB-4214-9BED-7D61965E987E">
<omgdc:Bounds height="30.0" width="30.0" x="45.0" y="365.0"/>
</bpmndi:BPMNShape>
<bpmndi:BPMNShape bpmnElement="sid-F3182D0B-09ED-4AE2-A6CE-5CF440B49435" id="BPMNShape_sid-F3182D0B-09ED-4AE2-A6CE-5CF440B49435">
<omgdc:Bounds height="28.0" width="28.0" x="726.0" y="366.0"/>
</bpmndi:BPMNShape>
<bpmndi:BPMNShape bpmnElement="sid-3BAFEAA1-46B3-4F2C-A9FC-1BDD6D8F0471" id="BPMNShape_sid-3BAFEAA1-46B3-4F2C-A9FC-1BDD6D8F0471">
<omgdc:Bounds height="80.0" width="100.0" x="135.0" y="340.0"/>
</bpmndi:BPMNShape>
<bpmndi:BPMNShape bpmnElement="sid-5A05424A-D491-4FA3-A442-F27EB537C332" id="BPMNShape_sid-5A05424A-D491-4FA3-A442-F27EB537C332">
<omgdc:Bounds height="40.0" width="40.0" x="300.0" y="360.0"/>
</bpmndi:BPMNShape>
<bpmndi:BPMNShape bpmnElement="sid-A54CB643-5A22-4B46-8E24-51F87C077A4E" id="BPMNShape_sid-A54CB643-5A22-4B46-8E24-51F87C077A4E">
<omgdc:Bounds height="80.0" width="100.0" x="405.0" y="90.0"/>
</bpmndi:BPMNShape>
<bpmndi:BPMNShape bpmnElement="sid-2322DEDF-5338-4F12-B331-C1B6941109D4" id="BPMNShape_sid-2322DEDF-5338-4F12-B331-C1B6941109D4">
<omgdc:Bounds height="80.0" width="100.0" x="405.0" y="340.0"/>
</bpmndi:BPMNShape>
<bpmndi:BPMNShape bpmnElement="sid-5C19907E-00CA-420B-965B-3D6B291A2187" id="BPMNShape_sid-5C19907E-00CA-420B-965B-3D6B291A2187">
<omgdc:Bounds height="80.0" width="100.0" x="540.0" y="480.0"/>
</bpmndi:BPMNShape>
<bpmndi:BPMNShape bpmnElement="sid-5B99DDE2-DA2A-4923-AA1A-EA777861BF2D" id="BPMNShape_sid-5B99DDE2-DA2A-4923-AA1A-EA777861BF2D">
<omgdc:Bounds height="40.0" width="40.0" x="435.0" y="225.0"/>
</bpmndi:BPMNShape>
<bpmndi:BPMNShape bpmnElement="sid-866E0F45-9E6F-4555-80D0-F6C13DEDA504" id="BPMNShape_sid-866E0F45-9E6F-4555-80D0-F6C13DEDA504">
<omgdc:Bounds height="40.0" width="40.0" x="570.0" y="360.0"/>
</bpmndi:BPMNShape>
<bpmndi:BPMNEdge bpmnElement="sid-692B5146-215B-480B-B656-DD561CD1380B" id="BPMNEdge_sid-692B5146-215B-480B-B656-DD561CD1380B">
<omgdi:waypoint x="609.5637583892617" y="380.43624161073825"/>
<omgdi:waypoint x="726.0000782982436" y="380.0468224806079"/>
</bpmndi:BPMNEdge>
<bpmndi:BPMNEdge bpmnElement="sid-F276E4E5-45C8-4CC5-BB1D-483D83A1D31D" id="BPMNEdge_sid-F276E4E5-45C8-4CC5-BB1D-483D83A1D31D">
<omgdi:waypoint x="320.5" y="360.5"/>
<omgdi:waypoint x="320.5" y="130.0"/>
<omgdi:waypoint x="405.0" y="130.0"/>
</bpmndi:BPMNEdge>
<bpmndi:BPMNEdge bpmnElement="sid-4FED53DA-07EA-43F2-BCBB-DA5BC0A7E135" id="BPMNEdge_sid-4FED53DA-07EA-43F2-BCBB-DA5BC0A7E135">
<omgdi:waypoint x="455.5" y="264.5"/>
<omgdi:waypoint x="455.5" y="340.0"/>
</bpmndi:BPMNEdge>
<bpmndi:BPMNEdge bpmnElement="LEAVE_APPLY_LEADER" id="BPMNEdge_LEAVE_APPLY_LEADER">
<omgdi:waypoint x="505.0" y="380.1845018450185"/>
<omgdi:waypoint x="570.4259259259259" y="380.4259259259259"/>
</bpmndi:BPMNEdge>
<bpmndi:BPMNEdge bpmnElement="sid-E74E3A4C-E7F9-46CE-B8CC-1DE58173E452" id="BPMNEdge_sid-E74E3A4C-E7F9-46CE-B8CC-1DE58173E452">
<omgdi:waypoint x="339.5" y="380.5"/>
<omgdi:waypoint x="405.0" y="380.5"/>
</bpmndi:BPMNEdge>
<bpmndi:BPMNEdge bpmnElement="sid-BA133064-A5F0-433D-9B24-ABD20C7CE57D" id="BPMNEdge_sid-BA133064-A5F0-433D-9B24-ABD20C7CE57D">
<omgdi:waypoint x="590.5" y="399.5"/>
<omgdi:waypoint x="590.5" y="480.0"/>
</bpmndi:BPMNEdge>
<bpmndi:BPMNEdge bpmnElement="LEAVE_APPLY_FINISH" id="BPMNEdge_LEAVE_APPLY_FINISH">
<omgdi:waypoint x="640.0" y="520.0"/>
<omgdi:waypoint x="740.0" y="520.0"/>
<omgdi:waypoint x="740.0" y="394.0"/>
</bpmndi:BPMNEdge>
<bpmndi:BPMNEdge bpmnElement="LEAVE_APPLY" id="BPMNEdge_LEAVE_APPLY">
<omgdi:waypoint x="235.0" y="380.1845018450185"/>
<omgdi:waypoint x="300.4259259259259" y="380.4259259259259"/>
</bpmndi:BPMNEdge>
<bpmndi:BPMNEdge bpmnElement="sid-336FBFB0-6B2B-4982-8211-F22F6040BA83" id="BPMNEdge_sid-336FBFB0-6B2B-4982-8211-F22F6040BA83">
<omgdi:waypoint x="75.0" y="380.0"/>
<omgdi:waypoint x="135.0" y="380.0"/>
</bpmndi:BPMNEdge>
<bpmndi:BPMNEdge bpmnElement="sid-214EA3D5-44F4-4218-AD5E-FB5D7355F522" id="BPMNEdge_sid-214EA3D5-44F4-4218-AD5E-FB5D7355F522">
<omgdi:waypoint x="474.5" y="245.5"/>
<omgdi:waypoint x="740.0" y="245.5"/>
<omgdi:waypoint x="740.0" y="366.0"/>
</bpmndi:BPMNEdge>
<bpmndi:BPMNEdge bpmnElement="LEAVE_APPLY_KZ" id="BPMNEdge_LEAVE_APPLY_KZ">
<omgdi:waypoint x="455.17316017316017" y="170.0"/>
<omgdi:waypoint x="455.4130434782609" y="225.41304347826087"/>
</bpmndi:BPMNEdge>
</bpmndi:BPMNPlane>
</bpmndi:BPMNDiagram>
</definitions>