<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://www.activiti.org/test">
  <process id="DEVICE_MAINTAIN_PROCESS" name="设备保养流程" isExecutable="true">
    <documentation>设备保养流程</documentation>
    <startEvent id="sid-186CA2D0-54AB-4214-9BED-7D61965E987E" activiti:initiator="_initiator" activiti:formUrl="/repair/task/edit"></startEvent>
    <userTask id="sid-0FAE64D0-40C8-4E2A-9DF2-4AE504FAB41A" name="填写保养单" activiti:assignPersons="${task.handlePersonCode}" activiti:formUrl="/maintain/task/edit?view=true&amp;id=${task.id}">
      <documentation>${task.processInstanceName}</documentation>
    </userTask>
    <userTask id="sid-38915998-EC94-4BCD-A89C-A3ED1538313E" name="主管工程师审核" activiti:assignPersons="${task.handlePersonCode}" activiti:formUrl="/maintain/task/edit?viewOnly=true&amp;view=true&amp;id=${task.id}">
      <documentation>${task.processInstanceName}</documentation>
    </userTask>
    <endEvent id="sid-19E87999-9537-4A85-8BF4-3B2AB47094DC"></endEvent>
    <serviceTask id="maintain_system_publish" name="发布保养任务" activiti:delegateExpression="${maintainTaskPublishService}">
      <documentation>${task.processInstanceName}</documentation>
      <extensionElements>
        <activiti:field name="taskId">
          <activiti:expression>${task.id}</activiti:expression>
        </activiti:field>
      </extensionElements>
    </serviceTask>
    <sequenceFlow id="sid-5951FBAF-13E6-4A4B-9D3A-938051A27AB8" sourceRef="sid-186CA2D0-54AB-4214-9BED-7D61965E987E" targetRef="maintain_system_publish"></sequenceFlow>
    <sequenceFlow id="MAINTAIN_TASK_FINISH" name="提交" sourceRef="sid-38915998-EC94-4BCD-A89C-A3ED1538313E" targetRef="sid-19E87999-9537-4A85-8BF4-3B2AB47094DC"></sequenceFlow>
    <sequenceFlow id="MAINTAIN_TASK_COMMIT" name="提交" sourceRef="sid-0FAE64D0-40C8-4E2A-9DF2-4AE504FAB41A" targetRef="sid-38915998-EC94-4BCD-A89C-A3ED1538313E"></sequenceFlow>
    <sequenceFlow id="BYD_SEND_ID" name="提交" sourceRef="maintain_system_publish" targetRef="sid-0FAE64D0-40C8-4E2A-9DF2-4AE504FAB41A"></sequenceFlow>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_DEVICE_MAINTAIN_PROCESS">
    <bpmndi:BPMNPlane bpmnElement="DEVICE_MAINTAIN_PROCESS" id="BPMNPlane_DEVICE_MAINTAIN_PROCESS">
      <bpmndi:BPMNShape bpmnElement="sid-186CA2D0-54AB-4214-9BED-7D61965E987E" id="BPMNShape_sid-186CA2D0-54AB-4214-9BED-7D61965E987E">
        <omgdc:Bounds height="30.0" width="30.0" x="45.0" y="145.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-0FAE64D0-40C8-4E2A-9DF2-4AE504FAB41A" id="BPMNShape_sid-0FAE64D0-40C8-4E2A-9DF2-4AE504FAB41A">
        <omgdc:Bounds height="80.0" width="100.0" x="330.0" y="120.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-38915998-EC94-4BCD-A89C-A3ED1538313E" id="BPMNShape_sid-38915998-EC94-4BCD-A89C-A3ED1538313E">
        <omgdc:Bounds height="80.0" width="100.0" x="540.0" y="120.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-19E87999-9537-4A85-8BF4-3B2AB47094DC" id="BPMNShape_sid-19E87999-9537-4A85-8BF4-3B2AB47094DC">
        <omgdc:Bounds height="28.0" width="28.0" x="735.0" y="146.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="maintain_system_publish" id="BPMNShape_maintain_system_publish">
        <omgdc:Bounds height="80.0" width="100.0" x="150.0" y="120.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="MAINTAIN_TASK_COMMIT" id="BPMNEdge_MAINTAIN_TASK_COMMIT">
        <omgdi:waypoint x="430.0" y="160.0"></omgdi:waypoint>
        <omgdi:waypoint x="540.0" y="160.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-5951FBAF-13E6-4A4B-9D3A-938051A27AB8" id="BPMNEdge_sid-5951FBAF-13E6-4A4B-9D3A-938051A27AB8">
        <omgdi:waypoint x="75.0" y="160.0"></omgdi:waypoint>
        <omgdi:waypoint x="150.0" y="160.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="BYD_SEND_ID" id="BPMNEdge_BYD_SEND_ID">
        <omgdi:waypoint x="250.0" y="160.0"></omgdi:waypoint>
        <omgdi:waypoint x="330.0" y="160.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="MAINTAIN_TASK_FINISH" id="BPMNEdge_MAINTAIN_TASK_FINISH">
        <omgdi:waypoint x="640.0" y="160.0"></omgdi:waypoint>
        <omgdi:waypoint x="735.0" y="160.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>