<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://www.activiti.org/test">
<process id="LEAVE_APPLY_SJ_PROCESS" name="请假流程(事假)" isExecutable="true">
<documentation>事假</documentation>
<startEvent id="sid-186CA2D0-54AB-4214-9BED-7D61965E987E" activiti:initiator="_initiator" activiti:formUrl="/employee/leave/edit"/>
<userTask id="sid-B49EC790-8A41-4CB4-B03B-0883BC573A24" name="请假申请" activiti:assignUsers="${_initiator}" activiti:formUrl="/employee/leave/edit?id=${task.id}">
<documentation>${task.processInstanceName}</documentation>
</userTask>
<sequenceFlow id="sid-4138ADD8-0DD5-45C3-A281-2BF65E5C7228" sourceRef="sid-186CA2D0-54AB-4214-9BED-7D61965E987E" targetRef="sid-B49EC790-8A41-4CB4-B03B-0883BC573A24"/>
<exclusiveGateway id="sid-4DF85C45-1AED-4278-BDE9-AF3EE8518D31"/>
<userTask id="sid-0A6F2515-EFB8-4E53-810D-BCBCF824B7CF" name="室主任审批" activiti:assignPersons="${task.handlePersonCode}" activiti:formUrl="/employee/leave/audit?id=${task.id}">
<documentation>${task.processInstanceName}</documentation>
</userTask>
<userTask id="sid-EA23D0CD-162F-44D8-8BC0-663FF630987B" name="部长审批" activiti:assignPersons="${task.handlePersonCode}" activiti:formUrl="/employee/leave/audit?id=${task.id}">
<documentation>${task.processInstanceName}</documentation>
</userTask>
<userTask id="sid-4F917F50-A413-4FF0-B04F-83A4525167BD" name="中心领导审批" activiti:assignPersons="${task.handlePersonCode}" activiti:formUrl="/employee/leave/audit?id=${task.id}">
<documentation>${task.processInstanceName}</documentation>
</userTask>
<exclusiveGateway id="sid-0D0B1A1A-8568-4BB6-87F4-CC8A678F3CF9"/>
<endEvent id="sid-690A39BF-B426-4291-B678-9E68836E56D3"/>
<exclusiveGateway id="sid-4DEE1CEC-170F-4BF9-A14C-25EC8114DC45"/>
<sequenceFlow id="sid-963200E2-0D1F-4397-9C1D-FF16809ABB29" name="员工" sourceRef="sid-4DF85C45-1AED-4278-BDE9-AF3EE8518D31" targetRef="sid-0A6F2515-EFB8-4E53-810D-BCBCF824B7CF">
<conditionExpression xsi:type="tFormalExpression">
<![CDATA[ ${task.postId==4} ]]>
</conditionExpression>
</sequenceFlow>
<sequenceFlow id="sid-967B2E86-319E-40E3-BB47-40DDE85CA9C1" name="科长" sourceRef="sid-4DF85C45-1AED-4278-BDE9-AF3EE8518D31" targetRef="sid-EA23D0CD-162F-44D8-8BC0-663FF630987B">
<conditionExpression xsi:type="tFormalExpression">
<![CDATA[ ${task.postId==3} ]]>
</conditionExpression>
</sequenceFlow>
<sequenceFlow id="LEAVE_APPLY" name="提交" sourceRef="sid-B49EC790-8A41-4CB4-B03B-0883BC573A24" targetRef="sid-4DF85C45-1AED-4278-BDE9-AF3EE8518D31"/>
<sequenceFlow id="LEAVE_APPLY_KZ" name="提交" sourceRef="sid-0A6F2515-EFB8-4E53-810D-BCBCF824B7CF" targetRef="sid-0D0B1A1A-8568-4BB6-87F4-CC8A678F3CF9"/>
<sequenceFlow id="LEAVE_APPLY_BZ" name="提交" sourceRef="sid-EA23D0CD-162F-44D8-8BC0-663FF630987B" targetRef="sid-4DEE1CEC-170F-4BF9-A14C-25EC8114DC45"/>
<sequenceFlow id="LEAVE_APPLY_ZXLD" name="提交" sourceRef="sid-4F917F50-A413-4FF0-B04F-83A4525167BD" targetRef="sid-690A39BF-B426-4291-B678-9E68836E56D3"/>
<sequenceFlow id="sid-03A0B6D0-4318-40EA-A6F8-6A0573A48FD7" name=">5天" sourceRef="sid-4DEE1CEC-170F-4BF9-A14C-25EC8114DC45" targetRef="sid-4F917F50-A413-4FF0-B04F-83A4525167BD">
<conditionExpression xsi:type="tFormalExpression">
<![CDATA[ ${task.days > 5 && task.status==1} ]]>
</conditionExpression>
</sequenceFlow>
<sequenceFlow id="sid-27A7FF3F-F8EF-4FF1-AAEE-5916BE60F0C4" name="1-3天" sourceRef="sid-0D0B1A1A-8568-4BB6-87F4-CC8A678F3CF9" targetRef="sid-690A39BF-B426-4291-B678-9E68836E56D3">
<conditionExpression xsi:type="tFormalExpression">
<![CDATA[ ${task.days <= 3 || task.status==0} ]]>
</conditionExpression>
</sequenceFlow>
<sequenceFlow id="sid-3E385CEB-420D-4C37-BACD-EC8968809A2B" name=">3天" sourceRef="sid-0D0B1A1A-8568-4BB6-87F4-CC8A678F3CF9" targetRef="sid-EA23D0CD-162F-44D8-8BC0-663FF630987B">
<conditionExpression xsi:type="tFormalExpression">
<![CDATA[ ${task.days > 3 && task.status==1} ]]>
</conditionExpression>
</sequenceFlow>
<sequenceFlow id="sid-70CD9530-BBDC-4BD3-8FE4-577FA6DDA45A" name="&lt;5天" sourceRef="sid-4DEE1CEC-170F-4BF9-A14C-25EC8114DC45" targetRef="sid-690A39BF-B426-4291-B678-9E68836E56D3">
<conditionExpression xsi:type="tFormalExpression">
<![CDATA[ ${task.days <= 5 || task.status==0} ]]>
</conditionExpression>
</sequenceFlow>
</process>
<bpmndi:BPMNDiagram id="BPMNDiagram_LEAVE_APPLY_SJ_PROCESS">
<bpmndi:BPMNPlane bpmnElement="LEAVE_APPLY_SJ_PROCESS" id="BPMNPlane_LEAVE_APPLY_SJ_PROCESS">
<bpmndi:BPMNShape bpmnElement="sid-186CA2D0-54AB-4214-9BED-7D61965E987E" id="BPMNShape_sid-186CA2D0-54AB-4214-9BED-7D61965E987E">
<omgdc:Bounds height="30.0" width="30.0" x="15.0" y="250.0"/>
</bpmndi:BPMNShape>
<bpmndi:BPMNShape bpmnElement="sid-B49EC790-8A41-4CB4-B03B-0883BC573A24" id="BPMNShape_sid-B49EC790-8A41-4CB4-B03B-0883BC573A24">
<omgdc:Bounds height="80.0" width="100.0" x="90.0" y="225.0"/>
</bpmndi:BPMNShape>
<bpmndi:BPMNShape bpmnElement="sid-4DF85C45-1AED-4278-BDE9-AF3EE8518D31" id="BPMNShape_sid-4DF85C45-1AED-4278-BDE9-AF3EE8518D31">
<omgdc:Bounds height="40.0" width="40.0" x="255.0" y="245.0"/>
</bpmndi:BPMNShape>
<bpmndi:BPMNShape bpmnElement="sid-0A6F2515-EFB8-4E53-810D-BCBCF824B7CF" id="BPMNShape_sid-0A6F2515-EFB8-4E53-810D-BCBCF824B7CF">
<omgdc:Bounds height="80.0" width="100.0" x="330.0" y="90.0"/>
</bpmndi:BPMNShape>
<bpmndi:BPMNShape bpmnElement="sid-EA23D0CD-162F-44D8-8BC0-663FF630987B" id="BPMNShape_sid-EA23D0CD-162F-44D8-8BC0-663FF630987B">
<omgdc:Bounds height="80.0" width="100.0" x="465.0" y="225.0"/>
</bpmndi:BPMNShape>
<bpmndi:BPMNShape bpmnElement="sid-4F917F50-A413-4FF0-B04F-83A4525167BD" id="BPMNShape_sid-4F917F50-A413-4FF0-B04F-83A4525167BD">
<omgdc:Bounds height="80.0" width="100.0" x="615.0" y="360.0"/>
</bpmndi:BPMNShape>
<bpmndi:BPMNShape bpmnElement="sid-0D0B1A1A-8568-4BB6-87F4-CC8A678F3CF9" id="BPMNShape_sid-0D0B1A1A-8568-4BB6-87F4-CC8A678F3CF9">
<omgdc:Bounds height="40.0" width="40.0" x="495.0" y="110.0"/>
</bpmndi:BPMNShape>
<bpmndi:BPMNShape bpmnElement="sid-690A39BF-B426-4291-B678-9E68836E56D3" id="BPMNShape_sid-690A39BF-B426-4291-B678-9E68836E56D3">
<omgdc:Bounds height="28.0" width="28.0" x="810.0" y="251.0"/>
</bpmndi:BPMNShape>
<bpmndi:BPMNShape bpmnElement="sid-4DEE1CEC-170F-4BF9-A14C-25EC8114DC45" id="BPMNShape_sid-4DEE1CEC-170F-4BF9-A14C-25EC8114DC45">
<omgdc:Bounds height="40.0" width="40.0" x="645.0" y="245.0"/>
</bpmndi:BPMNShape>
<bpmndi:BPMNEdge bpmnElement="sid-3E385CEB-420D-4C37-BACD-EC8968809A2B" id="BPMNEdge_sid-3E385CEB-420D-4C37-BACD-EC8968809A2B">
<omgdi:waypoint x="516.900826446281" y="148.099173553719"/>
<omgdi:waypoint x="515.650406504065" y="225.0"/>
</bpmndi:BPMNEdge>
<bpmndi:BPMNEdge bpmnElement="sid-27A7FF3F-F8EF-4FF1-AAEE-5916BE60F0C4" id="BPMNEdge_sid-27A7FF3F-F8EF-4FF1-AAEE-5916BE60F0C4">
<omgdi:waypoint x="534.5" y="130.5"/>
<omgdi:waypoint x="824.0" y="130.5"/>
<omgdi:waypoint x="824.0" y="251.0"/>
</bpmndi:BPMNEdge>
<bpmndi:BPMNEdge bpmnElement="LEAVE_APPLY_ZXLD" id="BPMNEdge_LEAVE_APPLY_ZXLD">
<omgdi:waypoint x="715.0" y="400.0"/>
<omgdi:waypoint x="824.0" y="400.0"/>
<omgdi:waypoint x="824.0" y="279.0"/>
</bpmndi:BPMNEdge>
<bpmndi:BPMNEdge bpmnElement="LEAVE_APPLY_BZ" id="BPMNEdge_LEAVE_APPLY_BZ">
<omgdi:waypoint x="565.0" y="265.16611295681065"/>
<omgdi:waypoint x="645.4333333333333" y="265.43333333333334"/>
</bpmndi:BPMNEdge>
<bpmndi:BPMNEdge bpmnElement="LEAVE_APPLY" id="BPMNEdge_LEAVE_APPLY">
<omgdi:waypoint x="190.0" y="265.1845018450185"/>
<omgdi:waypoint x="255.42592592592592" y="265.4259259259259"/>
</bpmndi:BPMNEdge>
<bpmndi:BPMNEdge bpmnElement="sid-967B2E86-319E-40E3-BB47-40DDE85CA9C1" id="BPMNEdge_sid-967B2E86-319E-40E3-BB47-40DDE85CA9C1">
<omgdi:waypoint x="294.5397489539749" y="265.4602510460251"/>
<omgdi:waypoint x="465.0" y="265.1043841336117"/>
</bpmndi:BPMNEdge>
<bpmndi:BPMNEdge bpmnElement="sid-963200E2-0D1F-4397-9C1D-FF16809ABB29" id="BPMNEdge_sid-963200E2-0D1F-4397-9C1D-FF16809ABB29">
<omgdi:waypoint x="275.5" y="245.5"/>
<omgdi:waypoint x="275.5" y="130.0"/>
<omgdi:waypoint x="330.0" y="130.0"/>
</bpmndi:BPMNEdge>
<bpmndi:BPMNEdge bpmnElement="sid-03A0B6D0-4318-40EA-A6F8-6A0573A48FD7" id="BPMNEdge_sid-03A0B6D0-4318-40EA-A6F8-6A0573A48FD7">
<omgdi:waypoint x="665.429104477612" y="284.57089552238807"/>
<omgdi:waypoint x="665.1486988847583" y="360.0"/>
</bpmndi:BPMNEdge>
<bpmndi:BPMNEdge bpmnElement="sid-4138ADD8-0DD5-45C3-A281-2BF65E5C7228" id="BPMNEdge_sid-4138ADD8-0DD5-45C3-A281-2BF65E5C7228">
<omgdi:waypoint x="45.0" y="265.0"/>
<omgdi:waypoint x="90.0" y="265.0"/>
</bpmndi:BPMNEdge>
<bpmndi:BPMNEdge bpmnElement="sid-70CD9530-BBDC-4BD3-8FE4-577FA6DDA45A" id="BPMNEdge_sid-70CD9530-BBDC-4BD3-8FE4-577FA6DDA45A">
<omgdi:waypoint x="684.5601265822785" y="265.4398734177215"/>
<omgdi:waypoint x="810.0000696588459" y="265.0441638181109"/>
</bpmndi:BPMNEdge>
<bpmndi:BPMNEdge bpmnElement="LEAVE_APPLY_KZ" id="BPMNEdge_LEAVE_APPLY_KZ">
<omgdi:waypoint x="430.0" y="130.18450184501845"/>
<omgdi:waypoint x="495.4259259259259" y="130.42592592592592"/>
</bpmndi:BPMNEdge>
</bpmndi:BPMNPlane>
</bpmndi:BPMNDiagram>
</definitions>