<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://www.activiti.org/test">
<process id="LEAVE_APPLY_TQJ_PROCESS" name="请假流程(探亲假)" isExecutable="true">
<startEvent id="sid-186CA2D0-54AB-4214-9BED-7D61965E987E" activiti:initiator="_initiator" activiti:formUrl="/employee/leave/edit"/>
<endEvent id="sid-F3182D0B-09ED-4AE2-A6CE-5CF440B49435"/>
<userTask id="sid-93730716-E8FE-4137-93F5-7A368A39FD9C" name="请假申请" activiti:assignUsers="${_initiator}" activiti:formUrl="/employee/leave/edit?id=${task.id}">
<documentation>${task.processInstanceName}</documentation>
</userTask>
<sequenceFlow id="sid-A7461825-59AC-4674-9FB7-E624B36E787B" sourceRef="sid-186CA2D0-54AB-4214-9BED-7D61965E987E" targetRef="sid-93730716-E8FE-4137-93F5-7A368A39FD9C"/>
<exclusiveGateway id="sid-BA67D268-82CC-4629-A644-945C10943D89"/>
<userTask id="sid-711BB3E9-4601-4804-8759-D5AD6E364F3B" name="室主任审批" activiti:assignPersons="${task.handlePersonCode}" activiti:formUrl="/employee/leave/audit?id=${task.id}">
<documentation>${task.processInstanceName}</documentation>
</userTask>
<userTask id="sid-53614AB2-D263-4550-99CB-D4F91A3D5134" name="部长审批" activiti:assignPersons="${task.handlePersonCode}" activiti:formUrl="/employee/leave/audit?id=${task.id}">
<documentation>${task.processInstanceName}</documentation>
</userTask>
<userTask id="sid-E63EB46F-AF44-4DC1-9188-FCD806C7054A" name="人力资源审批" activiti:assignPersons="${task.handlePersonCode}" activiti:formUrl="/employee/leave/audit?id=${task.id}">
<documentation>${task.processInstanceName}</documentation>
</userTask>
<exclusiveGateway id="sid-1D6081CC-A05C-4113-B6A8-54B70906F609"/>
<exclusiveGateway id="sid-B79ED854-A758-40B1-A6DB-D0A5D42B0F99"/>
<sequenceFlow id="sid-64242619-853D-4023-8501-D0EF58F9EA06" name="科长" sourceRef="sid-BA67D268-82CC-4629-A644-945C10943D89" targetRef="sid-53614AB2-D263-4550-99CB-D4F91A3D5134">
<conditionExpression xsi:type="tFormalExpression">
<![CDATA[ ${task.postId==3} ]]>
</conditionExpression>
</sequenceFlow>
<sequenceFlow id="sid-5A838D48-DF36-4C10-A477-91748723DB88" name="不同意" sourceRef="sid-1D6081CC-A05C-4113-B6A8-54B70906F609" targetRef="sid-F3182D0B-09ED-4AE2-A6CE-5CF440B49435">
<conditionExpression xsi:type="tFormalExpression">
<![CDATA[ ${task.status==0} ]]>
</conditionExpression>
</sequenceFlow>
<sequenceFlow id="sid-71426182-FCBC-4F1B-B02F-45F7679C3094" name="不同意" sourceRef="sid-B79ED854-A758-40B1-A6DB-D0A5D42B0F99" targetRef="sid-F3182D0B-09ED-4AE2-A6CE-5CF440B49435">
<conditionExpression xsi:type="tFormalExpression">
<![CDATA[ ${task.status==0} ]]>
</conditionExpression>
</sequenceFlow>
<sequenceFlow id="LEAVE_APPLY_FINISH" name="提交" sourceRef="sid-E63EB46F-AF44-4DC1-9188-FCD806C7054A" targetRef="sid-F3182D0B-09ED-4AE2-A6CE-5CF440B49435"/>
<sequenceFlow id="LEAVE_APPLY_LEADER" name="提交" sourceRef="sid-53614AB2-D263-4550-99CB-D4F91A3D5134" targetRef="sid-B79ED854-A758-40B1-A6DB-D0A5D42B0F99"/>
<sequenceFlow id="LEAVE_APPLY_KZ" name="提交" sourceRef="sid-711BB3E9-4601-4804-8759-D5AD6E364F3B" targetRef="sid-1D6081CC-A05C-4113-B6A8-54B70906F609"/>
<sequenceFlow id="sid-0D4FB9C7-EA19-4480-BE88-122C8C0C0D82" name="同意" sourceRef="sid-1D6081CC-A05C-4113-B6A8-54B70906F609" targetRef="sid-53614AB2-D263-4550-99CB-D4F91A3D5134">
<conditionExpression xsi:type="tFormalExpression">
<![CDATA[ ${task.status==1} ]]>
</conditionExpression>
</sequenceFlow>
<sequenceFlow id="sid-5F363428-1928-4E5D-A48E-8B6AC36FA0CD" name="员工" sourceRef="sid-BA67D268-82CC-4629-A644-945C10943D89" targetRef="sid-711BB3E9-4601-4804-8759-D5AD6E364F3B">
<conditionExpression xsi:type="tFormalExpression">
<![CDATA[ ${task.postId==4} ]]>
</conditionExpression>
</sequenceFlow>
<sequenceFlow id="LEAVE_APPLY" name="提交" sourceRef="sid-93730716-E8FE-4137-93F5-7A368A39FD9C" targetRef="sid-BA67D268-82CC-4629-A644-945C10943D89"/>
<sequenceFlow id="sid-4853DF92-30AC-4F0A-A48F-41D935853E44" name="同意" sourceRef="sid-B79ED854-A758-40B1-A6DB-D0A5D42B0F99" targetRef="sid-E63EB46F-AF44-4DC1-9188-FCD806C7054A">
<conditionExpression xsi:type="tFormalExpression">
<![CDATA[ ${task.status==1} ]]>
</conditionExpression>
</sequenceFlow>
</process>
<bpmndi:BPMNDiagram id="BPMNDiagram_LEAVE_APPLY_TQJ_PROCESS">
<bpmndi:BPMNPlane bpmnElement="LEAVE_APPLY_TQJ_PROCESS" id="BPMNPlane_LEAVE_APPLY_TQJ_PROCESS">
<bpmndi:BPMNShape bpmnElement="sid-186CA2D0-54AB-4214-9BED-7D61965E987E" id="BPMNShape_sid-186CA2D0-54AB-4214-9BED-7D61965E987E">
<omgdc:Bounds height="30.0" width="30.0" x="30.0" y="345.0"/>
</bpmndi:BPMNShape>
<bpmndi:BPMNShape bpmnElement="sid-F3182D0B-09ED-4AE2-A6CE-5CF440B49435" id="BPMNShape_sid-F3182D0B-09ED-4AE2-A6CE-5CF440B49435">
<omgdc:Bounds height="28.0" width="28.0" x="726.0" y="346.0"/>
</bpmndi:BPMNShape>
<bpmndi:BPMNShape bpmnElement="sid-93730716-E8FE-4137-93F5-7A368A39FD9C" id="BPMNShape_sid-93730716-E8FE-4137-93F5-7A368A39FD9C">
<omgdc:Bounds height="80.0" width="100.0" x="120.0" y="320.0"/>
</bpmndi:BPMNShape>
<bpmndi:BPMNShape bpmnElement="sid-BA67D268-82CC-4629-A644-945C10943D89" id="BPMNShape_sid-BA67D268-82CC-4629-A644-945C10943D89">
<omgdc:Bounds height="40.0" width="40.0" x="295.0" y="340.0"/>
</bpmndi:BPMNShape>
<bpmndi:BPMNShape bpmnElement="sid-711BB3E9-4601-4804-8759-D5AD6E364F3B" id="BPMNShape_sid-711BB3E9-4601-4804-8759-D5AD6E364F3B">
<omgdc:Bounds height="80.0" width="100.0" x="405.0" y="60.0"/>
</bpmndi:BPMNShape>
<bpmndi:BPMNShape bpmnElement="sid-53614AB2-D263-4550-99CB-D4F91A3D5134" id="BPMNShape_sid-53614AB2-D263-4550-99CB-D4F91A3D5134">
<omgdc:Bounds height="80.0" width="100.0" x="405.0" y="320.0"/>
</bpmndi:BPMNShape>
<bpmndi:BPMNShape bpmnElement="sid-E63EB46F-AF44-4DC1-9188-FCD806C7054A" id="BPMNShape_sid-E63EB46F-AF44-4DC1-9188-FCD806C7054A">
<omgdc:Bounds height="80.0" width="100.0" x="540.0" y="450.0"/>
</bpmndi:BPMNShape>
<bpmndi:BPMNShape bpmnElement="sid-1D6081CC-A05C-4113-B6A8-54B70906F609" id="BPMNShape_sid-1D6081CC-A05C-4113-B6A8-54B70906F609">
<omgdc:Bounds height="40.0" width="40.0" x="435.0" y="195.0"/>
</bpmndi:BPMNShape>
<bpmndi:BPMNShape bpmnElement="sid-B79ED854-A758-40B1-A6DB-D0A5D42B0F99" id="BPMNShape_sid-B79ED854-A758-40B1-A6DB-D0A5D42B0F99">
<omgdc:Bounds height="40.0" width="40.0" x="570.0" y="340.0"/>
</bpmndi:BPMNShape>
<bpmndi:BPMNEdge bpmnElement="sid-4853DF92-30AC-4F0A-A48F-41D935853E44" id="BPMNEdge_sid-4853DF92-30AC-4F0A-A48F-41D935853E44">
<omgdi:waypoint x="590.5" y="379.5"/>
<omgdi:waypoint x="590.5" y="450.0"/>
</bpmndi:BPMNEdge>
<bpmndi:BPMNEdge bpmnElement="sid-0D4FB9C7-EA19-4480-BE88-122C8C0C0D82" id="BPMNEdge_sid-0D4FB9C7-EA19-4480-BE88-122C8C0C0D82">
<omgdi:waypoint x="455.5" y="234.5"/>
<omgdi:waypoint x="455.5" y="320.0"/>
</bpmndi:BPMNEdge>
<bpmndi:BPMNEdge bpmnElement="LEAVE_APPLY_LEADER" id="BPMNEdge_LEAVE_APPLY_LEADER">
<omgdi:waypoint x="505.0" y="360.1845018450185"/>
<omgdi:waypoint x="570.4259259259259" y="360.4259259259259"/>
</bpmndi:BPMNEdge>
<bpmndi:BPMNEdge bpmnElement="sid-5A838D48-DF36-4C10-A477-91748723DB88" id="BPMNEdge_sid-5A838D48-DF36-4C10-A477-91748723DB88">
<omgdi:waypoint x="474.5" y="215.5"/>
<omgdi:waypoint x="740.0" y="215.5"/>
<omgdi:waypoint x="740.0" y="346.0"/>
</bpmndi:BPMNEdge>
<bpmndi:BPMNEdge bpmnElement="LEAVE_APPLY_FINISH" id="BPMNEdge_LEAVE_APPLY_FINISH">
<omgdi:waypoint x="640.0" y="490.0"/>
<omgdi:waypoint x="740.0" y="490.0"/>
<omgdi:waypoint x="740.0" y="374.0"/>
</bpmndi:BPMNEdge>
<bpmndi:BPMNEdge bpmnElement="LEAVE_APPLY" id="BPMNEdge_LEAVE_APPLY">
<omgdi:waypoint x="220.0" y="360.17182130584195"/>
<omgdi:waypoint x="295.4310344827586" y="360.4310344827586"/>
</bpmndi:BPMNEdge>
<bpmndi:BPMNEdge bpmnElement="sid-71426182-FCBC-4F1B-B02F-45F7679C3094" id="BPMNEdge_sid-71426182-FCBC-4F1B-B02F-45F7679C3094">
<omgdi:waypoint x="609.5" y="360.5"/>
<omgdi:waypoint x="726.0" y="360.5"/>
</bpmndi:BPMNEdge>
<bpmndi:BPMNEdge bpmnElement="sid-64242619-853D-4023-8501-D0EF58F9EA06" id="BPMNEdge_sid-64242619-853D-4023-8501-D0EF58F9EA06">
<omgdi:waypoint x="334.5" y="360.5"/>
<omgdi:waypoint x="405.0" y="360.5"/>
</bpmndi:BPMNEdge>
<bpmndi:BPMNEdge bpmnElement="sid-5F363428-1928-4E5D-A48E-8B6AC36FA0CD" id="BPMNEdge_sid-5F363428-1928-4E5D-A48E-8B6AC36FA0CD">
<omgdi:waypoint x="315.5" y="340.5"/>
<omgdi:waypoint x="315.5" y="100.0"/>
<omgdi:waypoint x="405.0" y="100.0"/>
</bpmndi:BPMNEdge>
<bpmndi:BPMNEdge bpmnElement="LEAVE_APPLY_KZ" id="BPMNEdge_LEAVE_APPLY_KZ">
<omgdi:waypoint x="455.17316017316017" y="140.0"/>
<omgdi:waypoint x="455.4130434782609" y="195.41304347826087"/>
</bpmndi:BPMNEdge>
<bpmndi:BPMNEdge bpmnElement="sid-A7461825-59AC-4674-9FB7-E624B36E787B" id="BPMNEdge_sid-A7461825-59AC-4674-9FB7-E624B36E787B">
<omgdi:waypoint x="60.0" y="360.0"/>
<omgdi:waypoint x="120.0" y="360.0"/>
</bpmndi:BPMNEdge>
</bpmndi:BPMNPlane>
</bpmndi:BPMNDiagram>
</definitions>